(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"++h0":function(e,t,n){var i=n("iA3C");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},"++qQ":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i=n("am9W"),r=function(){return{number:1,size:i.a.ui.pageSize}},o=function(){return{column:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",direction:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc"}}},"+Hs3":function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,".__json-pretty__ {\n    line-height: 1.3;\n    color: #262626;\n    background: #fafafa;\n    overflow: auto;\n}\n.__json-pretty__ .__json-key__ {\n    color: #003a8c;\n}\n.__json-pretty__ .__json-value__ {\n    color: #780650;\n}\n.__json-pretty__ .__json-string__ {\n    color: #820014;\n}\n.__json-pretty__ .__json-boolean__ {\n    color: #00474f;\n}\n",""])},"+Y4i":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u});var i=n("am9W"),r="".concat(i.a.baseApi,"/api/client"),o="".concat(r,"/clients"),a="".concat(r,"/import"),s="".concat(r,"/export"),c="".concat(r,"/policies"),l="".concat(r,"/contacts"),u="".concat(r,"/merge")},"+gBU":function(e,t){},"+nZz":function(e,t,n){"use strict";var i=n("4mVn");n.o(i,"clearStatementPreview")&&n.d(t,"clearStatementPreview",function(){return i.clearStatementPreview}),n.o(i,"deleteCommissions")&&n.d(t,"deleteCommissions",function(){return i.deleteCommissions}),n.o(i,"fetchStatement")&&n.d(t,"fetchStatement",function(){return i.fetchStatement}),n.o(i,"fetchStatementPreview")&&n.d(t,"fetchStatementPreview",function(){return i.fetchStatementPreview}),n.o(i,"fetchStatements")&&n.d(t,"fetchStatements",function(){return i.fetchStatements}),n.o(i,"insertStatement")&&n.d(t,"insertStatement",function(){return i.insertStatement}),n.o(i,"receiveFilterMonth")&&n.d(t,"receiveFilterMonth",function(){return i.receiveFilterMonth}),n.o(i,"receiveFilterYear")&&n.d(t,"receiveFilterYear",function(){return i.receiveFilterYear}),n.o(i,"receiveFilters")&&n.d(t,"receiveFilters",function(){return i.receiveFilters}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions}),n.o(i,"receiveStatement")&&n.d(t,"receiveStatement",function(){return i.receiveStatement}),n.o(i,"statementPreviewSelector")&&n.d(t,"statementPreviewSelector",function(){return i.statementPreviewSelector}),n.o(i,"statementSelector")&&n.d(t,"statementSelector",function(){return i.statementSelector}),n.o(i,"updateStatement")&&n.d(t,"updateStatement",function(){return i.updateStatement});var r=n("eH4S");n.d(t,"fetchStatements",function(){return r.a}),n.d(t,"receiveFilterMonth",function(){return r.b}),n.d(t,"receiveFilterYear",function(){return r.c}),n.d(t,"receiveFilters",function(){return r.d}),n.d(t,"receivePageOptions",function(){return r.e}),n.d(t,"receiveSortOptions",function(){return r.f});var o=n("pbsF");n.d(t,"statementsSelector",function(){return o.a});var a=n("t+rW");n.d(t,"deleteCommissions",function(){return a.a}),n.d(t,"fetchStatement",function(){return a.b}),n.d(t,"insertStatement",function(){return a.c}),n.d(t,"receiveStatement",function(){return a.d}),n.d(t,"updateStatement",function(){return a.e});var s=n("WVTo");n.d(t,"statementSelector",function(){return s.a});var c=n("F0tS");n.d(t,"clearStatementPreview",function(){return c.a}),n.d(t,"fetchStatementPreview",function(){return c.b});var l=n("vqJa");n.d(t,"statementPreviewSelector",function(){return l.a})},"/XDx":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i="super_administrator",r=function(e,t){return t.some(function(t){return t==e})}},"/fkU":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l});var i=n("QJI5"),r=n("+Y4i"),o=function(e,t,n){var o=r.a;return o=Object(i.b)(o,e),o=Object(i.c)(o,t),{type:"API",endpoint:o=Object(i.a)(o,n),dispatchPrefix:"CLIENTS_LIST"}},a=function(e){return{type:"CLIENTS_LIST_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"CLIENTS_LIST_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e){return{type:"CLIENTS_LIST_FILTERS_RECEIVE",payload:e}},l=function(e){return{type:"CLIENTS_LIST_SELECTED_RECEIVE",payload:e}}},0:function(e,t){},1:function(e,t){},"1d1z":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return p});var i=n("MVZn"),r=n.n(i),o=n("wd/R"),a=n.n(o),s=n("RsWF"),c=n("YMfE"),l={type:"string",render:function(e){return e}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(e,t,r()({},n,{externalDataSource:!0}),i)},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={title:t,dataIndex:e,key:e};if((n=r()({},l,{sorter:function(t,n){return d(t,n,e)},onFilter:function(t,n){return m(t,n,e)}},n)).externalDataSource&&(n.sorter&&(n.sorter=function(){}),n.onFilter=void 0),"boolean"===n.type&&(n.render=function(e){return e?"Yes":"No"}),"date"===n.type&&(n.render=function(e){return e?a()(e).format("ll"):""}),"long-date"===n.type&&(n.render=function(e){return e?a()(e).format("lll"):""}),"currency"===n.type&&(n.render=function(e){return Object(c.d)(e)}),n.showSearchFilter&&(n=r()({},n,Object(s.O)(t))),i){var u=i[e];u&&u.length>0&&(n=r()({},n,{filtered:!0,filteredValue:u}))}return r()({},o,n)},d=function(e,t,n){var i=e[n]?e[n]:"",r=t[n]?t[n]:"";return i.localeCompare(r)},m=function(e,t,n){return-1!==t[n].toLowerCase().indexOf(e.toLowerCase())}},"1oXi":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return f});var i=n("RIqP"),r=n.n(i),o=n("MVZn"),a=n.n(o),s=n("G4qV"),c=n("bXmf"),l=Object(s.a)(function(e){return e.context},function(e){return e}),u=function(e){return e.router?e.router.location.pathname:""},p=function(e){return e.context.menus},d=Object(s.a)(u,function(e){return e.context.applications},function(e,t){return t.map(function(t){return a()({},t,{isCurrent:h(t,e)})})}),m=Object(s.a)(d,function(e){return e.filter(function(e){return e.isCurrent})[0]}),f=Object(s.a)(u,m,p,function(e,t,n){if(!t)return{relativePath:e,groups:[]};var i=n[t.id];return a()({},i,{groups:i.groups.map(function(t){return a()({},t,{links:t.links.map(function(t){return a()({},t,{isCurrent:E(i,t,e)})})})})})}),h=(Object(s.a)(f,function(e){return e.groups.reduce(function(e,t){return e.push.apply(e,r()(t.links)),e},[]).filter(function(e){return e.isCurrent})[0]}),function(e,t){return t&&"/"!==t?-1!==t.indexOf(e.relativePath):e.id===c.c}),E=function(e,t,n){return n&&"/"!==n&&n!==e.relativePath?0===n.indexOf("".concat(e.relativePath).concat(t.relativePath)):!!t.isDefault}},2:function(e,t){},"23Q7":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u});var i=n("MVZn"),r=n.n(i),o=(n("RIqP"),n("MCLT")),a=function(e,t){if(!e)return null;var n=t.find(function(t){return t.propertyName.toLowerCase()===e.toLowerCase()});return n||null},s=function(e){return null==e?"":e.toString().toLowerCase()},c=function(e){var t=[];try{t=JSON.parse(e)}catch(e){return t}return Object(o.isArray)(t)?t:[]},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?t.filter(function(t){return 0===t.propertyName.toLowerCase().indexOf(e.toLowerCase())}).map(function(t){return r()({},t,{propertyName:t.propertyName.substr(e.length+(n?0:1))})}):t},u=function(e,t,n,i){var r=a("".concat(e,"[").concat(n,"]")||!1,i||[]);return r?s(r.attemptedValue)!==s(t)?null:r.errorMessage:null}},"29Ov":function(e,t){},"2EX+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.lookups.companies.list},function(e){return e})},"2Ha8":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.lookups.clientTypes.list},function(e){return e})},"2YZa":function(e,t,n){"use strict";n.r(t);n("c9j2"),n("DvW8"),n("9ZlB"),n("++h0"),n("EKj7");var i=n("u4tm"),r=n("q1tI"),o=n.n(r),a=n("eRvM"),s=n.n(a),c=n("i8i4"),l=n.n(c),u=n("/MKj"),p=n("tRgb"),d=n("LhCv"),m=n("ANjH"),f=n("flQC"),h=n.n(f),E=n("sINF"),C=n("MCLT"),g=n("lYOk"),v=function(e,t,n,i){e&&Object(g.b)("error","Server Error: Unhandled","A server error occured please reload the page",10),console.log(i),n&&t.dispatch({type:"".concat(n,"_FETCHING_ERROR"),payload:i})},S=function(e,t,n,i,r,o){if(!Object(C.isArray)(i)){var a=JSON.stringify(i);return e&&Object(g.b)("error","Server Error: Validation",a,10),console.log(a),void(n&&t.dispatch({type:"".concat(n,"_RECEIVE"),payload:null}))}e&&Object(g.a)("error","Data not saved, check form for validation errors",6.5),r&&r(i,o),n&&t.dispatch({type:"".concat(n,"_VALIDATION_ERROR"),payload:i})},y=n("MVZn"),T=n.n(y),I={client:null,fetching:!1,updating:!1,validationResults:[]},O=n("++qQ"),b={items:[],totalItems:0,fetching:!1,pageOptions:Object(O.a)(),sortOptions:Object(O.b)("","desc"),filters:null,selectedClientIds:[]},_={clients:[],fetching:!1,currentStepIndex:0,steps:["Clients","Review","Result"],insertedClient:null},N={client:null,fetching:!1},R={items:[],fetching:!1},P=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"CLIENTS_LIST_FETCHING":return T()({},e,{fetching:!0});case"CLIENTS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"CLIENTS_LIST_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"CLIENTS_LIST_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});case"CLIENTS_LIST_FILTERS_RECEIVE":return T()({},e,{filters:T()({},t.payload)});case"CLIENTS_LIST_SELECTED_RECEIVE":return T()({},e,{selectedClientIds:t.payload});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_SEARCH_RECEIVE":return T()({},e,{items:t.payload.items,fetching:!1});case"CLIENTS_SEARCH_FETCHING":return T()({},e,{fetching:!0});case"CLIENTS_SEARCH_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_CLIENT_RECEIVE":return T()({},e,{client:t.payload,fetching:!1,validationResults:[]});case"CLIENTS_CLIENT_FETCHING":return T()({},e,{fetching:!0,client:null,validationResults:[]});case"CLIENTS_CLIENT_FETCHING_ERROR":return T()({},e,{client:null,fetching:!1});case"CLIENTS_CLIENT_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"CLIENTS_CLIENT_EDIT_RECEIVE":case"CLIENTS_CLIENT_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"CLIENTS_CLIENT_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}},preview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_CLIENT_PREVIEW_RECEIVE":return T()({},e,{client:t.payload,fetching:!1});case"CLIENTS_CLIENT_PREVIEW_FETCHING":return T()({},e,{fetching:!0});case"CLIENTS_CLIENT_PREVIEW_FETCHING_ERROR":return T()({},e,{client:null,fetching:!1});default:return e}},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_MERGE_SOURCE_RECEIVE":return T()({},e,{clients:t.payload.items,fetching:!1});case"CLIENTS_MERGE_SOURCE_FETCHING":return T()({},e,{fetching:!0});case"CLIENTS_MERGE_SOURCE_FETCHING_ERROR":return T()({},e,{clients:[],fetching:!1});case"CLIENTS_MERGE_NEXT_STEP":return T()({},e,{currentStepIndex:e.currentStepIndex+1});case"CLIENTS_MERGE_PREVIOUS_STEP":return T()({},e,{currentStepIndex:e.currentStepIndex-1});case"CLIENTS_MERGE_RESET":return T()({},e,{clients:[],currentStepIndex:0,insertedClient:null});case"CLIENTS_MERGE_RECEIVE":return T()({},e,{insertedClient:t.payload?t.payload.tag:null,fetching:!1});case"CLIENTS_MERGE_FETCHING":return T()({},e,{fetching:!0,insertedClient:null});case"CLIENTS_MERGE_FETCHING_ERROR":case"CLIENTS_MERGE_VALIDATION_ERROR":return T()({},e,{fetching:!1});default:return e}}}),j={contact:null,fetching:!1,updating:!1,validationResults:[]},L={totalItems:0,items:[],fetching:!1,pageOptions:{number:0,size:0}},A=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACTS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"CONTACTS_LIST_FETCHING":return T()({},e,{fetching:!0});case"CONTACTS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},contact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACTS_CONTACT_RECEIVE":return T()({},e,{contact:t.payload,validationResults:[],fetching:!1});case"CONTACTS_CONTACT_FETCHING":return T()({},e,{validationResults:[],fetching:!0});case"CONTACTS_CONTACT_FETCHING_ERROR":return T()({},e,{contact:null,fetching:!1});case"CONTACTS_CONTACT_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"CONTACTS_CONTACT_EDIT_RECEIVE":case"CONTACTS_CONTACT_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"CONTACTS_CONTACT_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),k=n("RIqP"),M=n.n(k),w=n("RsOY"),x=n.n(w),V={fileName:"",data:[],clients:[],resultsSuccess:[],resultsFailure:[],companyId:null,currentStepIndex:0,steps:["Select File","Configure","Verify","Import"],selectedColumns:["idNumber","firstName","lastName","email","cellphone","dateOfBirth","taxNumber","policyNumber","policyUserFullName","policyPremium","policyType","policyStartDate"],columns:[{id:"idNumber",name:"ID Number"},{id:"firstName",name:"First Name"},{id:"lastName",name:"Last Name"},{id:"email",name:"Email"},{id:"cellphone",name:"Cellphone"},{id:"dateOfBirth",name:"Date of Birth"},{id:"taxNumber",name:"Tax Number"},{id:"policyNumber",name:"Policy Number"},{id:"policyUserFullName",name:"Policy Broker"},{id:"policyPremium",name:"Policy Premium"},{id:"policyType",name:"Policy Type"},{id:"policyStartDate",name:"Policy Start Date"}]},D={fetching:!1},F={items:[]},U=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTTYPES_LIST_RECEIVE":return T()({},e,{items:t.payload});default:return e}}}),G={items:[]},H=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACTTYPES_LIST_RECEIVE":return T()({},e,{items:t.payload});default:return e}}}),Y={items:[]},B=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MARRITALSTATUS_LIST_RECEIVE":return T()({},e,{items:t.payload});default:return e}}}),z={items:[]},q=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POLICYTYPES_LIST_RECEIVE":return T()({},e,{items:t.payload});default:return e}}}),K=Object(m.c)({all:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;switch((arguments.length>1?arguments[1]:void 0).type){case"CLIENT_LOOKUPS_RECEIVE":return T()({},e,{fetching:!1});case"CLIENT_LOOKUPS_FETCHING":return T()({},e,{fetching:!0});case"CLIENT_LOOKUPS_FETCHING_ERROR":return T()({},e,{fetching:!1});default:return e}},marritalStatus:B,contactTypes:H,policyTypes:q,clientTypes:U}),W={items:[],totalItems:0,fetching:!1,pageOptions:Object(O.a)(),sortOptions:Object(O.b)("","desc"),filters:null},Q={policy:null,fetching:!1,updating:!1,validationResults:[]},X={items:[],fetching:!1},J=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POLICIES_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"POLICIES_LIST_FETCHING":return T()({},e,{fetching:!0});case"POLICIES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"POLICIES_LIST_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"POLICIES_LIST_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});case"POLICIES_LIST_FILTERS_RECEIVE":return T()({},e,{filters:T()({},t.payload)});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POLICIES_SEARCH_RECEIVE":return T()({},e,{items:t.payload.items,fetching:!1});case"POLICIES_SEARCH_FETCHING":return T()({},e,{fetching:!0});case"POLICIES_SEARCH_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},policy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POLICIES_POLICY_RECEIVE":return T()({},e,{policy:t.payload,fetching:!1,validationResults:[]});case"POLICIES_POLICY_FETCHING":return T()({},e,{fetching:!0,policy:null,validationResults:[]});case"POLICIES_POLICY_FETCHING_ERROR":return T()({},e,{policy:null,fetching:!1});case"POLICIES_POLICY_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"POLICIES_POLICY_EDIT_RECEIVE":case"POLICIES_POLICY_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"POLICIES_POLICY_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),Z=Object(m.c)({clients:P,import:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_IMPORT_FILE_NAME_RECEIVE":return T()({},e,{fileName:t.payload});case"CLIENTS_IMPORT_DATA_RECEIVE":return T()({},e,{data:t.payload});case"CLIENTS_IMPORT_COLUMNS_RECEIVE":return T()({},e,{columns:M()(t.payload)});case"CLIENTS_IMPORT_SELECTED_COLUMNS_RECEIVE":return T()({},e,{selectedColumns:M()(t.payload)});case"CLIENTS_IMPORT_CLIENTS_RECEIVE":return T()({},e,{clients:M()(t.payload)});case"CLIENTS_IMPORT_CLIENTS_REMOVE":var n=e.clients,i=n.findIndex(function(e){return e._id===t.payload});return-1==i?e:T()({},e,{clients:x()(n,{$splice:[[i,1]]})});case"CLIENTS_IMPORT_CLIENTS_POLICY_COMPANY_RECEIVE":return T()({},e,{companyId:t.payload});case"CLIENTS_IMPORT_CLIENTS_UPDATE_POLICY_COMPANIES":return T()({},e,{clients:e.clients.map(function(t){return T()({},t,{policyCompanyId:e.companyId})})});case"CLIENTS_IMPORT_CLIENTS_NEXT_STEP":return T()({},e,{currentStepIndex:e.currentStepIndex+1});case"CLIENTS_IMPORT_CLIENTS_PREVIOUS_STEP":return T()({},e,{currentStepIndex:e.currentStepIndex-1});case"CLIENTS_IMPORT_CLIENT_SUCCESS":return T()({},e,{resultsSuccess:x()(e.resultsSuccess,{$push:[t.payload]})});case"CLIENTS_IMPORT_CLIENT_FAILURE":return T()({},e,{resultsFailure:x()(e.resultsFailure,{$push:[t.payload]})});case"CLIENTS_IMPORT_CLIENT_CLEAR_RESULTS":return T()({},e,{resultsSuccess:[],resultsFailure:[]});case"CLIENTS_IMPORT_CLIENT_RESET":return T()({},e,{data:[],clients:[],resultsSuccess:[],resultsFailure:[],companyId:null,currentStepIndex:0});default:return e}},policies:J,contacts:A,lookups:K}),$={commission:null,fetching:!1,updating:!1,validationResults:[]},ee={items:[],totalItems:0,sumAmountIncludingVAT:0,sumVAT:0,fetching:!1,pageOptions:Object(O.a)(),sortOptions:Object(O.b)("","desc"),filters:null},te=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,sumAmountIncludingVAT:t.payload.sumAmountIncludingVAT,sumVAT:t.payload.sumVAT,items:t.payload.items,fetching:!1});case"COMMISSIONS_LIST_FETCHING":return T()({},e,{fetching:!0});case"COMMISSIONS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"COMMISSIONS_LIST_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"COMMISSIONS_LIST_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});case"COMMISSIONS_LIST_FILTERS_RECEIVE":return T()({},e,{filters:T()({},t.payload)});default:return e}},commission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_COMMISSION_RECEIVE":return T()({},e,{commission:t.payload,fetching:!1,validationResults:[]});case"COMMISSIONS_COMMISSION_FETCHING":return T()({},e,{fetching:!0,commission:null,validationResults:[]});case"COMMISSIONS_COMMISSION_FETCHING_ERROR":return T()({},e,{commission:null,fetching:!1});case"COMMISSIONS_COMMISSION_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"COMMISSIONS_COMMISSION_EDIT_RECEIVE":case"COMMISSIONS_COMMISSION_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"COMMISSIONS_COMMISSION_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),ne={commissionError:null,commissionErrorData:null,fetching:!1,updating:!1,validationResults:[]},ie={items:[],totalItems:0,fetching:!1,pageOptions:Object(O.a)(),sortOptions:Object(O.b)("","desc"),filters:null},re={commissionError:null,fetching:!1,updating:!1,validationResults:[]},oe=Object(m.c)({format:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_ERROR_FORMAT_RECEIVE":return T()({},e,{commissionError:t.payload,commissionErrorData:t.payload?t.payload.data:null,fetching:!1,validationResults:[]});case"COMMISSIONS_ERROR_FORMAT_FETCHING":return T()({},e,{fetching:!0,commissionError:null,commissionErrorData:null,validationResults:[]});case"COMMISSIONS_ERROR_FORMAT_FETCHING_ERROR":return T()({},e,{commissionError:null,commissionErrorData:null,fetching:!1});case"COMMISSIONS_ERROR_FORMAT_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"COMMISSIONS_ERROR_FORMAT_EDIT_RECEIVE":case"COMMISSIONS_ERROR_FORMAT_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"COMMISSIONS_ERROR_FORMAT_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}},mapping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_ERROR_MAPPING_RECEIVE":return T()({},e,{commissionError:t.payload,fetching:!1,validationResults:[]});case"COMMISSIONS_ERROR_MAPPING_FETCHING":return T()({},e,{fetching:!0,commissionError:null,validationResults:[]});case"COMMISSIONS_ERROR_MAPPING_FETCHING_ERROR":return T()({},e,{commissionError:null,fetching:!1});case"COMMISSIONS_ERROR_MAPPING_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"COMMISSIONS_ERROR_MAPPING_EDIT_RECEIVE":case"COMMISSIONS_ERROR_MAPPING_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"COMMISSIONS_ERROR_MAPPING_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_ERRORS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"COMMISSIONS_ERRORS_LIST_FETCHING":return T()({},e,{fetching:!0});case"COMMISSIONS_ERRORS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"COMMISSIONS_ERRORS_LIST_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"COMMISSIONS_ERRORS_LIST_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});default:return e}}}),ae={fetching:!1},se={items:[]},ce=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONEARNINGSTYPE_LIST_RECEIVE":return T()({},e,{items:t.payload});default:return e}}}),le={items:[]},ue=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONSTATEMENTTEMPLATEFIELDNAMES_LIST_RECEIVE":return T()({},e,{items:t.payload});default:return e}}}),pe={commissionType:null,updating:!1,validationResults:[]},de={items:[],fetching:!1},me=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONTYPES_LIST_RECEIVE":return T()({},e,{items:t.payload,fetching:!1});case"COMMISSIONTYPES_LIST_FETCHING":return T()({},e,{fetching:!0});case"COMMISSIONTYPES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},commissionType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONTYPES_COMMISSIONTYPE_RECEIVE":return T()({},e,{commissionType:t.payload,validationResults:[]});case"COMMISSIONTYPES_COMMISSIONTYPE_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"COMMISSIONTYPES_COMMISSIONTYPE_EDIT_RECEIVE":case"COMMISSIONTYPES_COMMISSIONTYPE_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"COMMISSIONTYPES_COMMISSIONTYPE_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),fe=Object(m.c)({all:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;switch((arguments.length>1?arguments[1]:void 0).type){case"COMMISSION_LOOKUPS_RECEIVE":return T()({},e,{fetching:!1});case"COMMISSION_LOOKUPS_FETCHING":return T()({},e,{fetching:!0});case"COMMISSION_LOOKUPS_FETCHING_ERROR":return T()({},e,{fetching:!1});default:return e}},commissionTypes:me,commissionStatementTemplateFieldNames:ue,commissionEarningsTypes:ce}),he=n("wd/R"),Ee=n.n(he),Ce=Ee()().subtract(1,"months"),ge={yearEnding:[Ce.year().toString()],monthEnding:[(Ce.month()+1).toString()]},ve={items:[],totalItems:0,fetching:!1,pageOptions:Object(O.a)(),sortOptions:Object(O.b)("","desc"),filters:ge},Se=Object(m.c)({clientRevenue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_REPORT_MEM_REVENUE_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"COMMISSIONS_REPORT_MEM_REVENUE_FETCHING":return T()({},e,{fetching:!0});case"COMMISSIONS_REPORT_MEM_REVENUE_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"COMMISSIONS_REPORT_MEM_REVENUE_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"COMMISSIONS_REPORT_MEM_REVENUE_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});case"COMMISSIONS_REPORT_MEM_REVENUE_FILTERS_RECEIVE":return T()({},e,{filters:T()({},t.payload)});default:return e}}}),ye={items:[],totalItems:0,sumAmountIncludingVAT:0,sumVAT:0,fetching:!1,pageOptions:Object(O.a)(),sortOptions:Object(O.b)("","desc"),filterMonth:Ee()().month()+1,filterYear:Ee()().year(),filters:null},Te={statement:null,fetching:!1},Ie={statement:null,fetching:!1,updating:!1,validationResults:[]},Oe=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATEMENTS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,sumAmountIncludingVAT:t.payload.sumAmountIncludingVAT,sumVAT:t.payload.sumVAT,items:t.payload.items,fetching:!1});case"STATEMENTS_LIST_FETCHING":return T()({},e,{fetching:!0});case"STATEMENTS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"STATEMENTS_LIST_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"STATEMENTS_LIST_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});case"STATEMENTS_LIST_FILTERS_RECEIVE":return T()({},e,{filters:T()({},t.payload)});case"STATEMENTS_LIST_FILTERS_MONTH_RECEIVE":return T()({},e,{filterMonth:t.payload});case"STATEMENTS_LIST_FILTERS_YEAR_RECEIVE":return T()({},e,{filterYear:t.payload});default:return e}},statement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATEMENTS_STATEMENT_RECEIVE":return T()({},e,{statement:t.payload,fetching:!1,validationResults:[]});case"STATEMENTS_STATEMENT_FETCHING":return T()({},e,{fetching:!0,statement:null,validationResults:[]});case"STATEMENTS_STATEMENT_FETCHING_ERROR":return T()({},e,{statement:null,fetching:!1});case"STATEMENTS_STATEMENT_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"STATEMENTS_STATEMENT_EDIT_RECEIVE":case"STATEMENTS_STATEMENT_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"STATEMENTS_STATEMENT_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}},preview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATEMENTS_STATEMENT_PREVIEW_RECEIVE":return T()({},e,{statement:t.payload.items[0],fetching:!1});case"STATEMENTS_STATEMENT_PREVIEW_FETCHING":return T()({},e,{fetching:!0});case"STATEMENTS_STATEMENT_PREVIEW_FETCHING_ERROR":return T()({},e,{statement:null,fetching:!1});case"STATEMENTS_STATEMENT_PREVIEW_CLEAR":return T()({},e,{statement:null});default:return e}}}),be={items:[],totalItems:0,fetching:!1},_e={template:null,fetching:!1,updating:!1,validationResults:[]},Ne=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_STATEMENT_TEMPLATES_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"COMMISSIONS_STATEMENT_TEMPLATES_LIST_FETCHING":return T()({},e,{fetching:!0});case"COMMISSIONS_STATEMENT_TEMPLATES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},template:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMISSIONS_STATEMENT_TEMPLATE_RECEIVE":return T()({},e,{template:t.payload,fetching:!1,validationResults:[]});case"COMMISSIONS_STATEMENT_TEMPLATE_FETCHING":return T()({},e,{fetching:!0,template:null,validationResults:[]});case"COMMISSIONS_STATEMENT_TEMPLATE_FETCHING_ERROR":return T()({},e,{template:null,fetching:!1});case"COMMISSIONS_STATEMENT_TEMPLATE_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"COMMISSIONS_STATEMENT_TEMPLATE_EDIT_RECEIVE":case"COMMISSIONS_STATEMENT_TEMPLATE_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"COMMISSIONS_STATEMENT_TEMPLATE_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),Re=Object(m.c)({commissions:te,statements:Oe,errors:oe,templates:Ne,reports:Se,lookups:fe}),Pe={items:[],fetching:!1},je=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLICATIONS_LIST_RECEIVE":return T()({},e,{items:t.payload,fetching:!1});case"APPLICATIONS_LIST_FETCHING":return T()({},e,{fetching:!0});case"APPLICATIONS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}}}),Le=n("tvWd"),Ae={items:[],totalItems:0,fetching:!1,pageOptions:Object(Le.defaultPageOptions)(),sortOptions:Object(Le.defaultSortOptions)("","desc"),filters:null},ke=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUDIT_LOGS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"AUDIT_LOGS_LIST_FETCHING":return T()({},e,{fetching:!0});case"AUDIT_LOGS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});case"AUDIT_LOGS_LIST_PAGE_OPTIONS_RECEIVE":return T()({},e,{pageOptions:T()({},t.payload)});case"AUDIT_LOGS_LIST_SORT_OPTIONS_RECEIVE":return T()({},e,{sortOptions:T()({},t.payload)});case"AUDIT_LOGS_LIST_FILTERS_RECEIVE":return T()({},e,{filters:T()({},t.payload)});default:return e}}}),Me=Object(m.c)({logs:ke}),we={branch:null,fetching:!1,updating:!1,validationResults:[]},xe={items:[],fetching:!1},Ve=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BRANCHES_LIST_RECEIVE":return T()({},e,{items:t.payload.items,fetching:!1});case"BRANCHES_LIST_FETCHING":return T()({},e,{fetching:!0});case"BRANCHES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},branch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BRANCHES_BRANCH_RECEIVE":return T()({},e,{branch:t.payload,validationResults:[],fetching:!1});case"BRANCHES_BRANCH_FETCHING":return T()({},e,{validationResults:[],fetching:!0});case"BRANCHES_BRANCH_FETCHING_ERROR":return T()({},e,{branch:null,fetching:!1});case"BRANCHES_BRANCH_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"BRANCHES_BRANCH_EDIT_RECEIVE":case"BRANCHES_BRANCH_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"BRANCHES_BRANCH_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),De={fetching:!1},Fe={company:null,updating:!1,validationResults:[]},Ue={items:[],fetching:!1},Ge=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANIES_LIST_RECEIVE":return T()({},e,{items:t.payload,fetching:!1});case"COMPANIES_LIST_FETCHING":return T()({},e,{fetching:!0});case"COMPANIES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANIES_COMPANY_RECEIVE":return T()({},e,{company:t.payload,validationResults:[]});case"COMPANIES_COMPANY_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"COMPANIES_COMPANY_EDIT_RECEIVE":case"COMPANIES_COMPANY_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"COMPANIES_COMPANY_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),He=Object(m.c)({all:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;switch((arguments.length>1?arguments[1]:void 0).type){case"DIRECTORY_LOOKUPS_RECEIVE":return T()({},e,{fetching:!1});case"DIRECTORY_LOOKUPS_FETCHING":return T()({},e,{fetching:!0});case"DIRECTORY_LOOKUPS_FETCHING_ERROR":return T()({},e,{fetching:!1});default:return e}},companies:Ge}),Ye={totalItems:0,items:[],fetching:!1,pageOptions:{number:0,size:0}},Be={organisation:null,fetching:!1,updating:!1,validationResults:[]},ze=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORGANISATIONS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"ORGANISATIONS_LIST_FETCHING":return T()({},e,{fetching:!0});case"ORGANISATIONS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},organisation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORGANISATIONS_ORGANISATION_RECEIVE":return T()({},e,{organisation:t.payload,validationResults:[],fetching:!1});case"ORGANISATIONS_ORGANISATION_FETCHING":return T()({},e,{validationResults:[],fetching:!0});case"ORGANISATIONS_ORGANISATION_FETCHING_ERROR":return T()({},e,{organisation:null,fetching:!1});case"ORGANISATIONS_ORGANISATION_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"ORGANISATIONS_ORGANISATION_EDIT_RECEIVE":case"ORGANISATIONS_ORGANISATION_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"ORGANISATIONS_ORGANISATION_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),qe={items:[],fetching:!1},Ke={role:null,fetching:!1,updating:!1,validationResults:[]},We=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROLES_LIST_RECEIVE":return T()({},e,{items:t.payload,fetching:!1});case"ROLES_LIST_FETCHING":return T()({},e,{fetching:!0});case"ROLES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},role:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROLES_ROLE_RECEIVE":return T()({},e,{role:t.payload,validationResults:[],fetching:!1});case"ROLES_ROLE_FETCHING":return T()({},e,{role:null,validationResults:[],fetching:!0});case"ROLES_ROLE_FETCHING_ERROR":return T()({},e,{role:null,fetching:!1});case"ROLES_ROLE_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"ROLES_ROLE_EDIT_RECEIVE":case"ROLES_ROLE_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"ROLES_ROLE_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),Qe={items:[],fetching:!1},Xe=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USECASES_LIST_RECEIVE":return T()({},e,{items:t.payload,fetching:!1});case"USECASES_LIST_FETCHING":return T()({},e,{fetching:!0});case"USECASES_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}}}),Je={totalItems:0,items:[],fetching:!1,pageOptions:Object(O.a)()},Ze={user:null,fetching:!1,updating:!1,validationResults:[]},$e=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"USERS_LIST_FETCHING":return T()({},e,{fetching:!0});case"USERS_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_USER_RECEIVE":return T()({},e,{user:t.payload,fetching:!1,validationResults:[]});case"USERS_USER_FETCHING":return T()({},e,{fetching:!0,user:null,validationResults:[]});case"USERS_USER_FETCHING_ERROR":return T()({},e,{user:null,fetching:!1});case"USERS_USER_EDIT_FETCHING":return T()({},e,{updating:!0,validationResults:[]});case"USERS_USER_EDIT_RECEIVE":case"USERS_USER_EDIT_FETCHING_ERROR":return T()({},e,{updating:!1});case"USERS_USER_EDIT_VALIDATION_ERROR":return T()({},e,{updating:!1,validationResults:t.payload});default:return e}}}),et={totalItems:0,items:[],fetching:!1},tt={userSimple:null,fetching:!1},nt=Object(m.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERSSIMPLE_LIST_RECEIVE":return T()({},e,{totalItems:t.payload.totalItems,items:t.payload.items,fetching:!1});case"USERSSIMPLE_LIST_FETCHING":return T()({},e,{fetching:!0});case"USERSSIMPLE_LIST_FETCHING_ERROR":return T()({},e,{items:[],fetching:!1});default:return e}},userSimple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERSSIMPLE_USER_RECEIVE":return T()({},e,{userSimple:t.payload,fetching:!1});case"USERSSIMPLE_USER_FETCHING":return T()({},e,{fetching:!0,userSimple:null});case"USERSSIMPLE_USER_FETCHING_ERROR":return T()({},e,{userSimple:null,fetching:!1});default:return e}}}),it=Object(m.c)({users:$e,usersSimple:nt,organisations:ze,roles:We,applications:je,useCases:Xe,branches:Ve,lookups:He,audit:Me}),rt=Object(m.c)({directory:it,client:Z,commission:Re}),ot={fetching:!1,validationResults:[]},at={fetching:!1,validationResults:[],signInFailed:!1},st=function(){return localStorage.getItem("token")},ct=n("BOF4"),lt=n.n(ct),ut=function(e){if(null===e)return null;try{return lt()(e)}catch(e){return console.error(e),null}},pt={token:st(),tokenData:ut(st())},dt=Object(m.c)({resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_RESETPASSWORD_FETCHING":return T()({},e,{fetching:!0,validationResults:[]});case"AUTH_RESETPASSWORD_RECEIVE":case"AUTH_RESETPASSWORD_FETCHING_ERROR":return T()({},e,{fetching:!1});case"AUTH_RESETPASSWORD_VALIDATION_ERROR":return T()({},e,{fetching:!1,validationResults:t.payload});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SIGNIN_FETCHING":return T()({},e,{fetching:!0,validationResults:[],signInFailed:!1});case"AUTH_SIGNIN_RECEIVE":case"AUTH_SIGNIN_FETCHING_ERROR":return T()({},e,{fetching:!1});case"AUTH_SIGNIN_VALIDATION_ERROR":return T()({},e,{fetching:!1,validationResults:t.payload,signInFailed:!0});default:return e}},token:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTH_TOKEN_RECEIVE":return null!==(e=n.payload)?localStorage.setItem("token",e):localStorage.removeItem("token"),T()({},t,{token:n.payload,tokenData:ut(n.payload)});default:return t}}}),mt=n("bXmf"),ft=n("LiuA"),ht={appInfo:null,applications:mt.e,menus:ft.b},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTEXT_APP_INFO_RECEIVE":return T()({},e,{appInfo:t.payload});default:return e}},Ct=function(e){return Object(m.c)({app:rt,context:Et,auth:dt,router:Object(i.b)(e)})},gt=Object(d.a)({basename:"/"}),vt=[E.a,h.a,function(e){return function(t){return function(n){if("API"!==n.type)return t(n);var i=n.endpoint,r=n.method,o=n.dispatchPrefix,a=n.payload,s={method:r||"GET",headers:{Authorization:"Bearer "+e.getState().auth.token.token,"Content-Type":"application/json; charset=utf-8"}};a&&(s.body=JSON.stringify(a)),o&&e.dispatch({type:"".concat(o,"_FETCHING")});var c=void 0===n.hideNotifications||!0!==n.hideNotifications,l=void 0===n.hideValidationNotifications||!0!==n.hideValidationNotifications;fetch(i,s).then(function(t){if(500===t.status)return t.text().then(function(t){n.onFailure&&n.onFailure(t),v(c,e,o,t)});if(n.onSuccessBlob)t.blob().then(function(t){n.onSuccessBlob&&n.onSuccessBlob(t,e.dispatch)});else if(401!==t.status){if(404!==t.status)return t.json().then(function(i){return 400===t.status?(n.onFailure&&n.onFailure(i),void S(c&&l,e,o,i,n.onValidationFailure,e.dispatch)):(n.onSuccess&&n.onSuccess(i,e.dispatch),o&&e.dispatch({type:"".concat(o,"_RECEIVE"),payload:i}),i)});o&&e.dispatch({type:"".concat(o,"_RECEIVE"),payload:null})}else Object(g.b)("error","Unauthorized","Unauthorized Api call to '".concat(i,"'"),20)}).catch(function(t){n.onFailure&&n.onFailure(t),v(c,e,o,t)})}}},Object(p.a)(gt)],St=[];window.__REDUX_DEVTOOLS_EXTENSION__&&St.push(window.__REDUX_DEVTOOLS_EXTENSION__());s.a.init({instrumentationKey:"d6a6493c-18e7-4368-b44e-b0d9ac3d3151"},gt);var yt,Tt=Object(m.e)(Ct(gt),void 0,m.d.apply(void 0,[m.a.apply(void 0,vt)].concat(St))),It=document.getElementById("root");yt=n("j013").default,l.a.render(o.a.createElement(u.a,{store:Tt},o.a.createElement(i.a,{history:gt},o.a.createElement(yt,null))),It)},"2vcg":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.templates.template},function(e){return e})},"3FI6":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c});var i=n("+Y4i"),r=function(e){return{type:"CONTACTS_CONTACT_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.d,"/").concat(e),dispatchPrefix:"CONTACTS_CONTACT"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.d,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"CONTACTS_CONTACT_EDIT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.d),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"CONTACTS_CONTACT_EDIT"}},c=function(e,t){return{type:"API",endpoint:"".concat(i.d,"/").concat(e),method:"DELETE",onSuccess:t}}},"3jNk":function(e,t,n){"use strict";var i=n("fROL");n.o(i,"fetchPolicies")&&n.d(t,"fetchPolicies",function(){return i.fetchPolicies}),n.o(i,"fetchPolicy")&&n.d(t,"fetchPolicy",function(){return i.fetchPolicy}),n.o(i,"getPolicies")&&n.d(t,"getPolicies",function(){return i.getPolicies}),n.o(i,"getPolicy")&&n.d(t,"getPolicy",function(){return i.getPolicy}),n.o(i,"insertPolicy")&&n.d(t,"insertPolicy",function(){return i.insertPolicy}),n.o(i,"newPolicy")&&n.d(t,"newPolicy",function(){return i.newPolicy}),n.o(i,"policySelector")&&n.d(t,"policySelector",function(){return i.policySelector}),n.o(i,"receiveFilters")&&n.d(t,"receiveFilters",function(){return i.receiveFilters}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receivePolicy")&&n.d(t,"receivePolicy",function(){return i.receivePolicy}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions}),n.o(i,"searchPolicies")&&n.d(t,"searchPolicies",function(){return i.searchPolicies}),n.o(i,"updatePolicy")&&n.d(t,"updatePolicy",function(){return i.updatePolicy});var r=n("tdG1");n.d(t,"fetchPolicies",function(){return r.a}),n.d(t,"getPolicies",function(){return r.b}),n.d(t,"receiveFilters",function(){return r.c}),n.d(t,"receivePageOptions",function(){return r.d}),n.d(t,"receiveSortOptions",function(){return r.e});var o=n("Cz3L");n.d(t,"policiesSelector",function(){return o.a});var a=n("ZtDm");n.d(t,"searchPolicies",function(){return a.a});var s=n("D9Oy");n.d(t,"policySearchSelector",function(){return s.a});var c=n("A78C");n.d(t,"fetchPolicy",function(){return c.a}),n.d(t,"getPolicy",function(){return c.b}),n.d(t,"insertPolicy",function(){return c.c}),n.d(t,"receivePolicy",function(){return c.d}),n.d(t,"updatePolicy",function(){return c.e});var l=n("USqm");n.d(t,"policySelector",function(){return l.a});var u=n("vwnz");n.d(t,"newPolicy",function(){return u.a})},"3xRh":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.contacts.contact},function(e){return e})},"4IQE":function(e,t){},"4Oj7":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var i=n("DP+r"),r=function(e){return{type:"COMPANIES_LIST_RECEIVE",payload:e}},o=function(){return{type:"API",endpoint:i.f,dispatchPrefix:"COMPANIES_LIST"}}},"4V68":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.clients.client},function(e){return e})},"4mVn":function(e,t){},"5r0A":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u});var i=n("+Y4i"),r=function(e){return{type:"CLIENTS_CLIENT_RECEIVE",payload:e}},o=function(e,t){return{type:"API",endpoint:"".concat(i.a,"/").concat(e),onSuccess:t}},a=function(e){return{type:"API",endpoint:"".concat(i.a,"/").concat(e),dispatchPrefix:"CLIENTS_CLIENT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.a,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"CLIENTS_CLIENT_EDIT"}},c=function(e,t){return{type:"API",endpoint:"".concat(i.a),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"CLIENTS_CLIENT_EDIT"}},l=function(e,t){return{type:"API",endpoint:"".concat(i.a,"/").concat(e),method:"DELETE",onSuccess:t,dispatchPrefix:"CLIENTS_CLIENT_EDIT"}},u=function(e){return{type:"CLIENTS_CLIENT_EDIT_VALIDATION_ERROR",payload:e}}},"6KxC":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.lookups.commissionEarningsTypes.list},function(e){return e})},"6NaE":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.organisations.organisation},function(e){return e})},"6i/8":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.auth.signIn},function(e){return e})},"8EnN":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.auth.resetPassword},function(e){return e})},"8W22":function(e,t){},"8pPz":function(e,t,n){"use strict";var i=n("esbR");n.o(i,"clientMergeNextStep")&&n.d(t,"clientMergeNextStep",function(){return i.clientMergeNextStep}),n.o(i,"clientMergePreviousStep")&&n.d(t,"clientMergePreviousStep",function(){return i.clientMergePreviousStep}),n.o(i,"clientMergeReset")&&n.d(t,"clientMergeReset",function(){return i.clientMergeReset}),n.o(i,"clientMergeSelector")&&n.d(t,"clientMergeSelector",function(){return i.clientMergeSelector}),n.o(i,"clientPreviewSelector")&&n.d(t,"clientPreviewSelector",function(){return i.clientPreviewSelector}),n.o(i,"clientSelector")&&n.d(t,"clientSelector",function(){return i.clientSelector}),n.o(i,"deleteClient")&&n.d(t,"deleteClient",function(){return i.deleteClient}),n.o(i,"fetchClient")&&n.d(t,"fetchClient",function(){return i.fetchClient}),n.o(i,"fetchClientPreview")&&n.d(t,"fetchClientPreview",function(){return i.fetchClientPreview}),n.o(i,"fetchClients")&&n.d(t,"fetchClients",function(){return i.fetchClients}),n.o(i,"fetchMergeClients")&&n.d(t,"fetchMergeClients",function(){return i.fetchMergeClients}),n.o(i,"getAlternateIdNumberLabel")&&n.d(t,"getAlternateIdNumberLabel",function(){return i.getAlternateIdNumberLabel}),n.o(i,"getClient")&&n.d(t,"getClient",function(){return i.getClient}),n.o(i,"getDateOfBirthLabel")&&n.d(t,"getDateOfBirthLabel",function(){return i.getDateOfBirthLabel}),n.o(i,"getLastNameLabel")&&n.d(t,"getLastNameLabel",function(){return i.getLastNameLabel}),n.o(i,"insertClient")&&n.d(t,"insertClient",function(){return i.insertClient}),n.o(i,"mergeClients")&&n.d(t,"mergeClients",function(){return i.mergeClients}),n.o(i,"newClient")&&n.d(t,"newClient",function(){return i.newClient}),n.o(i,"receiveClient")&&n.d(t,"receiveClient",function(){return i.receiveClient}),n.o(i,"receiveClientPreview")&&n.d(t,"receiveClientPreview",function(){return i.receiveClientPreview}),n.o(i,"receiveClientValidationResults")&&n.d(t,"receiveClientValidationResults",function(){return i.receiveClientValidationResults}),n.o(i,"receiveFilters")&&n.d(t,"receiveFilters",function(){return i.receiveFilters}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receiveSelectedClients")&&n.d(t,"receiveSelectedClients",function(){return i.receiveSelectedClients}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions}),n.o(i,"searchClients")&&n.d(t,"searchClients",function(){return i.searchClients}),n.o(i,"updateClient")&&n.d(t,"updateClient",function(){return i.updateClient});var r=n("/fkU");n.d(t,"fetchClients",function(){return r.a}),n.d(t,"receiveFilters",function(){return r.b}),n.d(t,"receivePageOptions",function(){return r.c}),n.d(t,"receiveSelectedClients",function(){return r.d}),n.d(t,"receiveSortOptions",function(){return r.e});var o=n("Vg4D");n.d(t,"clientsSelector",function(){return o.a});var a=n("oBco");n.d(t,"searchClients",function(){return a.a});var s=n("kL6p");n.d(t,"clientSearchSelector",function(){return s.a});var c=n("5r0A");n.d(t,"deleteClient",function(){return c.a}),n.d(t,"fetchClient",function(){return c.b}),n.d(t,"getClient",function(){return c.c}),n.d(t,"insertClient",function(){return c.d}),n.d(t,"receiveClient",function(){return c.e}),n.d(t,"receiveClientValidationResults",function(){return c.f}),n.d(t,"updateClient",function(){return c.g});var l=n("4V68");n.d(t,"clientSelector",function(){return l.a});var u=n("KqhQ");n.d(t,"getAlternateIdNumberLabel",function(){return u.a}),n.d(t,"getDateOfBirthLabel",function(){return u.b}),n.d(t,"getLastNameLabel",function(){return u.c}),n.d(t,"newClient",function(){return u.d});var p=n("eD0R");n.d(t,"fetchClientPreview",function(){return p.a}),n.d(t,"receiveClientPreview",function(){return p.b});var d=n("z6ay");n.d(t,"clientPreviewSelector",function(){return d.a});var m=n("d4ui");n.d(t,"clientMergeNextStep",function(){return m.a}),n.d(t,"clientMergePreviousStep",function(){return m.b}),n.d(t,"clientMergeReset",function(){return m.c}),n.d(t,"fetchMergeClients",function(){return m.d}),n.d(t,"mergeClients",function(){return m.e});var f=n("m4BV");n.d(t,"clientMergeSelector",function(){return f.a})},"9EF6":function(e,t,n){"use strict";var i=n("DP+r"),r=function(e){return{type:"COMMISSIONTYPES_LIST_RECEIVE",payload:e}},o=function(){return{type:"API",endpoint:i.e,dispatchPrefix:"COMMISSIONTYPES_LIST"}},a=n("G4qV"),s=Object(a.a)(function(e){return e.app.commission.lookups.commissionTypes.list},function(e){return e}),c=function(e){return{type:"COMMISSIONTYPES_COMMISSIONTYPE_RECEIVE",payload:e}},l=function(e,t){return{type:"API",endpoint:"".concat(i.e,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"COMMISSIONTYPES_COMMISSIONTYPE_EDIT"}},u=function(e,t){return{type:"API",endpoint:"".concat(i.e),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"COMMISSIONTYPES_COMMISSIONTYPE_EDIT"}},p=Object(a.a)(function(e){return e.app.commission.lookups.commissionTypes.commissionType},function(e){return e});n.d(t,"a",function(){return"unknown"}),n.d(t,"g",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return p})},"9SaQ":function(e,t,n){"use strict";var i=n("xi7i");n.d(t,"fetchClientRevenueData",function(){return i.a}),n.d(t,"receiveFilters",function(){return i.b}),n.d(t,"receivePageOptions",function(){return i.c}),n.d(t,"receiveSortOptions",function(){return i.d});n("mnec");var r=n("HZaZ");n.d(t,"clientRevenueSelector",function(){return r.a})},"9ZlB":function(e,t,n){var i=n("hGN7");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},A78C:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c});var i=n("+Y4i"),r=function(e){return{type:"POLICIES_POLICY_RECEIVE",payload:e}},o=function(e,t){return{type:"API",endpoint:"".concat(i.f,"/").concat(e),onSuccess:t}},a=function(e){return{type:"API",endpoint:"".concat(i.f,"/").concat(e),dispatchPrefix:"POLICIES_POLICY"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.f,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"POLICIES_POLICY_EDIT"}},c=function(e,t){return{type:"API",endpoint:"".concat(i.f),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"POLICIES_POLICY_EDIT"}}},AHnv:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.applications.list},function(e){return e})},AbcW:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.useCases.list},function(e){return e})},AiQ3:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.usersSimple.list},function(e){return e})},"Bg7+":function(e,t,n){"use strict";var i=n("+gBU");n.o(i,"commissionSelector")&&n.d(t,"commissionSelector",function(){return i.commissionSelector}),n.o(i,"fetchCommission")&&n.d(t,"fetchCommission",function(){return i.fetchCommission}),n.o(i,"fetchCommissions")&&n.d(t,"fetchCommissions",function(){return i.fetchCommissions}),n.o(i,"insertCommission")&&n.d(t,"insertCommission",function(){return i.insertCommission}),n.o(i,"receiveCommission")&&n.d(t,"receiveCommission",function(){return i.receiveCommission}),n.o(i,"receiveFilters")&&n.d(t,"receiveFilters",function(){return i.receiveFilters}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions}),n.o(i,"updateCommission")&&n.d(t,"updateCommission",function(){return i.updateCommission});var r=n("FsqQ");n.d(t,"fetchCommissions",function(){return r.a}),n.d(t,"receiveFilters",function(){return r.b}),n.d(t,"receivePageOptions",function(){return r.c}),n.d(t,"receiveSortOptions",function(){return r.d});var o=n("dIH/");n.d(t,"commissionsSelector",function(){return o.a});var a=n("S96g");n.d(t,"fetchCommission",function(){return a.a}),n.d(t,"insertCommission",function(){return a.b}),n.d(t,"receiveCommission",function(){return a.c}),n.d(t,"updateCommission",function(){return a.d});var s=n("WgaQ");n.d(t,"commissionSelector",function(){return s.a})},CaIi:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.Individual="27bb22b3-4c3d-41a3-48bf-690a98f8f780",e.Company="295565bf-7485-85f1-6c98-947ab0b7770c",e.Trust="55f6c0ef-ae2c-faac-adff-ea3bd269043f"}(i||(i={}))},Cni2:function(e,t,n){"use strict";var i=n("PAEk");n.o(i,"fetchErrors")&&n.d(t,"fetchErrors",function(){return i.fetchErrors}),n.o(i,"fetchMappingError")&&n.d(t,"fetchMappingError",function(){return i.fetchMappingError}),n.o(i,"fetchNextFormatError")&&n.d(t,"fetchNextFormatError",function(){return i.fetchNextFormatError}),n.o(i,"fetchNextMappingError")&&n.d(t,"fetchNextMappingError",function(){return i.fetchNextMappingError}),n.o(i,"formatErrorSelector")&&n.d(t,"formatErrorSelector",function(){return i.formatErrorSelector}),n.o(i,"mappingErrorSelector")&&n.d(t,"mappingErrorSelector",function(){return i.mappingErrorSelector}),n.o(i,"receiveFormatError")&&n.d(t,"receiveFormatError",function(){return i.receiveFormatError}),n.o(i,"receiveMappingError")&&n.d(t,"receiveMappingError",function(){return i.receiveMappingError}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions}),n.o(i,"resolveFormatError")&&n.d(t,"resolveFormatError",function(){return i.resolveFormatError}),n.o(i,"resolveMappingError")&&n.d(t,"resolveMappingError",function(){return i.resolveMappingError});var r=n("bCZZ");n.d(t,"fetchNextFormatError",function(){return r.a}),n.d(t,"receiveFormatError",function(){return r.b}),n.d(t,"resolveFormatError",function(){return r.c});var o=n("u1lo");n.d(t,"formatErrorSelector",function(){return o.a});var a=n("cXah");n.d(t,"fetchErrors",function(){return a.a}),n.d(t,"receivePageOptions",function(){return a.c}),n.d(t,"receiveSortOptions",function(){return a.d});var s=n("plwz");n.d(t,"commissionErrorsSelector",function(){return s.a});var c=n("xFs7");n.d(t,"fetchMappingError",function(){return c.a}),n.d(t,"fetchNextMappingError",function(){return c.b}),n.d(t,"receiveMappingError",function(){return c.c}),n.d(t,"resolveMappingError",function(){return c.d});var l=n("fmlm");n.d(t,"mappingErrorSelector",function(){return l.a})},Cz3L:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.policies.list},function(e){return e})},D9Oy:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.policies.search},function(e){return e})},"DP+r":function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return h});var i=n("am9W"),r="".concat(i.a.baseApi,"/api/directory"),o=("".concat(r,"/identity"),"".concat(r,"/users")),a="".concat(r,"/organisations"),s="".concat(r,"/roles"),c="".concat(r,"/applications"),l="".concat(r,"/usecases"),u="".concat(r,"/branches"),p="".concat(r,"/audit"),d="".concat(r,"/lookups"),m="".concat(d,"/all"),f="".concat(d,"/companies"),h="".concat(d,"/commissionTypes")},DVeo:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.lookups.all},function(e){return e})},Dllk:function(e,t,n){"use strict";var i=n("iTDW");n.o(i,"branchSelector")&&n.d(t,"branchSelector",function(){return i.branchSelector}),n.o(i,"fetchBranch")&&n.d(t,"fetchBranch",function(){return i.fetchBranch}),n.o(i,"fetchBranches")&&n.d(t,"fetchBranches",function(){return i.fetchBranches}),n.o(i,"insertBranch")&&n.d(t,"insertBranch",function(){return i.insertBranch}),n.o(i,"receiveBranch")&&n.d(t,"receiveBranch",function(){return i.receiveBranch}),n.o(i,"updateBranch")&&n.d(t,"updateBranch",function(){return i.updateBranch});var r=n("n/Ll");n.d(t,"fetchBranches",function(){return r.a});var o=n("NXyy");n.d(t,"branchesSelector",function(){return o.a});var a=n("kE2/");n.d(t,"fetchBranch",function(){return a.a}),n.d(t,"insertBranch",function(){return a.b}),n.d(t,"receiveBranch",function(){return a.c}),n.d(t,"updateBranch",function(){return a.d});var s=n("sR/1");n.d(t,"branchSelector",function(){return s.a})},DvW8:function(e,t,n){var i=n("mhXT");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},EKj7:function(e,t,n){var i=n("+Hs3");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},ExRG:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var i=n("am9W"),r="".concat(i.a.baseApi,"/api/account"),o="".concat(r,"/signin"),a="".concat(r,"/activate"),s="".concat(r,"/resetPassword"),c="".concat(r,"/resetPasswordRequest")},F0tS:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var i=n("QJI5"),r=n("Lq9/"),o=function(e){var t=r.e;return{type:"API",endpoint:t=Object(i.a)(t,{commissionStatementId:[e]}),dispatchPrefix:"STATEMENTS_STATEMENT_PREVIEW"}},a=function(){return{type:"STATEMENTS_STATEMENT_PREVIEW_CLEAR"}}},FsqQ:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c});var i=n("QJI5"),r=n("Lq9/"),o=function(e,t,n){var o=r.b;return o=Object(i.b)(o,e),o=Object(i.c)(o,t),{type:"API",endpoint:o=Object(i.a)(o,n),dispatchPrefix:"COMMISSIONS_LIST"}},a=function(e){return{type:"COMMISSIONS_LIST_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"COMMISSIONS_LIST_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e){return{type:"COMMISSIONS_LIST_FILTERS_RECEIVE",payload:e}}},Gels:function(e,t){},GhH9:function(e,t){},HZaZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.reports.clientRevenue},function(e){return e})},HlSv:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.lookups.contactTypes.list},function(e){return e})},IOS4:function(e,t){},JiH6:function(e,t,n){"use strict";var i=n("Gels");n.o(i,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return i.ClientTypeId}),n.o(i,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return i.clientLookupsSelector}),n.o(i,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return i.clientTypesSelector}),n.o(i,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return i.fetchAllClientLookups}),n.o(i,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return i.marritalStatusSelector}),n.o(i,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return i.policyTypesSelector}),n.o(i,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return i.receiveClientTypes}),n.o(i,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return i.receiveContactTypes}),n.o(i,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return i.receiveMarritalStatus}),n.o(i,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return i.receivePolicyTypes});var r=n("RYzo");n.d(t,"receiveContactTypes",function(){return r.a});var o=n("HlSv");n.d(t,"contactTypesSelector",function(){return o.a})},KAEM:function(e,t,n){"use strict";var i=n("jTke");n.o(i,"commissionEarningsTypesSelector")&&n.d(t,"commissionEarningsTypesSelector",function(){return i.commissionEarningsTypesSelector}),n.o(i,"commissionLookupsSelector")&&n.d(t,"commissionLookupsSelector",function(){return i.commissionLookupsSelector}),n.o(i,"fetchAllCommissionLookups")&&n.d(t,"fetchAllCommissionLookups",function(){return i.fetchAllCommissionLookups}),n.o(i,"receiveCommissionEarningsTypes")&&n.d(t,"receiveCommissionEarningsTypes",function(){return i.receiveCommissionEarningsTypes}),n.o(i,"receiveCommissionStatementTemplateFieldNames")&&n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return i.receiveCommissionStatementTemplateFieldNames});var r=n("dRXp");n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return r.a});var o=n("u77W");n.d(t,"commissionStatementTemplateFieldNamesSelector",function(){return o.a})},KqhQ:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var i=n("MVZn"),r=n.n(i),o=n("dlIn"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r()({id:"",clientTypeId:o.ClientTypeId.Individual,firstName:"",lastName:"",maidenName:"",idNumber:"",alternateIdNumber:"",initials:"",preferredName:"",dateOfBirth:"",marriageDate:"",marritalStatusId:"",taxNumber:""},e)},s=function(e){switch(e){case o.ClientTypeId.Company:case o.ClientTypeId.Trust:return"Registration Number";default:return"Passport Number"}},c=function(e){switch(e){case o.ClientTypeId.Company:case o.ClientTypeId.Trust:return"Registration Date";default:return"Date of Birth"}},l=function(e){switch(e){case o.ClientTypeId.Company:case o.ClientTypeId.Trust:return"Name";default:return"Last Name"}}},L3Yf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.lookups.policyTypes.list},function(e){return e})},LiuA:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var i,r=n("lSNA"),o=n.n(r),a=n("bXmf"),s=(i={},o()(i,a.d,{relativePath:"/directory",groups:[{name:"Organisation",links:[{name:"Users",icon:"team",relativePath:"/users",isDefault:!0,useCases:["dir_view_users"]},{name:"Organisations",icon:"bank",relativePath:"/organisations",useCases:["dir_view_organisations"]}]},{name:"Security",links:[{name:"Roles",icon:"safety-certificate",relativePath:"/roles",useCases:["dir_view_roles"]}]},{name:"Lookups",links:[{name:"Companies",icon:"copyright",relativePath:"/lookups/companies",useCases:["dir_view_lookups"]},{name:"Commission Types",icon:"dollar",relativePath:"/lookups/commTypes",useCases:["dir_view_lookups"]}]},{name:"Audit",links:[{name:"Logs",icon:"video-camera",relativePath:"/audit/logs",useCases:["dir_view_audit_logs"]}]}]}),o()(i,a.a,{relativePath:"/client",groups:[{name:"Management",links:[{name:"Clients",icon:"user",relativePath:"/clients",isDefault:!0,useCases:["clt_view_clients"]},{name:"Policies",icon:"file-text",relativePath:"/policies",useCases:["clt_view_policies"]}]},{name:"Data",links:[{name:"Import",icon:"upload",relativePath:"/import",useCases:["clt_import_clients"]},{name:"Export",icon:"download",relativePath:"/export",useCases:["clt_export_clients"]}]}]}),o()(i,a.b,{relativePath:"/commission",groups:[{name:"Statements",links:[{name:"Statements",icon:"reconciliation",relativePath:"/statements",isDefault:!0,useCases:["com_view_commission_statements"]},{name:"Templates",icon:"block",relativePath:"/templates",useCases:["com_view_commission_statement_templates"]}]},{name:"Reports",links:[{name:"Client Revenue",icon:"line-chart",relativePath:"/reports/revenueClient",useCases:["com_view_report_client_revenue"]}]}]}),i),c=function(){var e=[];return Object.keys(s).forEach(function(t){e=e.concat(s[t].groups.map(function(e){return e.name}))}),e}},"Lq9/":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l});var i=n("am9W"),r="".concat(i.a.baseApi,"/api/commission"),o="".concat(r,"/commissions"),a="".concat(r,"/statements"),s="".concat(r,"/import/excel"),c="".concat(a,"/templates"),l="".concat(r,"/report")},MF0j:function(e,t){},MRQ6:function(e,t){},MzzN:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var i=n("DP+r"),r=function(e){return{type:"COMPANIES_COMPANY_RECEIVE",payload:e}},o=function(e,t){return{type:"API",endpoint:"".concat(i.f,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"COMPANIES_COMPANY_EDIT"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.f),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"COMPANIES_COMPANY_EDIT"}}},N5HQ:function(e,t){},NXkO:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var i=n("G4qV"),r=n("EcEN"),o=n("YMfE"),a=function(e){return e.app.client.import},s=Object(i.a)(a,function(e){return e}),c=Object(i.a)(a,function(e){return e.data.map(function(t){var n={_id:Object(r.v4)()};return e.selectedColumns.forEach(function(e,i){var r=t[i];"dateOfBirth"!==e&&"policyStartDate"!==e||(r=Object(o.e)(r)),n[e]=r}),n})}),l=Object(i.a)(a,function(e){return e.selectedColumns.map(function(t){var n=e.columns.find(function(e){return e.id===t});return n||{id:"0",name:"no match"}})}),u=Object(i.a)(a,function(e){return Math.floor((e.resultsSuccess.length+e.resultsFailure.length)/e.clients.length*100)})},NXyy:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.branches.list},function(e){return e})},Nr0R:function(e,t){},NxBc:function(e,t,n){"use strict";var i=n("Nr0R");n.o(i,"contactSelector")&&n.d(t,"contactSelector",function(){return i.contactSelector}),n.o(i,"deleteContact")&&n.d(t,"deleteContact",function(){return i.deleteContact}),n.o(i,"fetchContact")&&n.d(t,"fetchContact",function(){return i.fetchContact}),n.o(i,"fetchContacts")&&n.d(t,"fetchContacts",function(){return i.fetchContacts}),n.o(i,"insertContact")&&n.d(t,"insertContact",function(){return i.insertContact}),n.o(i,"receiveContact")&&n.d(t,"receiveContact",function(){return i.receiveContact}),n.o(i,"updateContact")&&n.d(t,"updateContact",function(){return i.updateContact});var r=n("qp6Q");n.d(t,"fetchContacts",function(){return r.a});var o=n("dL8U");n.d(t,"contactsSelector",function(){return o.a});var a=n("3FI6");n.d(t,"deleteContact",function(){return a.a}),n.d(t,"fetchContact",function(){return a.b}),n.d(t,"insertContact",function(){return a.c}),n.d(t,"receiveContact",function(){return a.d}),n.d(t,"updateContact",function(){return a.e});var s=n("3xRh");n.d(t,"contactSelector",function(){return s.a})},OOX3:function(e,t){},OdAA:function(e,t){},P3mh:function(e,t,n){"use strict";var i=n("j8Mc");n.o(i,"companiesSelector")&&n.d(t,"companiesSelector",function(){return i.companiesSelector}),n.o(i,"fetchAllDirectoryLookups")&&n.d(t,"fetchAllDirectoryLookups",function(){return i.fetchAllDirectoryLookups}),n.o(i,"receiveCompanies")&&n.d(t,"receiveCompanies",function(){return i.receiveCompanies});var r=n("jHDd");n.d(t,"fetchAllDirectoryLookups",function(){return r.a});var o=n("zdRX");n.d(t,"directoryLookupsSelector",function(){return o.a})},"P93/":function(e,t,n){"use strict";var i=n("GhH9");n.o(i,"fetchRole")&&n.d(t,"fetchRole",function(){return i.fetchRole}),n.o(i,"fetchRoles")&&n.d(t,"fetchRoles",function(){return i.fetchRoles}),n.o(i,"insertRole")&&n.d(t,"insertRole",function(){return i.insertRole}),n.o(i,"receiveRole")&&n.d(t,"receiveRole",function(){return i.receiveRole}),n.o(i,"roleSelector")&&n.d(t,"roleSelector",function(){return i.roleSelector}),n.o(i,"updateRole")&&n.d(t,"updateRole",function(){return i.updateRole});var r=n("gy+o");n.d(t,"fetchRoles",function(){return r.a});var o=n("nXMC");n.d(t,"rolesSelector",function(){return o.a});var a=n("oTtv");n.d(t,"fetchRole",function(){return a.a}),n.d(t,"insertRole",function(){return a.b}),n.d(t,"receiveRole",function(){return a.c}),n.d(t,"updateRole",function(){return a.d});var s=n("qFfV");n.d(t,"roleSelector",function(){return s.a})},PAEk:function(e,t){},PLDE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.lookups.all},function(e){return e})},PoK7:function(e,t,n){"use strict";var i=n("MF0j");n.o(i,"companySelector")&&n.d(t,"companySelector",function(){return i.companySelector}),n.o(i,"directoryLookupsSelector")&&n.d(t,"directoryLookupsSelector",function(){return i.directoryLookupsSelector}),n.o(i,"fetchAllDirectoryLookups")&&n.d(t,"fetchAllDirectoryLookups",function(){return i.fetchAllDirectoryLookups}),n.o(i,"fetchCompanies")&&n.d(t,"fetchCompanies",function(){return i.fetchCompanies}),n.o(i,"insertCompany")&&n.d(t,"insertCompany",function(){return i.insertCompany}),n.o(i,"receiveCompanies")&&n.d(t,"receiveCompanies",function(){return i.receiveCompanies}),n.o(i,"receiveCompany")&&n.d(t,"receiveCompany",function(){return i.receiveCompany}),n.o(i,"updateCompany")&&n.d(t,"updateCompany",function(){return i.updateCompany});var r=n("4Oj7");n.d(t,"fetchCompanies",function(){return r.a}),n.d(t,"receiveCompanies",function(){return r.b});var o=n("2EX+");n.d(t,"companiesSelector",function(){return o.a});var a=n("MzzN");n.d(t,"insertCompany",function(){return a.a}),n.d(t,"receiveCompany",function(){return a.b}),n.d(t,"updateCompany",function(){return a.c});var s=n("RP8w");n.d(t,"companySelector",function(){return s.a})},Q378:function(e,t,n){"use strict";var i=n("Ui1n");n.o(i,"activate")&&n.d(t,"activate",function(){return i.activate}),n.o(i,"isAuthenticatedSelector")&&n.d(t,"isAuthenticatedSelector",function(){return i.isAuthenticatedSelector}),n.o(i,"recieveToken")&&n.d(t,"recieveToken",function(){return i.recieveToken}),n.o(i,"resetPassword")&&n.d(t,"resetPassword",function(){return i.resetPassword}),n.o(i,"resetPasswordRequest")&&n.d(t,"resetPasswordRequest",function(){return i.resetPasswordRequest}),n.o(i,"resetPasswordSelector")&&n.d(t,"resetPasswordSelector",function(){return i.resetPasswordSelector}),n.o(i,"roleSelector")&&n.d(t,"roleSelector",function(){return i.roleSelector}),n.o(i,"signIn")&&n.d(t,"signIn",function(){return i.signIn}),n.o(i,"signInSelector")&&n.d(t,"signInSelector",function(){return i.signInSelector}),n.o(i,"signOut")&&n.d(t,"signOut",function(){return i.signOut}),n.o(i,"tokenSelector")&&n.d(t,"tokenSelector",function(){return i.tokenSelector}),n.o(i,"useCaseSelector")&&n.d(t,"useCaseSelector",function(){return i.useCaseSelector});var r=n("w747");n.d(t,"activate",function(){return r.a}),n.d(t,"resetPassword",function(){return r.b}),n.d(t,"resetPasswordRequest",function(){return r.c});var o=n("8EnN");n.d(t,"resetPasswordSelector",function(){return o.a});var a=n("u7Z0");n.d(t,"signIn",function(){return a.a});var s=n("6i/8");n.d(t,"signInSelector",function(){return s.a});var c=n("r+YW");n.d(t,"recieveToken",function(){return c.a}),n.d(t,"signOut",function(){return c.b});var l=n("xWep");n.d(t,"isAuthenticatedSelector",function(){return l.a}),n.d(t,"roleSelector",function(){return l.b}),n.d(t,"tokenSelector",function(){return l.c}),n.d(t,"useCaseSelector",function(){return l.d})},QE2Q:function(e,t){},QJI5:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u});var i=function(e,t){var n=[{key:"pageNumber",value:t.number.toString()},{key:"pageSize",value:t.size.toString()}];return c(e,n)},r=function(e,t){var n=[{key:"sortColumn",value:t.column?t.column:""},{key:"sortDirection",value:t.direction?t.direction:""}];return c(e,n)},o=function(e,t){if(!t)return e;var n=[];if(Object.keys(t).forEach(function(e){var i=a(t[e]);i.length>0&&n.push("".concat(e,"=").concat(i.join(",")))}),0===n.length)return e;var i=[{key:"filters",value:n.join(";")}];return c(e,i)},a=function(e){return e.map(function(e){return s(e)})},s=function(e){return e.replace("=","").replace(",","").replace(";","")},c=function(e,t){var n=p(e);return n.params=n.params.concat(t),d(n)},l=function(e,t){if(!e)return e;var n={};return Object.keys(e).forEach(function(i){n[i]=e[i].map(function(e){return-1!==t.indexOf(i)?u(e):e})}),n},u=function(e){return"%".concat(e,"%")},p=function(e){var t=e.split("?"),n={base:t[0],params:[]};return 1===t.length?n:(t[1].split("&").forEach(function(e){var t=e.split("=");t.length<2||n.params.push({key:t[0],value:t[1]})}),n)},d=function(e){var t=e.base;if(e.params.length>0){var n=e.params.map(function(e){return"".concat(e.key,"=").concat(encodeURIComponent(e.value))});t="".concat(t,"?").concat(n.join("&"))}return t}},QkX6:function(e,t,n){"use strict";var i=n("YC0x");n.o(i,"UNKNOWN_COMMISSION_TYPE_CODE")&&n.d(t,"UNKNOWN_COMMISSION_TYPE_CODE",function(){return i.UNKNOWN_COMMISSION_TYPE_CODE}),n.o(i,"commissionEarningsTypesSelector")&&n.d(t,"commissionEarningsTypesSelector",function(){return i.commissionEarningsTypesSelector}),n.o(i,"commissionLookupsSelector")&&n.d(t,"commissionLookupsSelector",function(){return i.commissionLookupsSelector}),n.o(i,"commissionStatementTemplateFieldNamesSelector")&&n.d(t,"commissionStatementTemplateFieldNamesSelector",function(){return i.commissionStatementTemplateFieldNamesSelector}),n.o(i,"commissionTypeSelector")&&n.d(t,"commissionTypeSelector",function(){return i.commissionTypeSelector}),n.o(i,"commissionTypesSelector")&&n.d(t,"commissionTypesSelector",function(){return i.commissionTypesSelector}),n.o(i,"fetchAllCommissionLookups")&&n.d(t,"fetchAllCommissionLookups",function(){return i.fetchAllCommissionLookups}),n.o(i,"insertCommissionType")&&n.d(t,"insertCommissionType",function(){return i.insertCommissionType}),n.o(i,"receiveCommissionEarningsTypes")&&n.d(t,"receiveCommissionEarningsTypes",function(){return i.receiveCommissionEarningsTypes}),n.o(i,"receiveCommissionStatementTemplateFieldNames")&&n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return i.receiveCommissionStatementTemplateFieldNames}),n.o(i,"receiveCommissionTypes")&&n.d(t,"receiveCommissionTypes",function(){return i.receiveCommissionTypes}),n.o(i,"updateCommissionType")&&n.d(t,"updateCommissionType",function(){return i.updateCommissionType});var r=n("9EF6");n.d(t,"UNKNOWN_COMMISSION_TYPE_CODE",function(){return r.a}),n.d(t,"commissionTypeSelector",function(){return r.b}),n.d(t,"commissionTypesSelector",function(){return r.c}),n.d(t,"insertCommissionType",function(){return r.e}),n.d(t,"receiveCommissionTypes",function(){return r.g}),n.d(t,"updateCommissionType",function(){return r.h});var o=n("iFww");n.o(o,"commissionEarningsTypesSelector")&&n.d(t,"commissionEarningsTypesSelector",function(){return o.commissionEarningsTypesSelector}),n.o(o,"commissionLookupsSelector")&&n.d(t,"commissionLookupsSelector",function(){return o.commissionLookupsSelector}),n.o(o,"commissionStatementTemplateFieldNamesSelector")&&n.d(t,"commissionStatementTemplateFieldNamesSelector",function(){return o.commissionStatementTemplateFieldNamesSelector}),n.o(o,"fetchAllCommissionLookups")&&n.d(t,"fetchAllCommissionLookups",function(){return o.fetchAllCommissionLookups}),n.o(o,"receiveCommissionEarningsTypes")&&n.d(t,"receiveCommissionEarningsTypes",function(){return o.receiveCommissionEarningsTypes}),n.o(o,"receiveCommissionStatementTemplateFieldNames")&&n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return o.receiveCommissionStatementTemplateFieldNames});var a=n("KAEM");n.o(a,"commissionEarningsTypesSelector")&&n.d(t,"commissionEarningsTypesSelector",function(){return a.commissionEarningsTypesSelector}),n.o(a,"commissionLookupsSelector")&&n.d(t,"commissionLookupsSelector",function(){return a.commissionLookupsSelector}),n.o(a,"commissionStatementTemplateFieldNamesSelector")&&n.d(t,"commissionStatementTemplateFieldNamesSelector",function(){return a.commissionStatementTemplateFieldNamesSelector}),n.o(a,"fetchAllCommissionLookups")&&n.d(t,"fetchAllCommissionLookups",function(){return a.fetchAllCommissionLookups}),n.o(a,"receiveCommissionEarningsTypes")&&n.d(t,"receiveCommissionEarningsTypes",function(){return a.receiveCommissionEarningsTypes}),n.o(a,"receiveCommissionStatementTemplateFieldNames")&&n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return a.receiveCommissionStatementTemplateFieldNames})},Qwn9:function(e,t,n){"use strict";var i=n("23Q7");n.d(t,"formatValue",function(){return i.a}),n.d(t,"getErrorMessage",function(){return i.b}),n.d(t,"getValidationError",function(){return i.c}),n.d(t,"getValidationSubSet",function(){return i.d}),n.d(t,"parseValidationErrors",function(){return i.e});n("8W22")},RP8w:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.lookups.companies.company},function(e){return e})},RYzo:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return{type:"CONTACTTYPES_LIST_RECEIVE",payload:e}}},RnhZ:function(e,t,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id="RnhZ"},RsWF:function(e,t,n){"use strict";n("tULf");var i=n("Vl3Y"),r=n("lwsE"),o=n.n(r),a=n("W8MJ"),s=n.n(a),c=n("a1gu"),l=n.n(c),u=n("Nsbk"),p=n.n(u),d=n("7W2i"),m=n.n(d),f=n("q1tI"),h=n.n(f),E=n("/MKj"),C=n("unMk"),g=n("Q378"),v=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.layout,r=void 0===n?"horizontal":n,o=e.editUseCase,a=this.props.readonly||!1;o&&(a=!Object(C.a)(this.props.editUseCase,this.props.useCases));var s=h.a.Children.map(t,function(e){return e?h.a.cloneElement(e,{layout:r,readonly:a}):null});return h.a.createElement(i.a,{className:this.props.className,layout:this.props.layout,style:this.props.style},s)}}]),t}(h.a.Component),S=Object(E.c)(function(e){return{useCases:Object(g.useCaseSelector)(e)}})(v),y=(n("1vPl"),n("5rEg")),T=n("PJYZ"),I=n.n(T),O=n("lSNA"),b=n.n(O),_=n("pVnL"),N=n.n(_),R=(n("04bd"),n("W9HT")),P=n("Qwn9"),j=i.a.Item,L=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"getErrorText",function(){var e=Object(P.getValidationError)(n.props.validationFieldName||n.props.fieldName||"",n.props.validationResults||[]);return e?Object(P.formatValue)(e.attemptedValue)!==Object(P.formatValue)(n.props.value)?null:e.errorMessage:null}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.getErrorText(),t=this.props,n=t.label,i=t.children,r=t.layout,o=t.loading,a="horizontal"===r?{labelCol:{span:6},wrapperCol:{span:18}}:null;return h.a.createElement(j,N()({label:n,validateStatus:e?"error":void 0,help:e},a,{className:this.props.className,style:this.props.style}),o&&h.a.createElement(R.a,{spinning:!0,size:"small"}),!o&&i)}}]),t}(h.a.Component),A=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"onChange",function(e){n.props.onChange&&n.props.onChange(n.props.fieldName,e.target.value)}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.label,i=void 0===n?"":n,r=e.value,o=e.validationResults,a=e.disabled,s=void 0!==a&&a,c=e.layout,l=e.addonAfter;if(this.props.readonly)return h.a.createElement(D,{label:i,value:r,layout:c});if(this.props.hidden)return h.a.createElement(h.a.Fragment,null);var u={};return this.props.width&&(u.width=this.props.width),h.a.createElement(L,{label:i,fieldName:t,validationResults:o,value:r,layout:c,style:this.props.formFieldStyle,validationFieldName:this.props.validationFieldName},h.a.createElement(y.a,{onKeyPress:this.props.onKeyPress,size:this.props.size,type:this.props.type,placeholder:this.props.placeholder,prefix:this.props.prefix,autoFocus:this.props.autoFocus,disabled:s,name:t,id:t,value:r,onChange:this.onChange,addonAfter:l,style:u}))}}]),t}(f.Component),k=(n("QCje"),n("fyUT")),M=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"onChange",function(e){n.props.onChange&&n.props.onChange(n.props.fieldName,e)}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.label,i=e.value,r=e.validationResults,o=e.disabled,a=void 0!==o&&o,s=e.layout,c=e.readonly;e.isCurrency;return c?h.a.createElement(D,{label:n,value:i,layout:s}):h.a.createElement(L,{label:n,fieldName:t,validationResults:r,value:i,layout:s},h.a.createElement(k.a,{disabled:a,name:t,id:t,value:i,onChange:this.onChange,decimalSeparator:".",precision:2,style:{width:"100%"}}))}}]),t}(f.Component),w=(n("8QGh"),n("2fM7")),x=w.a.Option,V=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"onChange",function(e){n.props.onChange&&n.props.onChange(n.props.fieldName,e)}),b()(I()(n),"getValue",function(){var e=n.props.options.find(function(e){return e[n.props.optionsValue]===n.props.value});return e?e[n.props.optionsText]:""}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.fieldName,i=t.label,r=t.value,o=t.disabled,a=void 0!==o&&o,s=t.validationResults,c=t.layout,l=t.defaultActiveFirstOption,u=void 0===l||l,p=t.loading,d=void 0!==p&&p,m=t.readonly,f=t.autoFocus,E=void 0!==f&&f;if(m)return h.a.createElement(D,{label:i,value:this.getValue(),layout:c});if(this.props.hidden)return h.a.createElement(h.a.Fragment,null);var C={minWidth:this.props.minWidth||"180px"};return this.props.width&&(C.width=this.props.width),h.a.createElement(L,{label:i,fieldName:n,validationResults:s,value:r,layout:c,loading:d,validationFieldName:this.props.validationFieldName},h.a.createElement(w.a,{showSearch:this.props.showSearch,showArrow:this.props.showArrow,filterOption:this.props.filterOption,onSearch:this.props.onSearch,notFoundContent:this.props.notFoundContent,placeholder:this.props.placeholder,style:C,value:r,onChange:this.onChange,disabled:a,defaultActiveFirstOption:u,autoFocus:E,allowClear:this.props.allowClear,onSelect:this.props.onSelect},this.props.options.map(function(t){return h.a.createElement(x,{key:t[e.props.optionsValue],value:t[e.props.optionsValue]},t[e.props.optionsText])})))}}]),t}(f.Component),D=function(e){return h.a.createElement(L,{label:e.label,value:e.value,layout:e.layout,loading:e.loading,fieldName:e.fieldName,validationResults:e.validationResults},h.a.createElement("span",{className:"ant-form-text"},e.value?e.value:e.emptyValueText),h.a.createElement("span",{style:{float:"right"}},e.extra))},F=(n("U8R4"),n("+eQT")),U=n("wd/R"),G=n.n(U),H=n("YMfE"),Y=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"onChange",function(e,t){n.props.onChange&&n.props.onChange(n.props.fieldName,t)}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.label,i=e.value,r=e.validationResults,o=e.disabled,a=void 0!==o&&o,s=e.layout;return e.readonly?h.a.createElement(D,{label:n,value:i?G()(i).format(H.a):"",layout:s}):this.props.hidden?h.a.createElement(h.a.Fragment,null):h.a.createElement(L,{label:n,fieldName:t,validationResults:r,value:i,layout:s},h.a.createElement(F.a,{disabled:a,id:t,value:i?G()(i):void 0,onChange:this.onChange}))}}]),t}(f.Component),B=(n("2DKY"),n("+KLJ")),z=function(e){var t=e.propertyName,n=void 0===t?"":t,i=e.validationResults.filter(function(e){return e.propertyName===n}).map(function(e){return e.errorMessage}).join(",");return i?h.a.createElement(B.a,{message:i,type:"error",showIcon:!0,className:"mb-1"}):h.a.createElement(h.a.Fragment,null)},q=(n("LXko"),n("VXEj")),K=(n("k994"),n("NJEC")),W=n("RsOY"),Q=n.n(W),X=function(e){function t(e){var n;return o()(this,t),n=l()(this,p()(t).call(this,e)),b()(I()(n),"add",function(){n.setState({editing:!0,editValue:"",editIndex:null,mode:"add"})}),b()(I()(n),"edit",function(e,t){n.setState({editing:!0,editValue:e,editIndex:t,mode:"edit"})}),b()(I()(n),"remove",function(e){var t=Q()(n.state.values,{$splice:[[e,1]]});n.setState({values:t},function(){return n.props.onChange(t)})}),b()(I()(n),"cancel",function(){n.setState({editing:!1,editValue:"",editIndex:null})}),b()(I()(n),"update",function(e){n.setState({editValue:e})}),b()(I()(n),"save",function(){var e=[];e=null===n.state.editIndex?Q()(n.state.values,{$push:[n.state.editValue]}):Q()(n.state.values,b()({},n.state.editIndex,{$set:n.state.editValue})),n.setState({values:e,editing:!1,editValue:"",editIndex:null},function(){return n.props.onChange(e)})}),b()(I()(n),"getActions",function(e,t){return n.props.editUseCase&&!Object(C.a)(n.props.editUseCase,n.props.useCases)?[]:[h.a.createElement("a",{onClick:function(){return n.edit(e,t)}},"edit"),h.a.createElement(K.a,{title:"Are you sure remove this record?",onConfirm:function(){return n.remove(t)},okText:"Yes",cancelText:"No"},h.a.createElement("a",{href:"#"},"remove"))]}),n.state={values:e.values,editing:!1,editValue:"",editIndex:null,mode:"add"},n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this;return h.a.createElement(h.a.Fragment,null,!this.state.editing&&h.a.createElement(S,{layout:"inline"},h.a.createElement(L,null,h.a.createElement(he,{icon:"plus",type:"dashed",onClick:this.add,noLeftMargin:!0,requiredUseCase:this.props.editUseCase},"Add ".concat(this.props.displayName)))),this.state.editing&&h.a.createElement(S,{layout:"inline"},h.a.createElement(A,{fieldName:this.props.fieldName,label:this.props.displayName,value:this.state.editValue,onChange:function(t,n){return e.update(n)},autoFocus:!0}),h.a.createElement(L,{className:"mr-0"},h.a.createElement(he,{onClick:function(){return e.cancel()}},"Cancel")),h.a.createElement(L,null,h.a.createElement(he,{onClick:this.save,type:"primary",disabled:!this.state.editValue},"edit"===this.state.mode?"Update ".concat(this.props.displayName):"Add ".concat(this.props.displayName)))),h.a.createElement(q.a,{bordered:!0,className:"mt-1",dataSource:this.state.values,renderItem:function(t,n){return h.a.createElement(q.a.Item,{actions:e.getActions(t,n)},h.a.createElement(q.a.Item.Meta,{title:h.a.createElement("span",{className:"font-weight-normal"},t),description:h.a.createElement("span",{className:"text-error"},Object(P.getErrorMessage)(e.props.fieldName,t,n,e.props.validationResults))}))}}))}}]),t}(f.Component),J=Object(E.c)(function(e){return{useCases:Object(g.useCaseSelector)(e)}})(X),Z=(n("+vQn"),n("Sdc0")),$=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"onChange",function(e){n.props.onChange&&n.props.onChange(n.props.fieldName,e)}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.fieldName,n=e.label,i=e.value,r=e.validationResults,o=e.disabled,a=void 0!==o&&o,s=e.layout,c=e.readonly;return h.a.createElement(L,{label:n,fieldName:t,validationResults:r,value:i,layout:s},h.a.createElement(Z.a,{disabled:a||c,checked:i,onChange:this.onChange}))}}]),t}(f.Component),ee=(n("2oDE"),n("CtXQ")),te=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"ant-row ant-form-item",style:{paddingTop:"8px",fontSize:"16px"}},h.a.createElement(ee.a,{type:this.props.type}))}}]),t}(f.Component),ne=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.data;return h.a.createElement(S,{layout:this.props.layout},Object.keys(e).filter(function(t){var n=e[t];return""!==n&&null!==n}).map(function(t){return h.a.createElement(D,{key:t,fieldName:t,label:Object(H.j)(t),value:e[t]})}))}}]),t}(f.Component),ie=(n("gySj"),n("DFOY")),re=(f.Component,n("am9W")),oe=("".concat(re.a.ui.footerHeight,"px"),n("chzn"),n("/ezw")),ae=(n("BEjP"),n("bf48")),se=function(e){var t=h.a.createElement("span",null);return e.icon&&(t="string"==typeof e.icon?h.a.createElement(ee.a,{type:e.icon}):e.icon),h.a.createElement(oe.a,{loading:e.loading,title:!1,active:!0,paragraph:{rows:1},className:"my-1"},h.a.createElement(ae.a,{onBack:e.onBack,title:h.a.createElement(h.a.Fragment,null,t,h.a.createElement("span",{style:{marginLeft:"8px"}},e.children)),style:{padding:"8px 2px",minHeight:"50px"},extra:e.actions}))},ce={position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"},le=function(e){return h.a.createElement("div",{style:ce},e.children)},ue=(n("L/Qf"),n("2/Rp")),pe=n("MVZn"),de=n.n(pe),me=n("/XDx"),fe=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.requiredRole,n=e.requiredUseCase,i=e.visible,r=void 0===i||i;return n&&(r=Object(C.a)(n,this.props.useCases)&&r),t&&(r=Object(me.b)(t,this.props.roles)&&r),h.a.createElement(h.a.Fragment,null,r&&h.a.createElement(ue.a,{style:de()({marginLeft:this.props.noLeftMargin?0:8},this.props.style),block:this.props.block,type:this.props.type,icon:this.props.icon,onClick:this.props.onClick,disabled:this.props.disabled||!1,className:this.props.className,loading:this.props.loading,shape:this.props.shape,size:this.props.size},this.props.children))}}]),t}(h.a.Component),he=Object(E.c)(function(e){return{useCases:Object(g.useCaseSelector)(e),roles:Object(g.roleSelector)(e)}})(fe),Ee=(n("Re5i"),n("/wGt")),Ce=function(e){var t=h.a.createElement("span",null);return e.icon&&(t="string"==typeof e.icon?h.a.createElement(ee.a,{type:e.icon}):e.icon),h.a.createElement(Ee.a,{title:h.a.createElement("span",null,t,h.a.createElement("span",{style:{marginLeft:"8px"}},e.title)),width:e.width,visible:e.visible,onClose:e.onClose,maskClosable:e.maskClosable,destroyOnClose:!0,bodyStyle:{height:"calc(100% - 65px)",overflow:"auto",paddingBottom:53,paddingTop:e.noTopPadding?0:24}},e.children)};Ce.defaultProps={visible:!1,width:"900px",maskClosable:!0,noTopPadding:!1};n("rO+z");var ge=n("kPKH"),ve=(n("EpIQ"),n("bx4M")),Se=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.titleExtra,i=e.onClick,r=e.actions,o=e.isLoading,a=e.requiredUseCase,s=e.rows,c=void 0===s?1:s,l=e.height,u=e.icon,p=!0;if(a&&(p=Object(C.a)(a,this.props.useCases)&&p),!p)return h.a.createElement(h.a.Fragment,null);var d={};return l&&(d.height=l),h.a.createElement(ge.a,{sm:24,md:12,lg:8,xl:6},h.a.createElement(ve.a,{hoverable:!0,title:h.a.createElement(h.a.Fragment,null,h.a.createElement("span",null,h.a.createElement(ee.a,{type:u,style:{marginRight:"6px"}}),t),n&&h.a.createElement("span",{className:"pull-right"},n)),bordered:!1,onClick:i,actions:r,style:{margin:"10px"},bodyStyle:d},h.a.createElement(oe.a,{loading:o,title:!1,active:!0,paragraph:{rows:c}},this.props.children)))}}]),t}(f.Component),ye=Object(E.c)(function(e){return{useCases:Object(g.useCaseSelector)(e)}})(Se),Te=(n("Jmwx"),n("BMrR")),Ie={backgroundColor:"#ececec",padding:"20px"},Oe=function(e){return h.a.createElement("div",{style:Ie},h.a.createElement(Te.a,{type:"flex",gutter:16},e.children))},be=function(e){return h.a.createElement(Te.a,{type:"flex",justify:"space-between",style:{paddingTop:"2px",paddingBottom:"3px"}},h.a.createElement(ge.a,{style:{fontWeight:"normal"}},e.label),h.a.createElement(ge.a,null,e.value))},_e=n("lhkX"),Ne=function(e){return f.createElement(_e.Grid,{fluid:!0},f.createElement(_e.Row,null,f.createElement(_e.Col,{xs:12},f.createElement(_e.Row,{center:"xs"},f.createElement(_e.Col,null,f.createElement(R.a,{spinning:!0,style:{marginTop:"50px"}}))),e.text&&f.createElement(_e.Row,{center:"xs"},f.createElement(_e.Col,null,e.text)))))},Re=function(e){return h.a.createElement(R.a,{spinning:e.isLoading},e.children?e.children:h.a.createElement("div",{className:"pt-3"}))},Pe=(n("mbEz"),n("wCAj")),je=n("++qQ"),Le=function(e){function t(e){var n;return o()(this,t),n=l()(this,p()(t).call(this,e)),b()(I()(n),"handleTableChange",function(e,t,i){n.props.onTableChange&&n.props.onTableChange({number:e.current||n.state.defaultPageOptions.number,size:e.pageSize||n.state.defaultPageOptions.size},{column:i.field,direction:"ascend"===i.order?"asc":"desc"},t)}),n.state={defaultPageOptions:Object(je.a)()},n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this,t={defaultPageSize:this.state.defaultPageOptions.size,showSizeChanger:!0},n=this.props.pageOptions;if(this.props.externalDataSource){var i=n||Object(je.a)();t=de()({},t,{total:this.props.totalRows,pageSize:i.size,defaultPageSize:i.size,current:i.number})}return this.props.hidePagination&&(t=!1),f.createElement(Pe.a,{bordered:!0,scroll:this.props.scroll,columns:this.props.columns,dataSource:this.props.dataSource,rowKey:this.props.rowKey,loading:this.props.loading,onChange:this.handleTableChange,pagination:t,footer:this.props.footer,rowSelection:this.props.rowSelection,onRow:function(t){return{onClick:function(){e.props.onRowClick&&Object(C.a)(e.props.onRowClickRequiredUseCase,e.props.useCases)&&e.props.onRowClick(t)}}},size:"small"})}}]),t}(f.Component),Ae=Object(E.c)(function(e){return{useCases:Object(g.useCaseSelector)(e)}})(Le),ke=function(e){function t(e){var n;return o()(this,t),n=l()(this,p()(t).call(this,e)),b()(I()(n),"searchInput",void 0),b()(I()(n),"handleSearch",function(e,t){t(),n.setState({searchText:e[0]})}),b()(I()(n),"handleReset",function(e){e(),n.setState({searchText:""})}),n.state={searchText:""},n}return m()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.visible&&!e.visible&&setTimeout(function(){t.searchInput&&t.searchInput.select()})}},{key:"render",value:function(){var e=this;return f.createElement("div",{className:"custom-filter-dropdown"},f.createElement(y.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(this.props.fieldName),value:this.props.selectedKeys[0],onChange:function(t){return e.props.setSelectedKeys(t.target.value?[t.target.value]:[])},onPressEnter:function(){return e.handleSearch(e.props.selectedKeys,e.props.confirm)},style:{width:188,marginBottom:8,display:"block"},autoFocus:!0}),f.createElement(ue.a,{type:"primary",onClick:function(){return e.handleSearch(e.props.selectedKeys,e.props.confirm)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),f.createElement(ue.a,{onClick:function(){return e.handleReset(e.props.clearFilters)},size:"small",style:{width:90}},"Reset"))}}]),t}(f.Component),Me=function(e){var t=!1;return{filterDropdown:function(n){var i=n.setSelectedKeys,r=n.selectedKeys,o=n.confirm,a=n.clearFilters;return f.createElement(ke,{fieldName:e,setSelectedKeys:i,selectedKeys:r,confirm:o,clearFilters:a,visible:t})},onFilterDropdownVisibleChange:function(e){t=e},filterIcon:function(e){return f.createElement(ee.a,{type:"search",style:{color:e?"#1890ff":void 0}})}}},we=(n("AUBz"),n("ZTPi")),xe=function(e){var t={},n={backgroundColor:"#FFF",zIndex:1};return e.sticky&&(t=de()({},t,{overflow:"inherit"}),n=de()({},n,{position:"sticky",top:0})),h.a.createElement(we.a,{animated:!1,onChange:e.onChange,activeKey:e.activeKey,tabBarStyle:n,style:t},e.children)};xe.defaultProps={sticky:!1};var Ve=we.a.TabPane,De=function(e){return h.a.createElement("span",null,Object(H.f)(e.dateOfBirth))},Fe=function(e){if(!e.date)return h.a.createElement("span",null);var t=H.a;e.includeTime&&(t=H.b);var n=e.date;e.isUnixSeconds&&(n*=1e3);var i=G()(n);return h.a.createElement("span",null,i.format(t))},Ue=function(e){return null===e.amount||void 0===e.amount?h.a.createElement("span",null):h.a.createElement("span",null,Object(H.d)(e.amount))},Ge=n("h57O"),He=n("1oXi"),Ye=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.tokenData,n=e.appInfo;return h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("b",null,"Id:"),"",t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]),h.a.createElement("div",null,h.a.createElement("b",null,"Name:"),"","".concat(t.firstName," ").concat(t.lastName)),h.a.createElement("div",null,h.a.createElement("b",null,"Username:"),"",t.userName),h.a.createElement("div",null,h.a.createElement("b",null,"Email:"),"",t.email),h.a.createElement("div",null,h.a.createElement("b",null,"Organisation:"),"",t.organisationName),h.a.createElement("div",null,h.a.createElement("b",null,"Branch:"),"",t.branchName),h.a.createElement("div",null,h.a.createElement("b",null,"Scope:"),"",Object(Ge.a)(t.scope)),h.a.createElement("div",null,h.a.createElement("b",null,"Roles:"),"",t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"].join(", ")),h.a.createElement("div",null,h.a.createElement("b",null,"Token Expires:"),"",h.a.createElement(Fe,{date:t.exp,includeTime:!0,isUnixSeconds:!0})),h.a.createElement("div",null,h.a.createElement("b",null,"App Version:"),"",n&&n.version))}}]),t}(f.Component),Be=Object(E.c)(function(e){var t=Object(g.tokenSelector)(e),n=Object(He.b)(e);return{tokenData:t.tokenData,appInfo:n.appInfo}})(Ye),ze=function(e){return h.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},e.children)},qe=n("uxc5"),Ke=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.users,n=e.userId,i=t.find(function(e){return e.id===n});return i?h.a.createElement("span",null,"".concat(i.firstName," ").concat(i.lastName)):h.a.createElement("span",null)}}]),t}(f.Component),We=Object(E.c)(function(e){return{users:Object(qe.usersSimpleSelector)(e).items}})(Ke),Qe=n("tj7V"),Xe=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.companies,n=e.companyId,i=t.find(function(e){return e.id===n});return i?h.a.createElement("span",null,i.name):h.a.createElement("span",null)}}]),t}(f.Component),Je=Object(E.c)(function(e){return{companies:Object(Qe.companiesSelector)(e).items}})(Xe),Ze=n("dlIn"),$e=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.contactTypes,n=e.contactTypeId,i=t.find(function(e){return e.id===n});return i?h.a.createElement("span",null,i.name):h.a.createElement("span",null)}}]),t}(f.Component),et=Object(E.c)(function(e){return{contactTypes:Object(Ze.contactTypesSelector)(e).items}})($e),tt=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.policyTypes,n=e.policyTypeId,i=t.find(function(e){return e.id===n});return i?h.a.createElement("span",null,i.name):h.a.createElement("span",null)}}]),t}(f.Component),nt=Object(E.c)(function(e){return{policyTypes:Object(Ze.policyTypesSelector)(e).items}})(tt),it=n("QkX6"),rt=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.commissionTypes,n=e.commissionTypeId,i=t.find(function(e){return e.id===n});return i?h.a.createElement("span",null,i.name):h.a.createElement("span",null)}}]),t}(f.Component),ot=Object(E.c)(function(e){return{commissionTypes:Object(it.commissionTypesSelector)(e).items}})(rt),at=n("8pPz"),st=function(e){function t(e){var n;return o()(this,t),n=l()(this,p()(t).call(this,e)),b()(I()(n),"loadClient",function(){n.props.clientId?n.props.dispatch(Object(at.getClient)(n.props.clientId,function(e){n.setState({client:e})})):n.setState({client:null})}),n.state={client:null},n.loadClient(),n}return m()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){this.props.clientId!=e.clientId&&this.loadClient()}},{key:"render",value:function(){var e=this.state.client;return e?h.a.createElement("span",{className:this.props.className},"".concat(e.firstName||""," ").concat(e.lastName||"")):h.a.createElement("span",null)}}]),t}(f.Component),ct=Object(E.c)()(st),lt=n("3jNk"),ut=function(e){function t(e){var n;return o()(this,t),n=l()(this,p()(t).call(this,e)),b()(I()(n),"loadClient",function(){n.props.policyId?n.props.dispatch(Object(lt.getPolicy)(n.props.policyId,function(e){n.setState({policy:e})})):n.setState({policy:null})}),n.state={policy:null},n.loadClient(),n}return m()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){this.props.policyId!=e.policyId&&this.loadClient()}},{key:"render",value:function(){var e=this.state.policy;return e?h.a.createElement("span",{className:this.props.className},"".concat(e.number||"")):h.a.createElement("span",null)}}]),t}(f.Component),pt=Object(E.c)()(ut),dt=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.commissionEarningsTypes,n=e.commissionEarningsTypeId,i=t.find(function(e){return e.id===n});return i?h.a.createElement("span",null,i.name):h.a.createElement("span",null)}}]),t}(f.Component),mt=Object(E.c)(function(e){return{commissionEarningsTypes:Object(it.commissionEarningsTypesSelector)(e).items}})(dt),ft=(n("TfFZ"),n("3S7+")),ht=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(r))),b()(I()(n),"getIcon",function(e,t,i){var r=n.props.clientTypes.find(function(t){return t.id===e});if(!r)return h.a.createElement("span",null);var o=de()({color:i,fontSize:"18px"},n.props.style);return h.a.createElement(ft.a,{title:r.name,mouseEnterDelay:.5},h.a.createElement(ee.a,{type:t,style:o}))}),n}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.clientTypes,n=e.clientTypeId;if(!t.find(function(e){return e.id===n}))return h.a.createElement("span",null);switch(n){case Ze.ClientTypeId.Individual:return this.getIcon(Ze.ClientTypeId.Individual,"user","#9D44B5");case Ze.ClientTypeId.Company:return this.getIcon(Ze.ClientTypeId.Company,"bank","#D1495B");case Ze.ClientTypeId.Trust:return this.getIcon(Ze.ClientTypeId.Trust,"team","#012A36");default:return h.a.createElement(ee.a,{type:"question"})}}}]),t}(f.Component),Et=Object(E.c)(function(e){return{clientTypes:Object(Ze.clientTypesSelector)(e).items}})(ht),Ct=(n("RKNx"),n("L41K")),gt=Ct.a.Step,vt=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){return h.a.createElement(Te.a,{type:"flex",align:"middle",gutter:16,className:"mb-1"},h.a.createElement(ge.a,null,this.props.onPrevious&&h.a.createElement(he,{noLeftMargin:!0,onClick:this.props.onPrevious,disabled:this.props.previousDisabled},h.a.createElement(ee.a,{type:"left"}),"Previous")),h.a.createElement(ge.a,{style:{flex:1}},h.a.createElement(Ct.a,{current:this.props.currentStepIndex,size:"small"},this.props.steps.map(function(e){return h.a.createElement(gt,{key:e,title:e})}))),h.a.createElement(ge.a,null,this.props.onNext&&h.a.createElement(he,{type:"primary",onClick:this.props.onNext,disabled:this.props.nextDisabled,loading:this.props.nextLoading},this.props.nextText?this.props.nextText:"Next",h.a.createElement(ee.a,{type:this.props.nextIcon?this.props.nextIcon:"right"}))))}}]),t}(f.Component);n.d(t,"o",function(){return S}),n.d(t,"s",function(){return A}),n.d(t,"t",function(){return M}),n.d(t,"w",function(){return V}),n.d(t,"z",function(){return D}),n.d(t,"p",function(){return Y}),n.d(t,"r",function(){return L}),n.d(t,"q",function(){return z}),n.d(t,"x",function(){return J}),n.d(t,"y",function(){return $}),n.d(t,"u",function(){return te}),n.d(t,"v",function(){return ne}),n.d(t,"A",function(){return se}),n.d(t,"n",function(){return le}),n.d(t,"b",function(){return he}),n.d(t,"m",function(){return Ce}),n.d(t,"F",function(){return ye}),n.d(t,"G",function(){return Oe}),n.d(t,"H",function(){return be}),n.d(t,"C",function(){return Ne}),n.d(t,"j",function(){return Re}),n.d(t,"L",function(){return Ae}),n.d(t,"e",function(){return ke}),n.d(t,"O",function(){return Me}),n.d(t,"M",function(){return xe}),n.d(t,"K",function(){return Ve}),n.d(t,"a",function(){return De}),n.d(t,"l",function(){return Fe}),n.d(t,"k",function(){return Ue}),n.d(t,"B",function(){return Be}),n.d(t,"J",function(){return ze}),n.d(t,"N",function(){return We}),n.d(t,"h",function(){return Je}),n.d(t,"i",function(){return et}),n.d(t,"E",function(){return nt}),n.d(t,"g",function(){return ot}),n.d(t,"c",function(){return ct}),n.d(t,"D",function(){return pt}),n.d(t,"f",function(){return mt}),n.d(t,"d",function(){return Et}),n.d(t,"I",function(){return vt})},S96g:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i=n("Lq9/"),r=function(e){return{type:"COMMISSIONS_COMMISSION_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.b,"/").concat(e),dispatchPrefix:"COMMISSIONS_COMMISSION"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.b,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"COMMISSIONS_COMMISSION_EDIT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.b),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"COMMISSIONS_COMMISSION_EDIT"}}},SXGS:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.organisations.list},function(e){return e})},"T55+":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return{type:"MARRITALSTATUS_LIST_RECEIVE",payload:e}}},USqm:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.policies.policy},function(e){return e})},UWcO:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var i=n("DP+r"),r=function(e){return{type:"ORGANISATIONS_ORGANISATION_RECEIVE",payload:e}},o=function(e,t){return{type:"API",endpoint:"".concat(i.g,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"ORGANISATIONS_ORGANISATION_EDIT"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.g),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"ORGANISATIONS_ORGANISATION_EDIT"}}},Ui1n:function(e,t){},"V+TH":function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"l",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return E});var i=n("EcEN"),r=n("+Y4i"),o=function(e){return{type:"CLIENTS_IMPORT_FILE_NAME_RECEIVE",payload:e}},a=function(e){return{type:"CLIENTS_IMPORT_DATA_RECEIVE",payload:e}},s=function(e){return{type:"CLIENTS_IMPORT_SELECTED_COLUMNS_RECEIVE",payload:e}},c=function(e){return{type:"CLIENTS_IMPORT_CLIENTS_RECEIVE",payload:e}},l=function(e){return{type:"CLIENTS_IMPORT_CLIENTS_REMOVE",payload:e}},u=function(e){return{type:"CLIENTS_IMPORT_CLIENTS_POLICY_COMPANY_RECEIVE",payload:e}},p=function(){return{type:"CLIENTS_IMPORT_CLIENTS_UPDATE_POLICY_COMPANIES"}},d=function(){return{type:"CLIENTS_IMPORT_CLIENTS_NEXT_STEP"}},m=function(){return{type:"CLIENTS_IMPORT_CLIENTS_PREVIOUS_STEP"}},f=function(){return{type:"CLIENTS_IMPORT_CLIENT_CLEAR_RESULTS"}},h=function(){return{type:"CLIENTS_IMPORT_CLIENT_RESET"}},E=function(e){return{queue:"CLIENTS_IMPORT_CLIENTS",callback:function(t,n){n({type:"API",endpoint:"".concat(r.c),method:"POST",payload:e,hideNotifications:!0,onSuccess:function(){n({type:"CLIENTS_IMPORT_CLIENT_SUCCESS",payload:e}),t()},onFailure:function(r){n(function(e,t){return{type:"CLIENTS_IMPORT_CLIENT_FAILURE",payload:{_id:Object(i.v4)(),importClient:e,error:t}}}(e,JSON.stringify(r,null,4))),t()}})}}}},Vg4D:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.clients.list},function(e){return e})},W8Bw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.lookups.marritalStatus.list},function(e){return e})},WVTo:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.statements.statement},function(e){return e})},WgaQ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.commissions.commission},function(e){return e})},YC0x:function(e,t,n){"use strict";var i=n("29Ov");n.o(i,"UNKNOWN_COMMISSION_TYPE_CODE")&&n.d(t,"UNKNOWN_COMMISSION_TYPE_CODE",function(){return i.UNKNOWN_COMMISSION_TYPE_CODE}),n.o(i,"commissionEarningsTypesSelector")&&n.d(t,"commissionEarningsTypesSelector",function(){return i.commissionEarningsTypesSelector}),n.o(i,"commissionStatementTemplateFieldNamesSelector")&&n.d(t,"commissionStatementTemplateFieldNamesSelector",function(){return i.commissionStatementTemplateFieldNamesSelector}),n.o(i,"commissionTypeSelector")&&n.d(t,"commissionTypeSelector",function(){return i.commissionTypeSelector}),n.o(i,"commissionTypesSelector")&&n.d(t,"commissionTypesSelector",function(){return i.commissionTypesSelector}),n.o(i,"fetchAllCommissionLookups")&&n.d(t,"fetchAllCommissionLookups",function(){return i.fetchAllCommissionLookups}),n.o(i,"insertCommissionType")&&n.d(t,"insertCommissionType",function(){return i.insertCommissionType}),n.o(i,"receiveCommissionEarningsTypes")&&n.d(t,"receiveCommissionEarningsTypes",function(){return i.receiveCommissionEarningsTypes}),n.o(i,"receiveCommissionStatementTemplateFieldNames")&&n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return i.receiveCommissionStatementTemplateFieldNames}),n.o(i,"receiveCommissionTypes")&&n.d(t,"receiveCommissionTypes",function(){return i.receiveCommissionTypes}),n.o(i,"updateCommissionType")&&n.d(t,"updateCommissionType",function(){return i.updateCommissionType});var r=n("ovV9");n.d(t,"fetchAllCommissionLookups",function(){return r.a});var o=n("DVeo");n.d(t,"commissionLookupsSelector",function(){return o.a})},YJ5K:function(e,t){},YMfE:function(e,t,n){"use strict";var i=n("wd/R"),r=n.n(i),o=function(e){if(!Number(e))return r()(e).format("YYYY-MM-DD");var t=parseInt(e),n=a(t);return r()(n).format("YYYY-MM-DD")},a=function(e){return new Date(864e5*(e-25569))},s=function(e,t){var n=r()();return{start:(n=(n=n.month(e-1)).year(t)).startOf("month").format("YYYY-MM-DD"),end:n.endOf("month").format("YYYY-MM-DD")}},c=function(){return r.a.months().map(function(e,t){return{number:t+1,name:e}})},l=function(){for(var e=[],t=r()().year(),n=t-20;n<=t;n++)e.push(n);return e.reverse()},u=function(e){if(!e)return"";var t=r()(e);return r()().diff(t,"years")},p=n("cvkN"),d=n.n(p),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e||""===e||null===e?"":d()(e,{symbol:"R ",formatWithSymbol:!0,precision:t}).format()},f=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},h=function(e){return(e=e.replace(/([A-Z]+)/g," $1").replace(/([A-Z][a-z])/g," $1")).charAt(0).toUpperCase()+e.slice(1)};n.d(t,"a",function(){return"YYYY-MM-DD"}),n.d(t,"b",function(){return"YYYY-MM-DD HH:mm:ss"}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"j",function(){return h})},Yedt:function(e,t,n){"use strict";var i=n("OOX3");n.o(i,"fetchOrganisations")&&n.d(t,"fetchOrganisations",function(){return i.fetchOrganisations}),n.o(i,"insertOrganisation")&&n.d(t,"insertOrganisation",function(){return i.insertOrganisation}),n.o(i,"organisationSelector")&&n.d(t,"organisationSelector",function(){return i.organisationSelector}),n.o(i,"receiveOrganisation")&&n.d(t,"receiveOrganisation",function(){return i.receiveOrganisation}),n.o(i,"updateOrganisation")&&n.d(t,"updateOrganisation",function(){return i.updateOrganisation});var r=n("bjhc");n.d(t,"fetchOrganisations",function(){return r.a});var o=n("SXGS");n.d(t,"organisationsSelector",function(){return o.a});var a=n("UWcO");n.d(t,"insertOrganisation",function(){return a.a}),n.d(t,"receiveOrganisation",function(){return a.b}),n.d(t,"updateOrganisation",function(){return a.c});var s=n("6NaE");n.d(t,"organisationSelector",function(){return s.a})},YlNm:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c});var i=n("QJI5"),r=n("DP+r"),o=function(e,t,n){var o="".concat(r.c,"/logs");return o=Object(i.b)(o,e),o=Object(i.c)(o,t),{type:"API",endpoint:o=Object(i.a)(o,n),dispatchPrefix:"AUDIT_LOGS_LIST"}},a=function(e){return{type:"AUDIT_LOGS_LIST_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"AUDIT_LOGS_LIST_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e){return{type:"AUDIT_LOGS_LIST_FILTERS_RECEIVE",payload:e}}},YnBa:function(e,t){},ZtDm:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("QJI5"),r=n("+Y4i"),o=function(e){var t=r.f;return t=Object(i.b)(t,{number:1,size:10}),t=Object(i.c)(t,{column:"number",direction:"asc"}),{type:"API",endpoint:t=Object(i.a)(t,e),dispatchPrefix:"POLICIES_SEARCH"}}},am9W:function(e,t,n){"use strict";t.a={baseApi:"https://staging-api.oneadvisor.net",environment:"staging",ui:{pageHeaderHeight:48,footerHeight:50,pageSize:10}}},bCZZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var i=n("Lq9/"),r=function(e){return{type:"API",endpoint:"".concat(i.e,"/").concat(e,"/errors/next?hasValidFormat=false"),dispatchPrefix:"COMMISSIONS_ERROR_FORMAT"}},o=function(e){return{type:"COMMISSIONS_ERROR_FORMAT_RECEIVE",payload:e}},a=function(e,t,n){return{type:"API",endpoint:"".concat(i.e,"/").concat(e,"/errors/resolve/format"),method:"POST",payload:t,onSuccess:n,dispatchPrefix:"COMMISSIONS_ERROR_FORMAT_EDIT"}}},bDFr:function(e,t,n){"use strict";var i=n("kug3");n.o(i,"auditLogsSelector")&&n.d(t,"auditLogsSelector",function(){return i.auditLogsSelector}),n.o(i,"fetchAuditLogs")&&n.d(t,"fetchAuditLogs",function(){return i.fetchAuditLogs}),n.o(i,"receiveFilters")&&n.d(t,"receiveFilters",function(){return i.receiveFilters}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions})},bQXf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DP+r"),r=function(){return{type:"API",endpoint:"".concat(i.j,"/simple"),dispatchPrefix:"USERSSIMPLE_LIST"}}},bXmf:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return c});var i="DIRECTORY",r="CLIENT",o="COMMISSION",a=r,s=function(e,t,n,i,r){return{id:e,name:t,color:n,relativePath:i,icon:r,isCurrent:!1}},c=[s(i,"Directory","#cc3f0c","/directory","safety"),s(r,"Client","#009ffd","/client","user"),s(o,"Commission","#2A2A72","/commission","dollar")]},bjhc:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DP+r"),r=function(){return{type:"API",endpoint:i.g,dispatchPrefix:"ORGANISATIONS_LIST"}}},cXah:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c});var i=n("QJI5"),r=n("Lq9/"),o=function(e,t,n){var o="".concat(r.e,"/").concat(e,"/errors");return o=Object(i.b)(o,t),{type:"API",endpoint:o=Object(i.c)(o,n),dispatchPrefix:"COMMISSIONS_ERRORS_LIST"}},a=function(e){return{type:"COMMISSIONS_ERRORS_LIST_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"COMMISSIONS_ERRORS_LIST_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e,t,n){return{type:"API",endpoint:"".concat(r.e,"/").concat(e,"/errors?hasValidFormat=").concat(t),onSuccess:n}}},cgcG:function(e,t,n){"use strict";var i=n("G4qV");Object(i.a)(function(e){return e.app.directory.usersSimple.userSimple},function(e){return e})},ct87:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.users.list},function(e){return e})},d4ui:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u});var i=n("QJI5"),r=n("+Y4i"),o=n("8pPz"),a=function(e){var t=r.a,n={clientId:e};return{type:"API",endpoint:t=Object(i.a)(t,n),dispatchPrefix:"CLIENTS_MERGE_SOURCE"}},s=function(){return{type:"CLIENTS_MERGE_NEXT_STEP"}},c=function(){return{type:"CLIENTS_MERGE_PREVIOUS_STEP"}},l=function(){return{type:"CLIENTS_MERGE_RESET"}},u=function(e,t){return{type:"API",method:"POST",endpoint:r.e,payload:e,dispatchPrefix:"CLIENTS_MERGE",onSuccess:t,onValidationFailure:function(e,t){t(Object(o.receiveClientValidationResults)(e))}}}},d5rn:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DP+r"),r=function(){return{type:"API",endpoint:i.j,dispatchPrefix:"USERS_LIST"}}},"dIH/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.commissions.list},function(e){return e})},dL8U:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.contacts.list},function(e){return e})},dRXp:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return{type:"COMMISSIONSTATEMENTTEMPLATEFIELDNAMES_LIST_RECEIVE",payload:e}}},dlIn:function(e,t,n){"use strict";var i=n("pmqn");n.o(i,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return i.ClientTypeId}),n.o(i,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return i.clientLookupsSelector}),n.o(i,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return i.clientTypesSelector}),n.o(i,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return i.contactTypesSelector}),n.o(i,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return i.fetchAllClientLookups}),n.o(i,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return i.marritalStatusSelector}),n.o(i,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return i.policyTypesSelector}),n.o(i,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return i.receiveClientTypes}),n.o(i,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return i.receiveContactTypes}),n.o(i,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return i.receiveMarritalStatus}),n.o(i,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return i.receivePolicyTypes});var r=n("jgpw");n.o(r,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return r.ClientTypeId}),n.o(r,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return r.clientLookupsSelector}),n.o(r,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return r.clientTypesSelector}),n.o(r,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return r.contactTypesSelector}),n.o(r,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return r.fetchAllClientLookups}),n.o(r,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return r.marritalStatusSelector}),n.o(r,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return r.policyTypesSelector}),n.o(r,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return r.receiveClientTypes}),n.o(r,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return r.receiveContactTypes}),n.o(r,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return r.receiveMarritalStatus}),n.o(r,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return r.receivePolicyTypes});var o=n("JiH6");n.o(o,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return o.ClientTypeId}),n.o(o,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return o.clientLookupsSelector}),n.o(o,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return o.clientTypesSelector}),n.o(o,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return o.contactTypesSelector}),n.o(o,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return o.fetchAllClientLookups}),n.o(o,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return o.marritalStatusSelector}),n.o(o,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return o.policyTypesSelector}),n.o(o,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return o.receiveClientTypes}),n.o(o,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return o.receiveContactTypes}),n.o(o,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return o.receiveMarritalStatus}),n.o(o,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return o.receivePolicyTypes});var a=n("l4AT");n.o(a,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return a.ClientTypeId}),n.o(a,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return a.clientLookupsSelector}),n.o(a,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return a.clientTypesSelector}),n.o(a,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return a.contactTypesSelector}),n.o(a,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return a.fetchAllClientLookups}),n.o(a,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return a.marritalStatusSelector}),n.o(a,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return a.policyTypesSelector}),n.o(a,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return a.receiveClientTypes}),n.o(a,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return a.receiveContactTypes}),n.o(a,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return a.receiveMarritalStatus}),n.o(a,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return a.receivePolicyTypes});var s=n("gK2M");n.o(s,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return s.ClientTypeId}),n.o(s,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return s.clientLookupsSelector}),n.o(s,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return s.clientTypesSelector}),n.o(s,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return s.contactTypesSelector}),n.o(s,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return s.fetchAllClientLookups}),n.o(s,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return s.marritalStatusSelector}),n.o(s,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return s.policyTypesSelector}),n.o(s,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return s.receiveClientTypes}),n.o(s,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return s.receiveContactTypes}),n.o(s,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return s.receiveMarritalStatus}),n.o(s,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return s.receivePolicyTypes})},dshj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.users.user},function(e){return e})},eD0R:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var i=n("+Y4i"),r=function(e){return{type:"CLIENTS_CLIENT_PREVIEW_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.a,"/").concat(e,"/preview"),dispatchPrefix:"CLIENTS_CLIENT_PREVIEW"}}},eH4S:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var i=n("QJI5"),r=n("Lq9/"),o=function(e,t,n){var o=r.e;return o=Object(i.b)(o,e),o=Object(i.c)(o,t),{type:"API",endpoint:o=Object(i.a)(o,n),dispatchPrefix:"STATEMENTS_LIST"}},a=function(e){return{type:"STATEMENTS_LIST_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"STATEMENTS_LIST_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e){return{type:"STATEMENTS_LIST_FILTERS_RECEIVE",payload:e}},l=function(e){return{type:"STATEMENTS_LIST_FILTERS_MONTH_RECEIVE",payload:e}},u=function(e){return{type:"STATEMENTS_LIST_FILTERS_YEAR_RECEIVE",payload:e}}},eHb1:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DP+r"),r=function(){return{type:"API",endpoint:i.b,dispatchPrefix:"APPLICATIONS_LIST"}}},esbR:function(e,t){},fIm2:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("Lq9/"),r=function(){return{type:"API",endpoint:i.d,dispatchPrefix:"COMMISSIONS_STATEMENT_TEMPLATES_LIST"}}},fROL:function(e,t){},fYBf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("DP+r"),r=n("dlIn"),o=function(){return{type:"API",endpoint:i.a,onSuccess:function(e,t){t(Object(r.receiveMarritalStatus)(e.marritalStatus)),t(Object(r.receiveContactTypes)(e.contactTypes)),t(Object(r.receivePolicyTypes)(e.policyTypes)),t(Object(r.receiveClientTypes)(e.clientTypes))},dispatchPrefix:"CLIENT_LOOKUPS"}}},feVg:function(e,t,n){"use strict";n("DP+r")},fmlm:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.errors.mapping},function(e){return e})},gK2M:function(e,t,n){"use strict";var i=n("N5HQ");n.o(i,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return i.clientLookupsSelector}),n.o(i,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return i.contactTypesSelector}),n.o(i,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return i.fetchAllClientLookups}),n.o(i,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return i.marritalStatusSelector}),n.o(i,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return i.policyTypesSelector}),n.o(i,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return i.receiveClientTypes}),n.o(i,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return i.receiveContactTypes}),n.o(i,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return i.receiveMarritalStatus}),n.o(i,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return i.receivePolicyTypes});var r=n("CaIi");n.d(t,"ClientTypeId",function(){return r.a});var o=n("r6oB");n.d(t,"receiveClientTypes",function(){return o.a});var a=n("2Ha8");n.d(t,"clientTypesSelector",function(){return a.a})},"gy+o":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DP+r"),r=function(){return{type:"API",endpoint:i.h,dispatchPrefix:"ROLES_LIST"}}},h57O:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i=function(){return[{id:1,name:"Organisation"},{id:2,name:"Branch"},{id:3,name:"User"}]},r=function(e){var t=i().find(function(t){return t.id>=e});return t?t.name:"No mapping"}},hGN7:function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,".clickable {\n    cursor: pointer;\n}\n\n.draggable {\n    cursor: move;\n}\n\n/* \nMARGIN\n*/\n.my-1 {\n    margin: 1rem 0 !important;\n}\n\n.mt-1 {\n    margin-top: 1rem !important;\n}\n\n.mt-2 {\n    margin-top: 2rem !important;\n}\n\n.mr-0 {\n    margin-right: 0 !important;\n}\n\n.mr-1 {\n    margin-right: 1rem !important;\n}\n\n.mb-0 {\n    margin-bottom: 0 !important;\n}\n\n.mb-1 {\n    margin-bottom: 1rem !important;\n}\n\n.mb-2 {\n    margin-bottom: 2rem !important;\n}\n\n.ml-1 {\n    margin-left: 1rem !important;\n}\n\n.ml-2 {\n    margin-left: 2rem !important;\n}\n\n/* \nPADDING\n*/\n.pt-3 {\n    padding-top: 3rem !important;\n}\n\n/* \nCOLORS\n*/\n.text-success {\n    color: #389e0d !important;\n}\n\n.text-error {\n    color: #f5222d !important;\n}\n\n.text-primary {\n    color: #40a9ff !important;\n}\n\n/* \nALIGNMENT\n*/\n.text-center {\n    text-align: center;\n}\n\n.text-right {\n    text-align: right;\n}\n\n/* \nTEXT WEIGHT\n*/\n.font-weight-normal {\n    font-weight: normal !important;\n}\n\n/* \nFLOATS\n*/\n.pull-right {\n    float: right;\n}\n",""])},hTu4:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i=n("DP+r"),r=function(e){return{type:"USERS_USER_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.j,"/").concat(e),dispatchPrefix:"USERS_USER"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.j,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"USERS_USER_EDIT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.j),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"USERS_USER_EDIT"}}},hw8q:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return{type:"POLICYTYPES_LIST_RECEIVE",payload:e}}},iA3C:function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,"/* LAYOUT */\n.ant-layout {\n    background-color: #ffffff !important;\n}\n\n/* HEADER */\n.ant-page-header-title-view-title {\n    font-size: 18px !important;\n    line-height: 2 !important;\n}\n\n.ant-page-header-title-view-extra {\n    top: 10px !important;\n    right: 0px !important;\n}\n\n/* TABLE */\n.ant-table td,\n.ant-table th {\n    white-space: nowrap;\n}\n\n.ant-table-footer {\n    padding: 12px 12px !important;\n    font-size: 0.9em;\n}\n\n.ant-table-filter-dropdown-link {\n    position: relative;\n}\n\n/* LIST */\n.ant-list-item-action {\n    margin-left: 20px !important;\n}\n\n/* FORM */\n.ant-form-inline > .ant-form-item-with-help {\n    margin-bottom: 0 !important;\n}\n\n/* SKELETON */\n.ant-skeleton-paragraph {\n    padding-left: 0 !important;\n    margin-bottom: 5px !important;\n}\n\n.content-header .ant-skeleton-active {\n    margin-top: 8px;\n    margin-bottom: 12px;\n}\n\n/* DRAWER */\n.ant-drawer-header {\n    padding: 21px 24px !important;\n}\n\n.ant-drawer-close {\n    height: 65px !important;\n    line-height: 65px !important;\n}\n",""])},iFww:function(e,t,n){"use strict";var i=n("y9kQ");n.o(i,"commissionLookupsSelector")&&n.d(t,"commissionLookupsSelector",function(){return i.commissionLookupsSelector}),n.o(i,"commissionStatementTemplateFieldNamesSelector")&&n.d(t,"commissionStatementTemplateFieldNamesSelector",function(){return i.commissionStatementTemplateFieldNamesSelector}),n.o(i,"fetchAllCommissionLookups")&&n.d(t,"fetchAllCommissionLookups",function(){return i.fetchAllCommissionLookups}),n.o(i,"receiveCommissionEarningsTypes")&&n.d(t,"receiveCommissionEarningsTypes",function(){return i.receiveCommissionEarningsTypes}),n.o(i,"receiveCommissionStatementTemplateFieldNames")&&n.d(t,"receiveCommissionStatementTemplateFieldNames",function(){return i.receiveCommissionStatementTemplateFieldNames});var r=n("ruQ+");n.d(t,"receiveCommissionEarningsTypes",function(){return r.a});var o=n("6KxC");n.d(t,"commissionEarningsTypesSelector",function(){return o.a})},iTDW:function(e,t){},inXv:function(e,t,n){"use strict";var i=n("4IQE");n.o(i,"fetchApplications")&&n.d(t,"fetchApplications",function(){return i.fetchApplications});var r=n("eHb1");n.d(t,"fetchApplications",function(){return r.a});var o=n("AHnv");n.d(t,"applicationsSelector",function(){return o.a})},j013:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),r=n.n(i),o=n("Ty5D"),a=(n("tULf"),n("Vl3Y")),s=(n("2oDE"),n("CtXQ")),c=(n("2DKY"),n("+KLJ")),l=n("lwsE"),u=n.n(l),p=n("W8MJ"),d=n.n(p),m=n("a1gu"),f=n.n(m),h=n("Nsbk"),E=n.n(h),C=n("PJYZ"),g=n.n(C),v=n("7W2i"),S=n.n(v),y=n("lSNA"),T=n.n(y),I=n("cr+I"),O=n.n(I),b=n("/MKj"),_=n("Q378"),N=n("RsWF"),R=n("lYOk"),P=(n("Jmwx"),n("BMrR")),j=(n("rO+z"),n("kPKH")),L=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"redirectToSignIn",function(){n.props.history.push("/")}),n}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{type:"flex",justify:"center"},r.a.createElement(j.a,{sm:14,md:10,lg:6,xl:4,style:{marginTop:"80px"}},r.a.createElement("div",{className:"mb-2",style:{fontSize:"32px",textAlign:"center"},onClick:this.redirectToSignIn},r.a.createElement("span",{style:{fontWeight:100}},"ONE"),r.a.createElement("span",{style:{fontWeight:600}},"ADVISOR")),r.a.createElement("h3",null,this.props.header),r.a.createElement(N.j,{isLoading:this.props.loading},this.props.children))))}}]),t}(r.a.Component),A=Object(o.g)(L),k=function(e){function t(e){var n;u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handlePasswordChange",function(e,t){n.setState({password:t})}),T()(g()(n),"handleConfirmPasswordChange",function(e,t){n.setState({confirmPassword:t})}),T()(g()(n),"activate",function(){var e={userName:n.state.userName,password:n.state.password,confirmPassword:n.state.confirmPassword,token:n.state.token};n.props.dispatch(Object(_.activate)(e,function(){Object(R.a)("success","Activation Successful, Welcome to One Advisor",4),n.props.history.push("/")}))}),T()(g()(n),"onKeyPress",function(e){"Enter"===e.key&&n.activate()});var i=O.a.parse(n.props.location.search);return n.state={userName:i.username,token:i.token,password:"",confirmPassword:""},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(_.signOut)())}},{key:"render",value:function(){var e=this.props.validationResults;return r.a.createElement(A,{header:"Activate Acccount",loading:this.props.fetching},r.a.createElement(c.a,{message:"Welcome to One Advisor, please choose a new password to activate your account.",type:"info",className:"mb-1"}),r.a.createElement(N.q,{validationResults:e}),r.a.createElement(a.a,{layout:"vertical"},r.a.createElement(N.s,{placeholder:"Username",fieldName:"userName",value:this.state.userName,size:"large",prefix:r.a.createElement(s.a,{type:"user"}),validationResults:e,formFieldStyle:{marginBottom:"10px"},disabled:!0}),r.a.createElement(N.s,{placeholder:"Password",fieldName:"password",value:this.state.password,prefix:r.a.createElement(s.a,{type:"lock"}),size:"large",onChange:this.handlePasswordChange,validationResults:e,autoFocus:!0,formFieldStyle:{marginBottom:"10px"},type:"password",onKeyPress:this.onKeyPress}),r.a.createElement(N.s,{placeholder:"Confirm Password",fieldName:"confirmPassword",value:this.state.confirmPassword,prefix:r.a.createElement(s.a,{type:"lock"}),size:"large",onChange:this.handleConfirmPasswordChange,validationResults:e,formFieldStyle:{marginBottom:"25px"},type:"password",onKeyPress:this.onKeyPress}),r.a.createElement(N.r,null,r.a.createElement(N.b,{size:"large",noLeftMargin:!0,onClick:this.activate,type:"primary",block:!0},"Activate Account"))))}}]),t}(r.a.Component),M=Object(o.g)(Object(b.c)(function(e){var t=Object(_.resetPasswordSelector)(e);return{fetching:t.fetching,validationResults:t.validationResults}})(k)),w=function(e){function t(e){var n;u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handlePasswordChange",function(e,t){n.setState({password:t})}),T()(g()(n),"handleConfirmPasswordChange",function(e,t){n.setState({confirmPassword:t})}),T()(g()(n),"resetPassword",function(){var e={userName:n.state.userName,password:n.state.password,confirmPassword:n.state.confirmPassword,token:n.state.token};n.props.dispatch(Object(_.resetPassword)(e,function(){Object(R.a)("success","Your Password has been Successfully Reset",4),n.props.history.push("/")}))}),T()(g()(n),"onKeyPress",function(e){"Enter"===e.key&&n.resetPassword()});var i=O.a.parse(n.props.location.search);return n.state={userName:i.username,token:i.token,password:"",confirmPassword:""},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(_.signOut)())}},{key:"render",value:function(){var e=this.props.validationResults;return r.a.createElement(A,{header:"Reset Password",loading:this.props.fetching},r.a.createElement(c.a,{message:"Please choose a new password.",type:"info",className:"mb-1"}),r.a.createElement(N.q,{validationResults:e}),r.a.createElement(a.a,{layout:"vertical"},r.a.createElement(N.s,{placeholder:"Username",fieldName:"userName",value:this.state.userName,size:"large",prefix:r.a.createElement(s.a,{type:"user"}),validationResults:e,formFieldStyle:{marginBottom:"10px"},disabled:!0}),r.a.createElement(N.s,{placeholder:"Password",fieldName:"password",value:this.state.password,prefix:r.a.createElement(s.a,{type:"lock"}),size:"large",onChange:this.handlePasswordChange,validationResults:e,autoFocus:!0,formFieldStyle:{marginBottom:"10px"},type:"password",onKeyPress:this.onKeyPress}),r.a.createElement(N.s,{placeholder:"Confirm Password",fieldName:"confirmPassword",value:this.state.confirmPassword,prefix:r.a.createElement(s.a,{type:"lock"}),size:"large",onChange:this.handleConfirmPasswordChange,validationResults:e,formFieldStyle:{marginBottom:"25px"},type:"password",onKeyPress:this.onKeyPress}),r.a.createElement(N.r,null,r.a.createElement(N.b,{size:"large",noLeftMargin:!0,onClick:this.resetPassword,type:"primary",block:!0},"Submit"))))}}]),t}(r.a.Component),x=Object(o.g)(Object(b.c)(function(e){var t=Object(_.resetPasswordSelector)(e);return{fetching:t.fetching,validationResults:t.validationResults}})(w)),V=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleUserNameChange",function(e,t){n.setState({userName:t})}),T()(g()(n),"sendResetPasswordRequest",function(){n.setState({fetching:!0});var e={userName:n.state.userName};n.props.dispatch(Object(_.resetPasswordRequest)(e,function(){n.setState({emailSent:!0,fetching:!1})},function(){n.setState({fetching:!1})}))}),T()(g()(n),"onKeyPress",function(e){"Enter"===e.key&&n.sendResetPasswordRequest()}),T()(g()(n),"signIn",function(){n.props.history.push("/signin")}),n.state={userName:"",emailSent:!1,fetching:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(_.signOut)())}},{key:"render",value:function(){return r.a.createElement(A,{header:"Reset Password",loading:this.state.fetching},this.state.emailSent&&r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{message:"if an account exists with the username you entered, we will email you instructions for resetting your password. If you don't receive an email, please make sure you've entered the username you registered with.",type:"info",className:"mb-1"}),r.a.createElement(N.b,{size:"large",noLeftMargin:!0,onClick:this.signIn,type:"primary",block:!0},"Sign In")),!this.state.emailSent&&r.a.createElement(a.a,{layout:"vertical"},r.a.createElement(N.s,{placeholder:"Username",fieldName:"userName",onChange:this.handleUserNameChange,value:this.state.userName,size:"large",prefix:r.a.createElement(s.a,{type:"user"}),formFieldStyle:{marginBottom:"25px"},autoFocus:!0}),r.a.createElement(N.r,null,r.a.createElement(N.b,{size:"large",noLeftMargin:!0,onClick:this.sendResetPasswordRequest,type:"primary",block:!0},"Submit"))))}}]),t}(r.a.Component),D=Object(o.g)(Object(b.c)()(V)),F=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"redirect",function(){n.props.history.push("/")}),T()(g()(n),"handleUserNameChange",function(e,t){n.setState({userName:t})}),T()(g()(n),"handlePasswordChange",function(e,t){n.setState({password:t})}),T()(g()(n),"signIn",function(){var e={userName:n.state.userName,password:n.state.password};n.props.dispatch(Object(_.signIn)(e,function(){}))}),T()(g()(n),"onKeyPress",function(e){"Enter"===e.key&&n.signIn()}),T()(g()(n),"forgotPassword",function(){n.props.history.push("/resetPasswordRequest")}),n.state={userName:"",password:""},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.redirect()}},{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated&&!e.isAuthenticated&&this.redirect()}},{key:"render",value:function(){var e=this.props.validationResults;return r.a.createElement(A,{header:"Sign In",loading:this.props.fetching},r.a.createElement(a.a,{layout:"vertical"},r.a.createElement(N.s,{placeholder:"Username",fieldName:"userName",value:this.state.userName,size:"large",prefix:r.a.createElement(s.a,{type:"user"}),onChange:this.handleUserNameChange,validationResults:e,autoFocus:!0,formFieldStyle:{marginBottom:"10px"},onKeyPress:this.onKeyPress}),r.a.createElement(N.s,{placeholder:"Password",fieldName:"password",value:this.state.password,prefix:r.a.createElement(s.a,{type:"lock"}),size:"large",onChange:this.handlePasswordChange,validationResults:e,formFieldStyle:{marginBottom:"25px"},type:"password",onKeyPress:this.onKeyPress}),this.props.failed&&r.a.createElement("p",{className:"text-error text-center mb-2"},r.a.createElement("b",null,"Invalid email or password")),r.a.createElement(N.r,null,r.a.createElement(N.b,{size:"large",noLeftMargin:!0,onClick:this.signIn,type:"primary",block:!0},"Sign In"))),r.a.createElement("p",{className:"text-center"},r.a.createElement("a",{onClick:this.forgotPassword},"Forgot Password?")))}}]),t}(r.a.Component),U=Object(o.g)(Object(b.c)(function(e){var t=Object(_.signInSelector)(e);return{isAuthenticated:Object(_.isAuthenticatedSelector)(e),fetching:t.fetching,failed:t.signInFailed,validationResults:t.validationResults}})(F)),G=(n("k994"),n("NJEC")),H=n("QJI5"),Y=n("tvWd"),B=n("8pPz"),z=n("dlIn"),q=(n("qNb/"),n("PArb")),K=n("MVZn"),W=n.n(K),Q=(n("aIZi"),n("jsC+")),X=(n("2WkQ"),n("BvKs")),J=n("o0o1"),Z=n.n(J),$=n("yXPU"),ee=n.n($),te=n("wd/R"),ne=n.n(te),ie=function(e){if(isNaN(parseInt(e)))return{success:!1};if(e.length<6)return{success:!1};var t=ne()(e.substring(0,6),"YYMMDD");if(!t.isValid())return{success:!1};var n=t.format("YYYY-MM-DD");if(e.length<10)return{success:!1,dateOfBirth:n};var i=e.substring(6,10),r=parseInt(i)<5e3?"F":"M";if(e.length<13)return{success:!1,dateOfBirth:n,gender:r};for(var o=0,a=0,s=1,c=0;c<13;++c)(o=parseInt(e.charAt(c))*s)>9&&(o=parseInt(o.toString().charAt(0))+parseInt(o.toString().charAt(1))),a+=o,s=s%2==0?1:2;return a%10!=0?{success:!1,dateOfBirth:n,gender:r}:{success:!0,dateOfBirth:n,gender:r}},re=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(){var e=ee()(Z.a.mark(function e(t,i){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=W()({},n.state.client,T()({},t,i)),e.next=3,n.updateClient(r);case 3:n.onFieldChanged(t,i);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),T()(g()(n),"updateClient",function(e){return new Promise(function(t){n.setState({client:e},t),n.props.onChange(e)})}),T()(g()(n),"onFieldChanged",function(e,t){switch(e){case"firstName":return void n.onFirstNameChanged(t);case"idNumber":return void n.onIdNumberChanged(t)}}),T()(g()(n),"onFirstNameChanged",function(e){var t=e.split(" "),i=t.reduce(function(e,t){return"".concat(e).concat(t.charAt(0).toUpperCase())},""),r=W()({},n.state.client,{initials:i,preferredName:t.length>0?t[0]:""});n.updateClient(r)}),T()(g()(n),"onIdNumberChanged",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=ie(e);if(i.dateOfBirth){var r=W()({},n.state.client,{dateOfBirth:n.state.client.dateOfBirth&&!t?n.state.client.dateOfBirth:i.dateOfBirth});n.updateClient(r)}}),T()(g()(n),"syncDateOfBirthToIdNumber",function(){n.onIdNumberChanged(n.state.client.idNumber,!0)}),T()(g()(n),"idNumberInputAddon",function(){var e=r.a.createElement(X.a,null,r.a.createElement(X.a.Item,{key:"1",onClick:n.syncDateOfBirthToIdNumber},"Sync Date of Birth"));return r.a.createElement(Q.a,{overlay:e,trigger:["click"]},r.a.createElement(s.a,{type:"setting",className:"clickable"}))}),T()(g()(n),"isMarried",function(){return["5f7a5d69-845c-4f8d-b108-7c70084f3f6a","b31331ec-73cb-4985-aa93-e60e04a48095","b16cbd3b-cf50-4a74-8f38-a8ca6b1cb83f"].some(function(e){return n.state.client.marritalStatusId===e})}),n.state={client:e.client},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.client!=e.client&&this.setState({client:this.props.client})}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.client;return r.a.createElement(N.o,{editUseCase:"clt_edit_clients"},r.a.createElement(N.w,{fieldName:"clientTypeId",label:"Client Type",value:t.clientTypeId,onChange:this.handleChange,validationResults:e,options:this.props.clientTypes,optionsValue:"id",optionsText:"name"}),r.a.createElement(N.s,{fieldName:"firstName",label:"First Name",value:t.firstName,onChange:this.handleChange,validationResults:e,autoFocus:!0,hidden:t.clientTypeId!=z.ClientTypeId.Individual}),r.a.createElement(N.s,{fieldName:"lastName",label:Object(B.getLastNameLabel)(t.clientTypeId),value:t.lastName,onChange:this.handleChange,validationResults:e}),r.a.createElement(N.s,{fieldName:"initials",label:"Initials",value:t.initials,onChange:this.handleChange,validationResults:e,hidden:t.clientTypeId!==z.ClientTypeId.Individual}),r.a.createElement(N.s,{fieldName:"maidenName",label:"Maiden Name",value:t.maidenName,onChange:this.handleChange,validationResults:e,hidden:t.clientTypeId!==z.ClientTypeId.Individual}),r.a.createElement(N.s,{fieldName:"preferredName",label:"Preferred Name",value:t.preferredName,onChange:this.handleChange,validationResults:e,hidden:t.clientTypeId!==z.ClientTypeId.Individual}),r.a.createElement(N.s,{fieldName:"idNumber",label:"ID Number",value:t.idNumber,onChange:this.handleChange,validationResults:e,addonAfter:this.idNumberInputAddon(),hidden:t.clientTypeId!==z.ClientTypeId.Individual}),r.a.createElement(N.s,{fieldName:"alternateIdNumber",label:Object(B.getAlternateIdNumberLabel)(t.clientTypeId),value:t.alternateIdNumber,onChange:this.handleChange,validationResults:e}),r.a.createElement(N.p,{fieldName:"dateOfBirth",label:Object(B.getDateOfBirthLabel)(t.clientTypeId),value:t.dateOfBirth,onChange:this.handleChange,validationResults:e}),r.a.createElement(N.s,{fieldName:"taxNumber",label:"Tax Number",value:t.taxNumber,onChange:this.handleChange,validationResults:e}),r.a.createElement(N.w,{fieldName:"marritalStatusId",label:"Marrital Status",value:t.marritalStatusId,onChange:this.handleChange,validationResults:e,options:this.props.marritalStatus,optionsValue:"id",optionsText:"name",hidden:t.clientTypeId!==z.ClientTypeId.Individual}),r.a.createElement(N.p,{fieldName:"marriageDate",label:"Marriage Date",value:t.marriageDate,onChange:this.handleChange,validationResults:e,hidden:t.clientTypeId!==z.ClientTypeId.Individual||!this.isMarried()}))}}]),t}(i.Component),oe=Object(b.c)(function(e){var t=Object(z.marritalStatusSelector)(e),n=Object(z.clientTypesSelector)(e);return{marritalStatus:t.items,clientTypes:n.items}})(re),ae=function(e){function t(){return u()(this,t),f()(this,E()(t).apply(this,arguments))}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(N.I,this.props)}}]),t}(i.Component),se=Object(b.c)(function(e){var t=Object(B.clientMergeSelector)(e);return{steps:t.steps,currentStepIndex:t.currentStepIndex}})(ae),ce=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"onChange",function(e){n.setState({clientEdited:e})}),T()(g()(n),"mergeClients",function(e){var t=W()({},e[0]);return e.forEach(function(e){for(var n in e){var i=e[n];null!=i&&null!=i&&""!=i&&(t[n]=i)}}),t.id="",t}),T()(g()(n),"save",function(){if(n.state.clientEdited){var e={targetClient:n.state.clientEdited,sourceClientIds:n.props.clients.map(function(e){return e.id})};n.props.dispatch(Object(B.mergeClients)(e,function(){n.props.dispatch(Object(B.receiveSelectedClients)([])),n.props.dispatch(Object(B.clientMergeNextStep)())}))}}),n.state={clientEdited:null},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.mergeClients(this.props.clients);this.props.dispatch(Object(B.receiveClient)(e))}},{key:"componentDidUpdate",value:function(e){if(this.props.clients!=e.clients){var t=this.mergeClients(this.props.clients);this.props.dispatch(Object(B.receiveClient)(t))}this.props.client!=e.client&&this.setState({clientEdited:this.props.client})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{onNext:function(){return e.save()},nextIcon:"fork",nextText:"Merge",onPrevious:function(){return e.props.dispatch(Object(B.clientMergePreviousStep)())}}),r.a.createElement(q.a,null),r.a.createElement(c.a,{message:"Before merging, please confirm that you are happy with the merged client details.",type:"info",showIcon:!0,className:"mb-1"}),this.props.client&&r.a.createElement(oe,{client:this.props.client,validationResults:this.props.validationResults,onChange:this.onChange}))}}]),t}(i.Component),le=Object(b.c)(function(e){var t=Object(B.clientMergeSelector)(e),n=Object(B.clientSelector)(e);return{clients:t.clients,client:n.client,validationResults:n.validationResults}})(ce),ue=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"preview",function(){n.props.history.push("/client/clients/".concat(n.props.insertedClient.id))}),n}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null),r.a.createElement(q.a,null),r.a.createElement(c.a,{message:"Clients have been successfully merged.",type:"success",showIcon:!0,className:"mb-1"}),r.a.createElement(N.b,{icon:"user",onClick:this.preview,type:"primary",noLeftMargin:!0},"Preview Merged Client"))}}]),t}(i.Component),pe=Object(o.g)(Object(b.c)(function(e){return{insertedClient:Object(B.clientMergeSelector)(e).insertedClient}})(ue)),de=(n("LXko"),n("VXEj")),me=n("YMfE"),fe=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"clientFullName",function(e){var t=[];return e.lastName&&t.push(e.lastName),e.firstName&&t.push(e.firstName),e.initials&&t.push(e.initials),t.join(",")}),T()(g()(n),"clientDetails",function(e){var t=[];return e.dateOfBirth&&t.push("Age: ".concat(Object(me.f)(e.dateOfBirth))),e.idNumber?t.push("ID Number: ".concat(e.idNumber)):e.alternateIdNumber&&t.push("".concat(Object(B.getAlternateIdNumberLabel)(e.clientTypeId),": ").concat(e.alternateIdNumber)),t.join(" | ")}),n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{onNext:function(){return e.props.dispatch(Object(B.clientMergeNextStep)())}}),r.a.createElement(q.a,null),r.a.createElement(c.a,{message:"Before continuing, please confirm that you do wish to merge all the clients below.",type:"info",showIcon:!0,className:"mb-1"}),r.a.createElement(de.a,{itemLayout:"horizontal",bordered:!0,dataSource:this.props.clients,renderItem:function(t){return r.a.createElement(de.a.Item,null,r.a.createElement(de.a.Item.Meta,{title:e.clientFullName(t),description:e.clientDetails(t)}))}}))}}]),t}(i.Component),he=Object(b.c)(function(e){return{clients:Object(B.clientMergeSelector)(e).clients}})(fe),Ee=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"cancel",function(){n.props.onClose(2!=n.props.currentStepIndex)}),T()(g()(n),"isLoading",function(){return n.props.fetching}),n.state={steps:[r.a.createElement(he,null),r.a.createElement(le,null),r.a.createElement(pe,null)]},n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.currentStepIndex;return r.a.createElement(N.m,{title:"Merge Clients",icon:"fork",visible:t,onClose:this.cancel},r.a.createElement(N.j,{isLoading:this.isLoading()},this.state.steps.map(function(e,t){return r.a.createElement("div",{key:t,style:{display:t===n?"inline":"none"}},e)})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.cancel,disabled:this.isLoading()},"Cancel")))}}]),t}(i.Component),Ce=Object(b.c)(function(e){var t=Object(B.clientMergeSelector)(e),n=Object(B.clientSelector)(e);return{fetching:t.fetching||n.fetching||n.updating,currentStepIndex:t.currentStepIndex}})(Ee),ge=(n("k3Gp"),n("kLXV")),ve={title:"Confirm",content:"You have unsaved changes are you sure you want to cancel?",okText:"Ok",cancelText:"Cancel"},Se=function(e){e=W()({},ve,e),ge.a.confirm(e)},ye=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.props.dispatch(Object(B.receiveClient)(null)),n.props.onClose&&n.props.onClose(e)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.client,n.state.clientEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.close(!0)}),T()(g()(n),"save",function(){n.state.clientEdited?n.state.clientEdited.id?n.props.dispatch(Object(B.updateClient)(n.state.clientEdited,function(){return n.close()})):n.props.dispatch(Object(B.insertClient)(n.state.clientEdited,function(e){n.props.onClientInserted&&n.props.onClientInserted(e.tag),n.close()})):n.close()}),T()(g()(n),"onChange",function(e){n.setState({clientEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading Client";var e=n.state.clientEdited;return e&&e.id?"Client: ".concat(e.firstName||""," ").concat(e.lastName||""):"New Client"}),n.state={clientEdited:e.client},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.client!=e.client&&this.setState({clientEdited:this.props.client})}},{key:"render",value:function(){var e=this.props,t=e.client,n=e.fetching,i=e.validationResults,o=this.state.clientEdited,a=r.a.createElement("span",null);return o&&(a=r.a.createElement(N.d,{clientTypeId:o.clientTypeId})),r.a.createElement(N.m,{title:this.getTitle(),icon:a,visible:this.props.visible&&!n,onClose:this.confirmCancel},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(oe,{client:t,validationResults:i,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"clt_edit_clients"},"Save")))}}]),t}(i.Component),Te=Object(b.c)(function(e){var t=Object(B.clientSelector)(e);return{client:t.client,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(ye),Ie=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadClients",function(){n.props.dispatch(Object(B.fetchClients)(n.props.pageOptions,n.props.sortOptions,n.updateFilters(n.props.filters)))}),T()(g()(n),"updateFilters",function(e){return Object(H.d)(e,["firstName","lastName","idNumber"])}),T()(g()(n),"editClient",function(e){n.props.dispatch(Object(B.receiveClientPreview)(null)),n.props.history.push("/client/clients/".concat(e))}),T()(g()(n),"deleteClient",function(e){n.props.dispatch(Object(B.deleteClient)(e,n.loadClients))}),T()(g()(n),"onDataChange",function(e){e||n.loadClients()}),T()(g()(n),"newClient",function(){var e=Object(B.newClient)();n.props.dispatch(Object(B.receiveClient)(e)),n.toggleClientEditVisible()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumnEDS)("clientTypeId","Type",{width:"110px",align:"center",render:function(e){return r.a.createElement(N.d,{clientTypeId:e})},filters:n.props.clientTypes.map(function(e){return{text:e.name,value:e.id}})},n.props.filters),Object(Y.getColumnEDS)("lastName","Last Name",{showSearchFilter:!0},n.props.filters),Object(Y.getColumnEDS)("firstName","First Name",{showSearchFilter:!0},n.props.filters),Object(Y.getColumnEDS)("idNumber","ID Number",{showSearchFilter:!0},n.props.filters),Object(Y.getColumnEDS)("dateOfBirth","Date of Birth",{type:"date"}),Object(Y.getColumnEDS)("id","Actions",{render:function(e){return r.a.createElement(N.J,null,r.a.createElement("a",{href:"#",className:"mr-1",onClick:function(){return n.editClient(e)}},"Edit"),r.a.createElement(G.a,{title:"Are you sure remove this client?",onConfirm:function(){return n.deleteClient(e)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{href:"#"},"Remove")))}})]}),T()(g()(n),"onTableChange",function(e,t,i){n.props.pageOptions!=e&&n.props.dispatch(Object(B.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(B.receiveSortOptions)(t)),n.props.filters!=i&&n.props.dispatch(Object(B.receiveFilters)(i))}),T()(g()(n),"onClientSelected",function(e){n.props.dispatch(Object(B.receiveSelectedClients)(e))}),T()(g()(n),"toggleClientEditVisible",function(){n.setState({clientEditVisible:!n.state.clientEditVisible})}),T()(g()(n),"closeClientEdit",function(e){n.onDataChange(e),n.toggleClientEditVisible()}),T()(g()(n),"toggleClientMergeVisible",function(){n.setState({clientMergeVisible:!n.state.clientMergeVisible})}),T()(g()(n),"closeClientMerge",function(e){n.onDataChange(e),n.toggleClientMergeVisible()}),T()(g()(n),"openClientMerge",function(){n.props.dispatch(Object(B.clientMergeReset)()),n.props.dispatch(Object(B.fetchMergeClients)(n.props.selectedClientIds)),n.toggleClientMergeVisible()}),T()(g()(n),"clearAllSelectedClients",function(){n.props.dispatch(Object(B.receiveSelectedClients)([]))}),n.state={clientEditVisible:!1,clientMergeVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadClients()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions&&e.filters==this.props.filters||this.loadClients()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"user",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{type:"primary",icon:"fork",onClick:this.openClientMerge,visible:this.props.selectedClientIds.length>1,requiredUseCase:"clt_edit_clients"},"Merge"),r.a.createElement(N.b,{type:"primary",icon:"delete",onClick:this.clearAllSelectedClients,visible:this.props.selectedClientIds.length>0},"Clear All Selected"),r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newClient,disabled:this.props.fetching,requiredUseCase:"clt_edit_clients"},"New Client"))},"Clients"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.clients,loading:this.props.fetching,onRowClick:function(t){return e.editClient(t.id)},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange,rowSelection:{onChange:this.onClientSelected,selectedRowKeys:this.props.selectedClientIds}}),r.a.createElement(Te,{onClose:this.closeClientEdit,visible:this.state.clientEditVisible}),r.a.createElement(Ce,{onClose:this.closeClientMerge,visible:this.state.clientMergeVisible}))}}]),t}(i.Component),Oe=Object(o.g)(Object(b.c)(function(e){var t=Object(B.clientsSelector)(e),n=Object(z.clientTypesSelector)(e);return{clients:t.items,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,totalItems:t.totalItems,filters:t.filters,selectedClientIds:t.selectedClientIds,clientTypes:n.items}})(Ie)),be=n("unMk"),_e=n("3jNk"),Ne=n("NxBc"),Re=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.contact,T()({},e,t));n.setState({contact:i})}),n.state={contact:e.contact},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.contact!=e.contact&&this.setState({contact:this.props.contact})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.contact;return r.a.createElement(N.o,{className:"my-1",layout:"inline"},r.a.createElement(N.s,{fieldName:"value",label:"Value",value:n.value,onChange:this.handleChange,validationResults:t,autoFocus:!0}),r.a.createElement(N.w,{fieldName:"contactTypeId",label:"Type",value:n.contactTypeId,onChange:this.handleChange,validationResults:t,options:this.props.contactTypes,optionsValue:"id",optionsText:"name"}),r.a.createElement(N.r,{className:"mr-0"},r.a.createElement(N.b,{onClick:function(){return e.props.onCancel()}},"Cancel")),r.a.createElement(N.r,null,r.a.createElement(N.b,{onClick:function(){return e.props.onSave(e.state.contact)},type:"primary"},this.props.contact.id?"Update Contact":"Add Contact")))}}]),t}(i.Component),Pe=Object(b.c)(function(e){return{contactTypes:Object(z.contactTypesSelector)(e).items}})(Re),je=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"save",function(e){e.id?n.props.dispatch(Object(Ne.updateContact)(e,n.props.onSave)):n.props.dispatch(Object(Ne.insertContact)(e,n.props.onSave))}),T()(g()(n),"cancel",function(){n.props.dispatch(Object(Ne.receiveContact)(null))}),T()(g()(n),"newContact",function(){n.props.dispatch(Object(Ne.receiveContact)({id:"",clientId:n.props.clientId,contactTypeId:"",value:""}))}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.validationResults;return r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(Pe,{contact:t,validationResults:n,onSave:this.save,onCancel:this.cancel}),!t&&r.a.createElement(N.o,{className:"my-1",layout:"inline"},r.a.createElement(N.r,null,r.a.createElement(N.b,{icon:"plus",type:"dashed",onClick:this.newContact,noLeftMargin:!0,requiredUseCase:"clt_edit_contacts"},"Add Contact"))))}}]),t}(i.Component),Le=Object(b.c)(function(e){var t=Object(Ne.contactSelector)(e);return{contact:t.contact,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(je),Ae=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"loadContacts",function(){n.props.dispatch(Object(Ne.receiveContact)(null));var e={clientId:[n.props.clientId]};n.props.dispatch(Object(Ne.fetchContacts)(e))}),T()(g()(n),"onSave",function(){n.loadContacts(),n.props.onSave&&n.props.onSave()}),T()(g()(n),"editContact",function(e){n.props.dispatch(Object(Ne.fetchContact)(e))}),T()(g()(n),"deleteContact",function(e){n.props.dispatch(Object(Ne.deleteContact)(e,n.onSave))}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("contactTypeId","Type",{render:function(e){return r.a.createElement(N.i,{contactTypeId:e})}}),Object(Y.getColumn)("value","Value"),Object(Y.getColumn)("id","Actions",{render:function(e){return r.a.createElement(N.J,null,r.a.createElement("a",{href:"#",className:"mr-1",onClick:function(){return n.editContact(e)}},"Edit"),r.a.createElement(G.a,{title:"Are you sure remove this contact?",onConfirm:function(){return n.deleteContact(e)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{href:"#"},"Remove")))}})]}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadContacts()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{clientId:this.props.clientId,onSave:this.onSave}),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.contacts,loading:this.props.fetching,onRowClick:function(t){return e.editContact(t.id)}}))}}]),t}(i.Component),ke=Object(b.c)(function(e){var t=Object(Ne.contactsSelector)(e);return{contacts:t.items,fetching:t.fetching}})(Ae),Me=n("tj7V"),we=n("uxc5"),xe=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(){var e=ee()(Z.a.mark(function e(t,i){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=W()({},n.state.policy,T()({},t,i)),n.setState({policy:r}),n.props.onChange(r);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),n.state={policy:e.policy},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.policy!=e.policy&&this.setState({policy:this.props.policy})}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.policy;return r.a.createElement(N.o,{editUseCase:"clt_edit_policies"},r.a.createElement(N.w,{fieldName:"policyTypeId",label:"Type",value:t.policyTypeId,onChange:this.handleChange,validationResults:e,options:this.props.policyTypes,optionsValue:"id",optionsText:"name",autoFocus:!0}),r.a.createElement(N.s,{fieldName:"number",label:"Number",value:t.number,onChange:this.handleChange,validationResults:e}),r.a.createElement(N.w,{fieldName:"companyId",label:"Company",value:t.companyId,onChange:this.handleChange,validationResults:e,options:this.props.companies,optionsValue:"id",optionsText:"name"}),r.a.createElement(N.w,{defaultActiveFirstOption:!0,fieldName:"userId",label:"Broker",value:t.userId,onChange:this.handleChange,validationResults:e,options:this.props.users,optionsValue:"id",optionsText:"fullName"}),r.a.createElement(N.t,{fieldName:"premium",label:"Premium",value:t.premium,onChange:this.handleChange,validationResults:e,isCurrency:!0,min:0}),r.a.createElement(N.p,{fieldName:"startDate",label:"Start Date",value:t.startDate,onChange:this.handleChange,validationResults:e}))}}]),t}(i.Component),Ve=Object(b.c)(function(e){var t=Object(we.usersSimpleSelector)(e),n=Object(Me.companiesSelector)(e),i=Object(z.policyTypesSelector)(e);return{users:t.items,companies:n.items,policyTypes:i.items}})(xe),De=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.props.dispatch(Object(_e.receivePolicy)(null)),n.props.onClose&&n.props.onClose(e)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.policy,n.state.policyEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.close(!0)}),T()(g()(n),"save",function(){n.state.policyEdited?n.state.policyEdited.id?n.props.dispatch(Object(_e.updatePolicy)(n.state.policyEdited,function(){return n.close()})):n.props.dispatch(Object(_e.insertPolicy)(n.state.policyEdited,function(e){n.props.onPolicyInserted&&n.props.onPolicyInserted(e.tag),n.close()})):n.close()}),T()(g()(n),"onChange",function(e){n.setState({policyEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading Policy";var e=n.props.policy;return e&&e.id?"Policy: ".concat(e.number):"New Policy"}),n.state={policyEdited:e.policy},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.policy!=e.policy&&this.setState({policyEdited:this.props.policy})}},{key:"render",value:function(){var e=this.props,t=e.policy,n=e.fetching,i=e.validationResults;return r.a.createElement(N.m,{title:this.getTitle(),icon:"file-text",visible:!!t||n,onClose:this.confirmCancel},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(Ve,{policy:t,validationResults:i,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"clt_edit_policies"},"Save")))}}]),t}(i.Component),Fe=Object(b.c)(function(e){var t=Object(_e.policySelector)(e);return{policy:t.policy,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(De),Ue=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"loadPolicies",function(){var e=W()({},n.props.filters,{clientId:[]});n.props.clientId&&e.clientId.push(n.props.clientId),n.props.dispatch(Object(_e.fetchPolicies)(n.props.pageOptions,n.props.sortOptions,n.updateFilters(e)))}),T()(g()(n),"updateFilters",function(e){return Object(H.d)(e,["number","clientLastName"])}),T()(g()(n),"editPolicy",function(e){n.props.dispatch(Object(_e.fetchPolicy)(e))}),T()(g()(n),"onFormClose",function(e){e||(n.loadPolicies(),n.props.onChange&&n.props.onChange())}),T()(g()(n),"newPolicy",function(){var e=Object(_e.newPolicy)({clientId:n.props.clientId});n.props.dispatch(Object(_e.receivePolicy)(e))}),T()(g()(n),"getColumns",function(){var e=[Object(Y.getColumnEDS)("companyId","Company",{render:function(e){return r.a.createElement(N.h,{companyId:e})},filters:n.props.companies.map(function(e){return{text:e.name,value:e.id}})},n.props.filters),Object(Y.getColumnEDS)("number","Number",{showSearchFilter:!0},n.props.filters),Object(Y.getColumnEDS)("policyTypeId","Type",{render:function(e){return r.a.createElement(N.E,{policyTypeId:e})},filters:n.props.policyTypes.map(function(e){return{text:e.name,value:e.id}})},n.props.filters),Object(Y.getColumnEDS)("userId","Broker",{render:function(e){return r.a.createElement(N.N,{userId:e})},filters:n.props.users.map(function(e){return{text:e.fullName,value:e.id}})},n.props.filters)];return n.props.clientId||e.splice(3,0,Object(Y.getColumnEDS)("clientLastName","Last Name",{showSearchFilter:!0},n.props.filters),Object(Y.getColumnEDS)("clientInitials","Initials"),Object(Y.getColumnEDS)("clientDateOfBirth","Date of Birth",{type:"date"})),e}),T()(g()(n),"onTableChange",function(e,t,i){n.props.pageOptions!=e&&n.props.dispatch(Object(_e.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(_e.receiveSortOptions)(t)),n.props.filters!=i&&n.props.dispatch(Object(_e.receiveFilters)(i))}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadPolicies()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions&&e.filters==this.props.filters||this.loadPolicies()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{className:"mb-1",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{type:"default",icon:"sync",onClick:this.loadPolicies,disabled:this.props.fetching},"Reload"),r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newPolicy,disabled:this.props.fetching,requiredUseCase:"clt_edit_policies",visible:!!this.props.clientId},"New Policy")),icon:this.props.clientId?"":"file-text"},!this.props.clientId&&r.a.createElement("span",null,"Policies")),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.policies,loading:this.props.fetching,onRowClick:function(t){return e.editPolicy(t.id)},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange}),r.a.createElement(Fe,{onClose:this.onFormClose}))}}]),t}(i.Component),Ge=Object(b.c)(function(e){var t=Object(_e.policiesSelector)(e),n=Object(Me.companiesSelector)(e),i=Object(z.policyTypesSelector)(e),r=Object(we.usersSimpleSelector)(e);return{policies:t.items,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,totalItems:t.totalItems,filters:t.filters,companies:n.items,policyTypes:i.items,users:r.items}})(Ue),He=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"toggleClientEditVisible",function(){n.setState({clientEditVisible:!n.state.clientEditVisible})}),T()(g()(n),"togglePolicyListVisible",function(){n.setState({policyListVisible:!n.state.policyListVisible})}),T()(g()(n),"toggleContactListVisible",function(){n.setState({contactListVisible:!n.state.contactListVisible})}),T()(g()(n),"newPolicy",function(){var e=Object(_e.newPolicy)({clientId:n.getClientId()});n.props.dispatch(Object(_e.receivePolicy)(e))}),T()(g()(n),"getClientId",function(){return n.props.match.params.clientId}),T()(g()(n),"load",function(){n.props.dispatch(Object(B.fetchClientPreview)(n.getClientId()))}),T()(g()(n),"onFormClose",function(e){e||n.load()}),T()(g()(n),"editDetails",function(){n.props.dispatch(Object(B.fetchClient)(n.getClientId())),n.toggleClientEditVisible()}),T()(g()(n),"closeClientEdit",function(e){n.onFormClose(e),n.toggleClientEditVisible()}),T()(g()(n),"isLoading",function(){return n.props.fetching&&null===n.props.client}),T()(g()(n),"getPolicyActions",function(){var e=[r.a.createElement(s.a,{type:"bars",onClick:n.togglePolicyListVisible})];return Object(be.a)("clt_edit_policies",n.props.useCases)&&e.unshift(r.a.createElement(s.a,{type:"plus",onClick:function(e){e.stopPropagation(),n.newPolicy()}})),e}),T()(g()(n),"back",function(){return n.props.history.push("/client")}),n.state={policyListVisible:!1,contactListVisible:!1,clientEditVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"render",value:function(){var e=this.props.client,t=r.a.createElement("span",null);return e&&(t=r.a.createElement(N.d,{clientTypeId:e.clientTypeId})),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:t,loading:this.isLoading(),onBack:this.back},"".concat(e&&e.lastName).concat(e&&e.firstName?", ":""," ").concat(e&&(e.firstName||""))),r.a.createElement(N.G,null,r.a.createElement(N.F,{title:"Details",icon:"profile",onClick:this.editDetails,isLoading:this.isLoading(),actions:[r.a.createElement(s.a,{type:"edit",onClick:this.editDetails})],rows:2,height:"100px"},e&&r.a.createElement(r.a.Fragment,null,e.clientTypeId===z.ClientTypeId.Individual&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.H,{label:"Id",value:"".concat(e.idNumber?e.idNumber:"")}),r.a.createElement(N.H,{label:"Age",value:r.a.createElement(N.a,{dateOfBirth:e.dateOfBirth})})),e.clientTypeId!==z.ClientTypeId.Individual&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.H,{label:"Reg. Number",value:"".concat(e.alternateIdNumber?e.alternateIdNumber:"")})))),r.a.createElement(N.F,{title:"Policies",icon:"file-text",onClick:this.togglePolicyListVisible,isLoading:this.isLoading(),requiredUseCase:"clt_view_policies",actions:this.getPolicyActions(),height:"100px"},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.H,{label:"Policies",value:"".concat(e.policyCount)}),r.a.createElement(N.H,{label:"",value:r.a.createElement("span",null,"")}))),r.a.createElement(N.F,{title:"Contacts",icon:"phone",onClick:this.toggleContactListVisible,isLoading:this.isLoading(),requiredUseCase:"clt_view_contacts",actions:[r.a.createElement(s.a,{type:"bars",onClick:this.toggleContactListVisible})],height:"100px"},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.H,{label:"Contacts",value:"".concat(e.contactCount)}),r.a.createElement(N.H,{label:"",value:r.a.createElement("span",null,"")})))),r.a.createElement(Te,{onClose:this.closeClientEdit,visible:this.state.clientEditVisible}),r.a.createElement(Fe,{onClose:this.onFormClose}),r.a.createElement(N.m,{title:"Policies",icon:"file-text",noTopPadding:!0,visible:this.state.policyListVisible,onClose:this.togglePolicyListVisible},r.a.createElement(Ge,{clientId:this.getClientId(),onChange:this.load}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.togglePolicyListVisible},"Close"))),r.a.createElement(N.m,{title:"Contacts",icon:"phone",noTopPadding:!0,visible:this.state.contactListVisible,onClose:this.toggleContactListVisible},r.a.createElement(ke,{clientId:this.getClientId(),onSave:this.load}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.toggleContactListVisible},"Close"))))}}]),t}(i.Component),Ye=Object(o.g)(Object(b.c)(function(e){var t=Object(B.clientPreviewSelector)(e);return{client:t.client,fetching:t.fetching,useCases:Object(_.useCaseSelector)(e)}})(He)),Be=function(e,t){var n=window.URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.setAttribute("download",t),document.body.appendChild(i),i.click(),document.body.removeChild(i)},ze=n("+Y4i"),qe=function(e){return{type:"API",endpoint:"".concat(ze.b,"/policyAggregates/csv"),onSuccessBlob:function(t){Be(t,"ClientPolicyAggregates_".concat(ne()().format(me.a),".csv")),e()}}},Ke=function(e){return{type:"API",endpoint:"".concat(ze.b,"/policies/csv"),onSuccessBlob:function(t){Be(t,"ClientPolicies_".concat(ne()().format(me.a),".csv")),e()}}},We=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"downloadClientPolicyAggregates",function(){n.setState({downloadingPolicyAggregates:!0}),n.props.dispatch(qe(function(){n.setState({downloadingPolicyAggregates:!1})}))}),T()(g()(n),"downloadClientPolicies",function(){n.setState({downloadingPolicies:!0}),n.props.dispatch(Ke(function(){n.setState({downloadingPolicies:!1})}))}),n.state={downloadingPolicies:!1,downloadingPolicyAggregates:!1},n}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"download"},"Export Client Data"),r.a.createElement("div",{className:"mt-1"}),r.a.createElement(N.b,{icon:"download",loading:this.state.downloadingPolicyAggregates,onClick:this.downloadClientPolicyAggregates},"Policy Aggregates"),r.a.createElement(N.b,{icon:"download",loading:this.state.downloadingPolicies,onClick:this.downloadClientPolicies},"Policy Dump"))}}]),t}(i.Component),Qe=Object(b.c)()(We),Xe=n("t2zP"),Je=(n("8QGh"),n("2fM7")),Ze=n("0zu5"),$e=n("EcEN"),et=(n("RKNx"),n("L41K")),tt=et.a.Step,nt=function(e){function t(){return u()(this,t),f()(this,E()(t).apply(this,arguments))}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(P.a,{type:"flex",align:"middle",gutter:16,className:"mb-1"},r.a.createElement(j.a,null,this.props.onPrevious&&r.a.createElement(N.b,{noLeftMargin:!0,onClick:this.props.onPrevious,disabled:this.props.previousDisabled},r.a.createElement(s.a,{type:"left"}),"Previous")),r.a.createElement(j.a,{style:{flex:1}},r.a.createElement(et.a,{current:this.props.currentStepIndex,size:"small"},this.props.steps.map(function(e){return r.a.createElement(tt,{key:e,title:e})}))),r.a.createElement(j.a,null,r.a.createElement(N.b,{type:"primary",onClick:this.props.onNext,disabled:this.props.nextDisabled,loading:this.props.nextLoading},this.props.nextText?this.props.nextText:"Next",r.a.createElement(s.a,{type:this.props.nextIcon?this.props.nextIcon:"right"}))))}}]),t}(i.Component),it=Object(b.c)(function(e){var t=Object(Xe.clientImportSelector)(e);return{steps:t.steps,currentStepIndex:t.currentStepIndex}})(nt),rt=Je.a.Option,ot=Object(Ze.SortableElement)(function(e){return r.a.createElement(de.a.Item,{className:"draggable"},e.value.name)}),at=Object(Ze.SortableContainer)(function(e){return r.a.createElement(de.a,{bordered:!0,dataSource:e.items,renderItem:function(e,t){return r.a.createElement(ot,{key:"item-".concat(t),index:t,value:e})}})}),st=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"next",function(){var e=n.props.rows.map(function(e){return W()({_id:Object($e.v4)(),idNumber:e.idNumber},e)});n.props.dispatch(Object(Xe.receiveClientImportClients)(e)),n.props.dispatch(Object(Xe.clientImportNextStep)())}),T()(g()(n),"onSortEnd",function(e){var t=e.oldIndex,i=e.newIndex,r=Object(Ze.arrayMove)(n.props.selectedColumns,t,i);n.props.dispatch(Object(Xe.receiveClientImportSelectedColumns)(r))}),T()(g()(n),"getColumns",function(){return n.props.selectedImportColumns.map(function(e){return Object(Y.getColumn)(e.id,e.name,{sorter:void 0})})}),T()(g()(n),"onSelectedColumnChange",function(e){n.props.dispatch(Object(Xe.receiveClientImportSelectedColumns)(e))}),n.state={columns:e.columns},n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{onPrevious:function(){return e.props.dispatch(Object(Xe.clientImportPreviousStep)())},onNext:this.next}),r.a.createElement(P.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("h4",null,"Column Selection"),r.a.createElement(Je.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:this.props.selectedColumns,onChange:this.onSelectedColumnChange},this.props.columns.map(function(e){return r.a.createElement(rt,{key:e.id},e.name)})))),r.a.createElement(P.a,{gutter:24},r.a.createElement(j.a,{span:8},r.a.createElement("h4",{className:"mt-1"},"Column Order"),r.a.createElement(at,{items:this.props.selectedImportColumns,onSortEnd:this.onSortEnd})),r.a.createElement(j.a,{span:16},r.a.createElement("h4",{className:"mt-1"},"Preview"),r.a.createElement(N.L,{rowKey:"_id",columns:this.getColumns(),dataSource:this.props.rows.slice(0,5),hidePagination:!0,scroll:{x:!0}}))))}}]),t}(i.Component),ct=Object(b.c)(function(e){var t=Object(Xe.clientImportSelector)(e);return{columns:t.columns,selectedColumns:t.selectedColumns,selectedImportColumns:Object(Xe.clientImportSelectedColumnsSelector)(e),rows:Object(Xe.clientImportTableRowsSelector)(e),currentStepIndex:t.currentStepIndex}})(st),lt=(n("EpIQ"),n("bx4M")),ut=(n("D8SU"),n("CFYs")),pt=(n("GRva"),n("gK9i")),dt=n("EUZL"),mt=function(e,t){var n=dt.utils.book_new(),i=dt.utils.json_to_sheet(e);dt.utils.book_append_sheet(n,i),Object(dt.writeFile)(n,t)},ft=n("Qwn9"),ht=pt.a.Panel,Et=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"startImport",function(){n.props.dispatch(Object(Xe.importClientClearResults)()),n.props.clients.forEach(function(e){n.props.dispatch(Object(Xe.importClient)(e))})}),T()(g()(n),"isImporting",function(){return 0!==n.props.progressPercent&&100!==n.props.progressPercent}),T()(g()(n),"success",function(){ge.a.success({title:"Success",content:"All client data has been succesfully imported."})}),T()(g()(n),"failure",function(){ge.a.error({title:"Failure",content:"Some errors occured during the import process, please review the Error table for more information."})}),T()(g()(n),"showError",function(e){var t=Object(ft.parseValidationErrors)(e.error);ge.a.error({title:"Error Details",width:720,content:r.a.createElement("div",null,r.a.createElement(pt.a,{defaultActiveKey:["1","2"]},r.a.createElement(ht,{header:"Error Messages",key:"1"},t.map(function(e){return r.a.createElement("div",{key:e.propertyName},r.a.createElement("b",null,e.propertyName,": "),r.a.createElement("span",{className:"text-error"},e.errorMessage))}),0===t.length&&r.a.createElement("span",{className:"text-error"},"Unhandled Server Error")),r.a.createElement(ht,{header:"Record Data",key:"2"},n.props.columns.map(function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("b",null,t.name,": "),e.importClient[t.id])})),r.a.createElement(ht,{header:"Raw Error Data",key:"3"},r.a.createElement("pre",null,e.error))))})}),T()(g()(n),"getColumns",function(){var e=[],t=Object(Y.getColumn)("idNumber","Record",{sorter:void 0,render:function(e,t){return n.props.columns.map(function(e){return r.a.createElement("span",{key:e.id},t.importClient[e.id],";"," ")})}}),i=Object(Y.getColumn)("error","Error Detail",{sorter:void 0,fixed:"right",render:function(e,t){return r.a.createElement(N.b,{shape:"circle",icon:"exclamation",type:"danger",onClick:function(){n.showError(t)}})}});return e.push(t),e.push(i),e}),T()(g()(n),"reset",function(){n.props.dispatch(Object(Xe.importClientReset)())}),T()(g()(n),"downloadErrors",function(){var e=n.props.resultsFailure.map(function(e){return e.importClient._id}),t=n.props.clients.filter(function(t){return-1!==e.indexOf(t._id)}).map(function(e){return delete e._id,delete e.policyCompanyId,e}),i=n.props.fileName,r=i.lastIndexOf("."),o=i.slice(0,r)+"_Errors"+i.slice(r);mt(t,o)}),n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(){100===this.props.progressPercent&&(this.props.resultsSuccess.length===this.props.clients.length?this.success():this.failure())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{previousDisabled:this.isImporting(),onPrevious:function(){return e.props.dispatch(Object(Xe.clientImportPreviousStep)())},onNext:this.startImport,nextLoading:this.isImporting(),nextText:100===this.props.progressPercent?"Import Again":"Start Import",nextIcon:"cloud-upload"}),r.a.createElement(P.a,{gutter:24},r.a.createElement(j.a,{span:4},r.a.createElement(lt.a,{title:"Progress",className:"text-center"},r.a.createElement(ut.a,{type:"circle",percent:this.props.progressPercent}))),r.a.createElement(j.a,{span:6},r.a.createElement(lt.a,{title:"Results"},r.a.createElement("p",null,r.a.createElement("span",null,"Successful imports: "),r.a.createElement("strong",{className:"text-success"},this.props.resultsSuccess.length)),this.props.resultsFailure.length>0&&r.a.createElement("p",null,r.a.createElement("span",null,"Import failures: "),r.a.createElement("strong",{className:"text-error"},this.props.resultsFailure.length))),r.a.createElement(N.b,{type:"primary",visible:100===this.props.progressPercent,onClick:this.reset,noLeftMargin:!0,className:"mt-1"},"Import a New File",r.a.createElement(s.a,{type:"sync"}))),r.a.createElement(j.a,{span:14},r.a.createElement(lt.a,{title:"Errors",extra:this.props.resultsFailure.length>0&&r.a.createElement(N.b,{type:"danger",shape:"round",icon:"download",size:"small",onClick:this.downloadErrors},"Download")},0===this.props.resultsFailure.length&&r.a.createElement("p",null,"No errors."),this.props.resultsFailure.length>0&&r.a.createElement(N.L,{rowKey:"_id",columns:this.getColumns(),dataSource:this.props.resultsFailure,scroll:{x:!0}})))))}}]),t}(i.Component),Ct=Object(b.c)(function(e){var t=Object(Xe.clientImportSelector)(e);return{fileName:t.fileName,clients:t.clients,resultsSuccess:t.resultsSuccess,resultsFailure:t.resultsFailure,progressPercent:Object(Xe.clientImportProgressPercentSelector)(e),columns:Object(Xe.clientImportSelectedColumnsSelector)(e)}})(Et),gt=(n("7W5+"),n("8z0m")),vt=gt.a.Dragger,St=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"customRequest",function(e){var t=e.file,i=e.onSuccess,r=new FileReader;r.readAsArrayBuffer(t),n.props.dispatch(Object(Xe.receiveClientImportFileName)(t.name)),r.onload=function(){var e=r.result,o=Object(dt.read)(e,{type:"array"}),a=o.SheetNames[0],s=o.Sheets[a],c=dt.utils.sheet_to_json(s,{header:1});c=c.filter(function(e){return e.some(function(e){return!!e})}),n.props.dispatch(Object(Xe.receiveClientImportData)(c)),i("done",t)}}),n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{nextDisabled:!(0!==this.props.data.length),onNext:function(){return e.props.dispatch(Object(Xe.clientImportNextStep)())}}),r.a.createElement(vt,{multiple:!1,accept:".xlsx",customRequest:this.customRequest},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(s.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")))}}]),t}(i.Component),yt=Object(b.c)(function(e){return{data:Object(Xe.clientImportSelector)(e).data}})(St),Tt=function(e,t){return t&&t.props&&t.props.children?t.props.children.toString().toLowerCase().indexOf(e.toLowerCase())>=0:0},It=n("PoK7"),Ot=a.a.Item,bt=Je.a.Option,_t=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"removeImportClient",function(e){n.props.dispatch(Object(Xe.removeClientImportClient)(e))}),T()(g()(n),"selectCompany",function(e){n.props.dispatch(Object(Xe.receiveClientImportPolicyCompany)(e))}),T()(g()(n),"getColumns",function(){var e=n.props.columns.map(function(e){return Object(Y.getColumn)(e.id,e.name,{showSearchFilter:!0,sorter:void 0})}),t=Object(Y.getColumn)("actions","Actions",{sorter:void 0,fixed:"right",render:function(e,t){return r.a.createElement(G.a,{title:"Are you sure remove this record?",onConfirm:function(){return n.removeImportClient(t._id)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{href:"#"},"Remove"))}});return e.push(t),e}),T()(g()(n),"nextEnabled",function(){return!n.policyCompanyRequired()||null!==n.props.selectedCompanyId}),T()(g()(n),"policyCompanyRequired",function(){return n.props.columns.some(function(e){return"policyNumber"===e.id})}),n.state={columns:e.columns},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.companies.length&&this.props.dispatch(Object(It.fetchCompanies)())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{onPrevious:function(){return e.props.dispatch(Object(Xe.clientImportPreviousStep)())},nextDisabled:!this.nextEnabled(),onNext:function(){e.props.dispatch(Object(Xe.updateClientImportPolicyCompanies)()),e.props.dispatch(Object(Xe.importClientClearResults)()),e.props.dispatch(Object(Xe.clientImportNextStep)())}}),this.policyCompanyRequired()&&r.a.createElement(P.a,null,r.a.createElement(j.a,{span:6},r.a.createElement("h4",null,"Policy Company"),r.a.createElement(Ot,{className:"mb-0",validateStatus:null===this.props.selectedCompanyId?"error":void 0,help:null===this.props.selectedCompanyId?"Please select a policy company":""},r.a.createElement(Je.a,{loading:this.props.loading,showSearch:!0,style:{width:"100%"},filterOption:Tt,onChange:function(t){return e.selectCompany(t)},value:this.props.selectedCompanyId},this.props.companies.map(function(e){return r.a.createElement(bt,{key:e.id,value:e.id},e.name)}))))),r.a.createElement("h4",{className:"mt-1"},"Client Data"),r.a.createElement(N.L,{rowKey:"_id",columns:this.getColumns(),dataSource:this.props.clients,scroll:{x:!0}}))}}]),t}(i.Component),Nt=Object(b.c)(function(e){var t=Object(Xe.clientImportSelector)(e),n=Object(It.companiesSelector)(e);return{columns:Object(Xe.clientImportSelectedColumnsSelector)(e),clients:t.clients,companies:n.items,selectedCompanyId:t.companyId,loading:n.fetching}})(_t),Rt=function(e){function t(e){var n;return u()(this,t),(n=f()(this,E()(t).call(this,e))).state={steps:[r.a.createElement(yt,null),r.a.createElement(ct,null),r.a.createElement(Nt,null),r.a.createElement(Ct,null)]},n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this.state.steps,t=this.props.currentStepIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"upload"},"Import Client Data"),r.a.createElement("div",null,e[t]))}}]),t}(i.Component),Pt=Object(b.c)(function(e){return{currentStepIndex:Object(Xe.clientImportSelector)(e).currentStepIndex}})(Rt),jt=n("9SaQ"),Lt=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"loadData",function(){n.props.dispatch(Object(jt.fetchClientRevenueData)(n.props.pageOptions,n.props.sortOptions,n.updateFilters(n.props.filters)))}),T()(g()(n),"updateFilters",function(e){return Object(H.d)(e,["clientLastName"])}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumnEDS)("clientLastName","Last Name",{showSearchFilter:!0,fixed:"left"},n.props.filters),Object(Y.getColumnEDS)("clientInitials","Initials"),Object(Y.getColumnEDS)("clientDateOfBirth","Age",{render:function(e){return r.a.createElement(N.a,{dateOfBirth:e})}}),Object(Y.getColumnEDS)("monthlyAnnuityMonth","Monthly As & When Commission",{type:"currency"}),Object(Y.getColumnEDS)("annualAnnuityAverage","Annual Commissions Ave. Monthly",{type:"currency"}),Object(Y.getColumnEDS)("totalMonthlyEarnings","Total Monthly Earnings",{type:"currency"}),Object(Y.getColumnEDS)("lifeFirstYears","Life Upfronts",{type:"currency"}),Object(Y.getColumnEDS)("onceOff","Once Off Commissions",{type:"currency"}),Object(Y.getColumnEDS)("grandTotal","Grand Total Last 12 Months",{type:"currency"})]}),T()(g()(n),"handleYearChange",function(e){n.props.dispatch(Object(jt.receiveFilters)(W()({},n.props.filters,{yearEnding:[e.toString()]})))}),T()(g()(n),"selectedYear",function(){return parseInt(n.props.filters.yearEnding[0])}),T()(g()(n),"handleMonthChange",function(e){n.props.dispatch(Object(jt.receiveFilters)(W()({},n.props.filters,{monthEnding:[e.toString()]})))}),T()(g()(n),"selectedMonth",function(){return parseInt(n.props.filters.monthEnding[0])}),T()(g()(n),"onTableChange",function(e,t,i){n.props.pageOptions!=e&&n.props.dispatch(Object(jt.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(jt.receiveSortOptions)(t)),n.props.filters!=i&&n.props.dispatch(Object(jt.receiveFilters)(W()({},n.props.filters,i)))}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions&&e.filters==this.props.filters||this.loadData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"line-chart",actions:r.a.createElement(P.a,{type:"flex",gutter:10,align:"middle"},r.a.createElement(j.a,null,"Month Ending:"),r.a.createElement(j.a,null,r.a.createElement(Je.a,{value:this.selectedMonth(),onChange:this.handleMonthChange,style:{width:200}},Object(me.h)().map(function(e){return r.a.createElement(Je.a.Option,{key:e.number.toString(),value:e.number},e.name)}))),r.a.createElement(j.a,null,r.a.createElement(Je.a,{value:this.selectedYear(),onChange:this.handleYearChange,style:{width:200}},Object(me.i)().map(function(e){return r.a.createElement(Je.a.Option,{key:e.toString(),value:e},e)}))))},"Client Revenue Report"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.records,loading:this.props.fetching,onRowClick:function(){},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange,scroll:{x:!0}}))}}]),t}(i.Component),At=Object(b.c)(function(e){var t=Object(jt.clientRevenueSelector)(e);return{records:t.items,totalItems:t.totalItems,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,filters:t.filters}})(Lt),kt=n("+nZz"),Mt=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(){var e=ee()(Z.a.mark(function e(t,i){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=W()({},n.state.statement,T()({},t,i)),n.setState({statement:r}),n.props.onChange(r);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),T()(g()(n),"handleAmountExclVATChange",function(){var e=ee()(Z.a.mark(function e(t,i){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=W()({},n.state.statement,{amountIncludingVAT:i+n.state.statement.vat}),n.setState({statement:r}),n.props.onChange(r);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),T()(g()(n),"companySearch",function(e){n.setState({companySearch:e})}),T()(g()(n),"companies",function(){return""===n.state.companySearch?n.props.companies:n.props.companies.filter(function(e){return 0===e.name.toLowerCase().indexOf(n.state.companySearch.toLowerCase())})}),n.state={statement:e.statement,companySearch:""},n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.statement;return r.a.createElement(N.o,{editUseCase:"com_edit_commission_statements"},r.a.createElement(N.w,{fieldName:"companyId",label:"Company",value:n.companyId,onChange:this.handleChange,validationResults:t,options:this.companies(),optionsValue:"id",optionsText:"name",autoFocus:!0,onSearch:this.companySearch,onSelect:function(){return e.companySearch("")},showSearch:!0,allowClear:!0}),r.a.createElement(N.t,{fieldName:"amountIncludingVAT",label:"Amount (incl VAT)",value:n.amountIncludingVAT,onChange:this.handleChange,validationResults:t,isCurrency:!0,min:0}),r.a.createElement(N.t,{fieldName:"vat",label:"VAT",value:n.vat,onChange:this.handleChange,validationResults:t,isCurrency:!0,min:0}),r.a.createElement(N.t,{fieldName:"",label:"Amount (excl VAT)",value:(n.amountIncludingVAT-n.vat).toFixed(2),onChange:this.handleAmountExclVATChange,isCurrency:!0,min:0}),r.a.createElement(N.p,{fieldName:"date",label:"Date",value:n.date,onChange:this.handleChange,validationResults:t}),r.a.createElement(N.y,{fieldName:"processed",label:"Processed",value:n.processed,onChange:this.handleChange,validationResults:t}))}}]),t}(i.Component),wt=Object(b.c)(function(e){return{companies:Object(Me.companiesSelector)(e).items}})(Mt),xt=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.props.dispatch(Object(kt.receiveStatement)(null)),n.props.onClose(e)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.statement,n.state.statementEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.close(!0)}),T()(g()(n),"save",function(){n.state.statementEdited?n.state.statementEdited.id?n.props.dispatch(Object(kt.updateStatement)(n.state.statementEdited,function(){return n.close()})):n.props.dispatch(Object(kt.insertStatement)(n.state.statementEdited,function(){return n.close()})):n.close()}),T()(g()(n),"onChange",function(e){n.setState({statementEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading Statement";var e=n.props.statement;return e&&e.id?"Edit Statement":"New Statement"}),n.state={statementEdited:e.statement},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.statement!=e.statement&&this.setState({statementEdited:this.props.statement})}},{key:"render",value:function(){var e=this.props,t=e.statement,n=e.fetching,i=e.validationResults;return r.a.createElement(N.m,{title:this.getTitle(),visible:!!t||n,onClose:this.confirmCancel},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(wt,{statement:t,validationResults:i,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"com_edit_commission_statements"},"Save")))}}]),t}(i.Component),Vt=Object(b.c)(function(e){var t=Object(kt.statementSelector)(e);return{statement:t.statement,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(xt),Dt=(n("0lcf"),n("mr32")),Ft=function(e){var t={marginRight:"0px"};return e.processed?r.a.createElement(Dt.a,{style:t,color:"green"},"Processed"):r.a.createElement(Dt.a,{style:t,color:"purple"},"Processing")},Ut=Je.a.Option,Gt=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"loadStatements",function(){var e=Object(me.g)(n.props.filterMonth,n.props.filterYear);n.props.dispatch(Object(kt.fetchStatements)(n.props.pageOptions,n.props.sortOptions,W()({},n.props.filters,{startDate:[e.start],endDate:[e.end]})))}),T()(g()(n),"editStatement",function(e){n.props.dispatch(Object(kt.clearStatementPreview)()),n.props.history.push("/commission/statements/".concat(e))}),T()(g()(n),"onFormClose",function(e){e||n.loadStatements()}),T()(g()(n),"newStatement",function(){var e=ne()(),t=ne()().year(n.props.filterYear).month(n.props.filterMonth-1);e.year()===t.year()&&e.month()===t.month()||(t=t.date(1));var i={id:"",amountIncludingVAT:0,vat:0,companyId:"",processed:!1,date:t.format()};n.props.dispatch(Object(kt.receiveStatement)(i))}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumnEDS)("companyId","Company",{render:function(e){return r.a.createElement(N.h,{companyId:e})},filters:n.props.companies.map(function(e){return{text:e.name,value:e.id}})},n.props.filters),Object(Y.getColumnEDS)("date","Date",{type:"date"}),Object(Y.getColumnEDS)("actualAmountIncludingVAT","Amount (excl VAT)",{render:function(e,t){return Object(me.d)(e-t.actualVAT)}},n.props.filters),Object(Y.getColumnEDS)("processed","Status",{render:function(e){return r.a.createElement(Ft,{processed:e})},filters:[{text:"Processed",value:"true"},{text:"Processing",value:"false"}]},n.props.filters)]}),T()(g()(n),"mapSortColumns",function(e){switch(e.column){case"companyId":return W()({},e,{column:"companyName"});default:return e}}),T()(g()(n),"onTableChange",function(e,t,i){n.props.pageOptions!=e&&n.props.dispatch(Object(kt.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(kt.receiveSortOptions)(n.mapSortColumns(t))),n.props.filters!=i&&n.props.dispatch(Object(kt.receiveFilters)(i))}),T()(g()(n),"handleMonthChange",function(e){n.props.dispatch(Object(kt.receiveFilterMonth)(e))}),T()(g()(n),"handleYearChange",function(e){n.props.dispatch(Object(kt.receiveFilterYear)(e))}),T()(g()(n),"nextMonth",function(){var e=n.props.filterMonth+1;e>12&&(e=1,n.props.dispatch(Object(kt.receiveFilterYear)(n.props.filterYear+1))),n.props.dispatch(Object(kt.receiveFilterMonth)(e))}),T()(g()(n),"previousMonth",function(){var e=n.props.filterMonth-1;e<1&&(e=12,n.props.dispatch(Object(kt.receiveFilterYear)(n.props.filterYear-1))),n.props.dispatch(Object(kt.receiveFilterMonth)(e))}),T()(g()(n),"tableFooter",function(){return r.a.createElement(P.a,{type:"flex",justify:"space-between"},r.a.createElement(j.a,null,r.a.createElement("b",null,"Total Amount (excl VAT): "),Object(me.d)(n.props.sumAmountIncludingVAT-n.props.sumVAT)))}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadStatements()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions&&e.filters==this.props.filters&&e.filterMonth==this.props.filterMonth&&e.filterYear==this.props.filterYear||this.loadStatements()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"reconciliation",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newStatement,disabled:this.props.fetching,requiredUseCase:"com_edit_commission_statements"},"Add Statement")},"Commission Statements"),r.a.createElement(P.a,{type:"flex",justify:"center",className:"mb-1",gutter:24},r.a.createElement(j.a,null,r.a.createElement(N.b,{shape:"circle",icon:"left",size:"large",onClick:this.previousMonth,noLeftMargin:!0})),r.a.createElement(j.a,null,r.a.createElement(Je.a,{size:"large",value:this.props.filterMonth,onChange:this.handleMonthChange,style:{width:200}},Object(me.h)().map(function(e){return r.a.createElement(Ut,{key:e.number.toString(),value:e.number},e.name)}))),r.a.createElement(j.a,null,r.a.createElement(Je.a,{size:"large",value:this.props.filterYear,onChange:this.handleYearChange,style:{width:200}},Object(me.i)().map(function(e){return r.a.createElement(Ut,{key:e.toString(),value:e},e)}))),r.a.createElement(j.a,null,r.a.createElement(N.b,{shape:"circle",icon:"right",size:"large",onClick:this.nextMonth,noLeftMargin:!0}))),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.statements,loading:this.props.fetching,onRowClick:function(t){return e.editStatement(t.id)},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange,footer:this.tableFooter}),r.a.createElement(Vt,{onClose:this.onFormClose}))}}]),t}(i.Component),Ht=Object(o.g)(Object(b.c)(function(e){var t=Object(kt.statementsSelector)(e),n=Object(Me.companiesSelector)(e);return{statements:t.items,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,totalItems:t.totalItems,sumAmountIncludingVAT:t.sumAmountIncludingVAT,sumVAT:t.sumVAT,filterMonth:t.filterMonth,filterYear:t.filterYear,filters:t.filters,companies:n.items}})(Gt)),Yt=n("Cni2"),Bt=n("cXah"),zt=n("Bg7+"),qt=n("QkX6"),Kt=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(){var e=ee()(Z.a.mark(function e(t,i){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=W()({},n.state.commission,T()({},t,i)),n.setState({commission:r}),n.props.onChange(r);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),T()(g()(n),"loadPolicy",function(e){if(e){var t={id:[e]};n.loadPolicies(t)}}),T()(g()(n),"loadPolicies",function(e){n.props.dispatch(Object(_e.getPolicies)(e,{number:1,size:20},function(e){n.setState({policies:e})}))}),T()(g()(n),"policySearch",function(e){if(e.length<3)return n.handleChange("policyId",""),void n.setState({policies:[]});var t={number:[Object(H.e)(e)]};n.loadPolicies(t)}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),n.state={commission:e.commission,policies:[],activeTab:"form_tab"},n.loadPolicy(n.props.commission.policyId),n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.commission!=e.commission&&(this.setState({commission:this.props.commission,activeTab:"form_tab"}),this.loadPolicy(this.props.commission.policyId))}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.commission;return r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Commission",key:"form_tab"},r.a.createElement(N.o,{editUseCase:"com_edit_commissions"},r.a.createElement(N.w,{showSearch:!0,showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1,placeholder:"Select Policy",notFoundContent:null,fieldName:"policyId",onSearch:this.policySearch,label:"Policy",value:t.policyId,onChange:this.handleChange,validationResults:e,options:this.state.policies,optionsValue:"id",optionsText:"number",autoFocus:!0}),r.a.createElement(N.w,{fieldName:"commissionTypeId",label:"Type",value:t.commissionTypeId,onChange:this.handleChange,validationResults:e,options:this.props.commissionTypes,optionsValue:"id",optionsText:"name"}),r.a.createElement(N.t,{fieldName:"amountIncludingVAT",label:"Amount (incl VAT)",value:t.amountIncludingVAT,onChange:this.handleChange,validationResults:e,isCurrency:!0,min:0}),r.a.createElement(N.t,{fieldName:"vat",label:"VAT",value:t.vat,onChange:this.handleChange,validationResults:e,isCurrency:!0,min:0}))),r.a.createElement(N.K,{tab:"Excel Data",key:"data_tab"},!t.sourceData&&r.a.createElement("span",null,"No Source Data"),t.sourceData&&r.a.createElement(N.v,{data:t.sourceData})))}}]),t}(i.Component),Wt=Object(b.c)(function(e){return{commissionTypes:Object(qt.commissionTypesSelector)(e).items}})(Kt),Qt=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.props.dispatch(Object(zt.receiveCommission)(null)),n.props.onClose(e)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.commission,n.state.commissionEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.close(!0)}),T()(g()(n),"save",function(){n.state.commissionEdited?n.state.commissionEdited.id?n.props.dispatch(Object(zt.updateCommission)(n.state.commissionEdited,function(){return n.close()})):n.props.dispatch(Object(zt.insertCommission)(n.state.commissionEdited,function(){return n.close()})):n.close()}),T()(g()(n),"onChange",function(e){n.setState({commissionEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading Commission";var e=n.props.commission;return e&&e.id?"Edit Commission":"New Commission"}),n.state={commissionEdited:e.commission},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.commission!=e.commission&&this.setState({commissionEdited:this.props.commission})}},{key:"render",value:function(){var e=this.props,t=e.commission,n=e.fetching,i=e.validationResults;return r.a.createElement(N.m,{title:this.getTitle(),icon:"dollar",visible:!!t||n,onClose:this.confirmCancel,noTopPadding:!0},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(Wt,{commission:t,validationResults:i,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"com_edit_commissions"},"Save")))}}]),t}(i.Component),Xt=Object(b.c)(function(e){var t=Object(zt.commissionSelector)(e);return{commission:t.commission,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(Qt),Jt=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"loadCommissions",function(){var e=W()({},n.props.filters,{commissionStatementId:[n.props.commissionStatementId]});n.props.dispatch(Object(zt.fetchCommissions)(n.props.pageOptions,n.props.sortOptions,e))}),T()(g()(n),"editCommission",function(e){n.props.dispatch(Object(zt.fetchCommission)(e))}),T()(g()(n),"onFormClose",function(e){e||(n.loadCommissions(),n.props.onCommissionsUpdate())}),T()(g()(n),"newCommission",function(){var e={id:"",commissionStatementId:n.props.commissionStatementId,amountIncludingVAT:0,vat:0,commissionTypeId:"",policyId:"",sourceData:null};n.props.dispatch(Object(zt.receiveCommission)(e))}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumnEDS)("policyNumber","Policy Number",{showSearchFilter:!0}),Object(Y.getColumnEDS)("commissionTypeId","Type",{render:function(e){return r.a.createElement(N.g,{commissionTypeId:e})},filters:n.props.commissionTypes.map(function(e){return{text:e.name,value:e.id}})}),Object(Y.getColumnEDS)("amountIncludingVAT","Amount (incl VAT)",{type:"currency"}),Object(Y.getColumnEDS)("vat","VAT",{type:"currency"}),Object(Y.getColumnEDS)("userId","Broker",{render:function(e){return r.a.createElement(N.N,{userId:e})},filters:n.props.users.map(function(e){return{text:e.fullName,value:e.id}})})]}),T()(g()(n),"updateFilters",function(e){return Object(H.d)(e,["policyNumber"])}),T()(g()(n),"onTableChange",function(e,t,i){n.props.pageOptions!=e&&n.props.dispatch(Object(zt.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(zt.receiveSortOptions)(t)),n.props.filters!=i&&n.props.dispatch(Object(zt.receiveFilters)(n.updateFilters(i)))}),T()(g()(n),"tableFooter",function(){return r.a.createElement(P.a,{type:"flex",justify:"space-between"},r.a.createElement(j.a,null,r.a.createElement("b",null,"Total Amount (incl VAT): "),Object(me.d)(n.props.sumAmountIncludingVAT)),r.a.createElement(j.a,null,r.a.createElement("b",null,"Total VAT: "),Object(me.d)(n.props.sumVAT)))}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadCommissions()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions&&e.filters==this.props.filters||this.loadCommissions()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{className:"mb-1",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newCommission,disabled:this.props.fetching,requiredUseCase:"com_edit_commissions"},"New Commission"))}),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.commissions,loading:this.props.fetching,onRowClick:function(t){return e.editCommission(t.id)},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange,footer:this.tableFooter}),r.a.createElement(Xt,{onClose:this.onFormClose}))}}]),t}(i.Component),Zt=Object(b.c)(function(e){var t=Object(zt.commissionsSelector)(e),n=Object(we.usersSimpleSelector)(e),i=Object(qt.commissionTypesSelector)(e);return{commissions:t.items,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,totalItems:t.totalItems,sumAmountIncludingVAT:t.sumAmountIncludingVAT,sumVAT:t.sumVAT,filters:t.filters,users:n.items,commissionTypes:i.items}})(Jt),$t=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(){var e=ee()(Z.a.mark(function e(t,i){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=W()({},n.state.error,T()({},t,i)),n.setState({error:r}),n.props.onChange(r);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),n.state={error:e.error},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.error!=e.error&&this.setState({error:this.props.error})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.error;return r.a.createElement(N.o,{editUseCase:"com_edit_commission_statements"},Object.keys(n).map(function(i){return r.a.createElement(N.s,{key:i,fieldName:i,label:i,value:n[i],onChange:e.handleChange,validationResults:t})}))}}]),t}(i.Component),en=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.dispatch(Object(Yt.receiveFormatError)(null))}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.errorData,n.state.errorDataEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.close()}),T()(g()(n),"save",function(){if(null!==n.props.error&&null!==n.state.errorDataEdited){var e=W()({},n.props.error,{data:n.state.errorDataEdited});n.props.dispatch(Object(Yt.resolveFormatError)(n.props.statementId,e,function(){n.props.onUpdate(),n.props.dispatch(Object(Yt.fetchNextFormatError)(n.props.statementId))}))}}),T()(g()(n),"onChange",function(e){n.setState({errorDataEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){return n.props.fetching?"Loading Format Error":"Resolve Format Error - ".concat(n.props.remainingErrors," remaining")}),n.state={errorDataEdited:e.errorData},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.errorData!=e.errorData&&this.setState({errorDataEdited:this.props.errorData})}},{key:"render",value:function(){var e=this.props,t=e.errorData,n=e.fetching,i=e.validationResults;return r.a.createElement(N.m,{title:this.getTitle(),visible:!!t||n,onClose:this.confirmCancel},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement($t,{error:t,validationResults:i,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"com_edit_commission_statements"},this.props.remainingErrors>1&&r.a.createElement("span",null,"Save & Resolve Next ",r.a.createElement(s.a,{type:"right"})),this.props.remainingErrors<=1&&"Save")))}}]),t}(i.Component),tn=Object(b.c)(function(e){var t=Object(Yt.formatErrorSelector)(e);return{error:t.commissionError,errorData:t.commissionErrorData,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(en),nn=(n("Aosp"),n("diRs")),rn=(n("1vPl"),n("5rEg")),on=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadClients",function(){var e={lastName:[n.state.searchText]};n.props.dispatch(Object(B.searchClients)(Object(H.d)(e,["lastName"])))}),T()(g()(n),"selectClient",function(e){n.props.onSelect(e)}),T()(g()(n),"onSearchChange",function(e){n.setState({searchText:e.target.value},n.loadClients)}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("lastName","Last Name",{sorter:!1}),Object(Y.getColumn)("firstName","First Name",{sorter:!1}),Object(Y.getColumn)("idNumber","ID Number",{sorter:!1}),Object(Y.getColumn)("dateOfBirth","Date of Birth",{type:"date",sorter:!1})]}),n.state={searchText:e.defaultSearchText||""},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadClients()}},{key:"render",value:function(){var e=this,t=this.state.searchText;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn.a,{autoFocus:!0,size:"large",placeholder:"Last Name",prefix:r.a.createElement(s.a,{type:"search"}),allowClear:!0,value:t,onChange:this.onSearchChange,className:"mb-1"}),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.clients,loading:this.props.fetching,onRowClick:function(t){return e.selectClient(t.id)}}))}}]),t}(i.Component),an=Object(b.c)(function(e){var t=Object(B.clientSearchSelector)(e);return{clients:t.items,fetching:t.fetching}})(on),sn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadPolicys",function(){var e={lastName:[n.state.searchText],clientId:[],companyId:[]};n.props.clientId&&e.clientId.push(n.props.clientId),n.props.companyId&&e.companyId.push(n.props.companyId),n.props.dispatch(Object(_e.searchPolicies)(Object(H.d)(e,["number"])))}),T()(g()(n),"selectPolicy",function(e){n.props.onSelect(e)}),T()(g()(n),"onSearchChange",function(e){n.setState({searchText:e.target.value},n.loadPolicys)}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("policyTypeId","Type",{sorter:!1,render:function(e){return r.a.createElement(N.E,{policyTypeId:e})}}),Object(Y.getColumn)("number","Number",{sorter:!1}),Object(Y.getColumn)("premium","Premium",{type:"currency",sorter:!1}),Object(Y.getColumn)("companyId","Company",{sorter:!1,render:function(e){return r.a.createElement(N.h,{companyId:e})}}),Object(Y.getColumn)("userId","Broker",{sorter:!1,render:function(e){return r.a.createElement(N.N,{userId:e})}})]}),n.state={searchText:""},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadPolicys()}},{key:"render",value:function(){var e=this,t=this.state.searchText;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn.a,{autoFocus:!0,size:"large",placeholder:"Policy Number",prefix:r.a.createElement(s.a,{type:"search"}),allowClear:!0,value:t,onChange:this.onSearchChange,className:"mb-1"}),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.policies,loading:this.props.fetching,onRowClick:function(t){return e.selectPolicy(t.id)},hidePagination:!0}))}}]),t}(i.Component),cn=Object(b.c)(function(e){var t=Object(_e.policySearchSelector)(e);return{policies:t.items,fetching:t.fetching}})(sn),ln=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.error,T()({},e,t));n.setState({error:i}),n.props.onChange(i)}),T()(g()(n),"newClient",function(){var e=n.state.errorData,t=Object(B.newClient)({firstName:e.firstName||"",lastName:e.lastName||e.fullName||"",dateOfBirth:e.dateOfBirth||"",idNumber:e.idNumber||"",initials:e.initials||""});n.props.dispatch(Object(B.receiveClient)(t)),n.toggleClientEditVisible()}),T()(g()(n),"newPolicy",function(){if(n.state.error.clientId){var e=Object(_e.newPolicy)({clientId:n.state.error.clientId,companyId:n.props.statement.companyId,number:n.state.errorData.policyNumber});n.props.dispatch(Object(_e.receivePolicy)(e))}}),T()(g()(n),"clientInserted",function(e){n.selectClient(e.id)}),T()(g()(n),"policyInserted",function(e){n.selectPolicy(e.id)}),T()(g()(n),"selectClient",function(e){e!=n.state.error.clientId&&n.selectPolicy(null),n.handleChange("clientId",e)}),T()(g()(n),"selectPolicy",function(e){n.handleChange("policyId",e)}),T()(g()(n),"toggleSearchClientVisible",function(){n.setState({searchClientVisible:!n.state.searchClientVisible})}),T()(g()(n),"toggleSearchPolicyVisible",function(){n.setState({searchPolicyVisible:!n.state.searchPolicyVisible})}),T()(g()(n),"toggleClientEditVisible",function(){n.setState({clientEditVisible:!n.state.clientEditVisible})}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),n.state={error:e.error,errorData:e.error.data,searchClientVisible:!1,searchPolicyVisible:!1,clientEditVisible:!1,activeTab:"form_tab"},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.error!=e.error&&this.setState({error:this.props.error,errorData:this.props.error.data,activeTab:"form_tab"})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Mapping",key:"form_tab"},r.a.createElement(N.o,{editUseCase:"com_edit_commission_statements"},r.a.createElement(N.z,{fieldName:"clientId",label:"Client",value:n.clientId?r.a.createElement(N.c,{clientId:n.clientId,className:"text-success"}):null,emptyValueText:r.a.createElement("span",{className:"text-error"},"No Mapped Client"),validationResults:t,extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{size:"small",icon:"search",type:this.state.error.clientId?"dashed":"primary",onClick:this.toggleSearchClientVisible},"Find Client"),r.a.createElement(N.b,{size:"small",icon:"plus",type:this.state.error.clientId?"dashed":"primary",onClick:this.newClient},"New Client"))}),r.a.createElement(N.z,{fieldName:"policyId",label:"Policy",value:n.policyId?r.a.createElement(N.D,{policyId:n.policyId,className:"text-success"}):null,emptyValueText:r.a.createElement("span",{className:"text-error"},"No Mapped Policy"),validationResults:t,extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{size:"small",icon:"search",type:this.state.error.policyId?"dashed":"primary",onClick:this.toggleSearchPolicyVisible,disabled:!this.state.error.clientId},"Find Policy"),r.a.createElement(N.b,{size:"small",icon:"plus",type:this.state.error.policyId?"dashed":"primary",onClick:this.newPolicy,disabled:!this.state.error.clientId},"New Policy"))}),r.a.createElement(N.z,{fieldName:"commissionTypeId",label:"Commission Type",value:n.commissionTypeId?r.a.createElement(N.g,{commissionTypeId:n.commissionTypeId}):null,emptyValueText:r.a.createElement("span",{className:"text-error"},"No Mapped Commission Type"),validationResults:t}))),r.a.createElement(N.K,{tab:"Excel Data",key:"data_tab"},r.a.createElement(N.v,{data:n.data}))),r.a.createElement(Te,{onClientInserted:this.clientInserted,visible:this.state.clientEditVisible,onClose:this.toggleClientEditVisible}),r.a.createElement(Fe,{onPolicyInserted:this.policyInserted}),r.a.createElement(N.m,{title:"Client Search",visible:this.state.searchClientVisible,onClose:this.toggleSearchClientVisible},r.a.createElement(an,{defaultSearchText:this.state.errorData.lastName||"",onSelect:function(t){e.selectClient(t),e.toggleSearchClientVisible()}}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.toggleSearchClientVisible},"Close"))),r.a.createElement(N.m,{title:"Policy Search",visible:this.state.searchPolicyVisible,onClose:this.toggleSearchPolicyVisible},r.a.createElement(cn,{onSelect:function(t){e.selectPolicy(t),e.toggleSearchPolicyVisible()},clientId:this.state.error.clientId,companyId:this.props.statement.companyId}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.toggleSearchPolicyVisible},"Close"))))}}]),t}(i.Component),un=Object(b.c)()(ln),pn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.dispatch(Object(Yt.receiveMappingError)(null))}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.error,n.state.errorEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.close()}),T()(g()(n),"save",function(e){null!==n.state.errorEdited&&n.props.dispatch(Object(Yt.resolveMappingError)(n.props.statement.id,n.state.errorEdited,function(){n.props.onUpdate(),e?n.props.dispatch(Object(Yt.fetchNextMappingError)(n.props.statement.id)):n.close()}))}),T()(g()(n),"onChange",function(e){n.setState({errorEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){return n.props.fetching?"Loading Mapping Error":"Resolve Mapping Error - ".concat(n.props.remainingErrors," remaining")}),T()(g()(n),"canSave",function(){return null!==n.state.errorEdited&&!n.isLoading()&&(!!n.state.errorEdited.policyId&&!!n.state.errorEdited.clientId)}),n.state={errorEdited:e.error},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.error!=e.error&&this.setState({errorEdited:this.props.error})}},{key:"render",value:function(){var e=this,t=this.props,n=t.error,i=t.fetching,o=t.validationResults,a=t.statement;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.m,{title:this.getTitle(),visible:!!n||i,onClose:this.confirmCancel,noTopPadding:!0,icon:"file-exclamation"},r.a.createElement(N.j,{isLoading:this.isLoading()},n&&r.a.createElement(un,{statement:a,error:n,validationResults:o,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:function(){return e.save(!1)},type:"primary",disabled:!this.canSave(),requiredUseCase:"com_edit_commission_statements"},"Save"),this.props.remainingErrors>1&&r.a.createElement(N.b,{onClick:function(){return e.save(!0)},type:"primary",disabled:!this.canSave(),requiredUseCase:"com_edit_commission_statements"},r.a.createElement("span",null,"Save & Resolve Next ",r.a.createElement(s.a,{type:"right"}))))))}}]),t}(i.Component),dn=Object(b.c)(function(e){var t=Object(Yt.mappingErrorSelector)(e);return{error:t.commissionError,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(pn),mn=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"loadErrors",function(){n.props.dispatch(Object(Yt.fetchErrors)(n.props.statement.id,n.props.pageOptions,n.props.sortOptions)),n.props.onUpdate()}),T()(g()(n),"onFormClose",function(e){e||n.loadErrors()}),T()(g()(n),"errorData",function(e){return r.a.createElement("div",null,Object.keys(e).filter(function(t){var n=e[t];return""!==n&&null!==n}).map(function(t){return r.a.createElement("p",null,r.a.createElement("b",null,Object(me.j)(t),": "),e[t])}))}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumnEDS)("data","Policy Number",{render:function(e){return e.policyNumber},sorter:!1}),Object(Y.getColumnEDS)("data","Amount Incl VAT",{render:function(e){return Object(me.d)(e.amountIncludingVAT)},sorter:!1}),Object(Y.getColumnEDS)("data","VAT",{render:function(e){return Object(me.d)(e.vat)},sorter:!1}),Object(Y.getColumnEDS)("data","Excel Data",{render:function(e){return r.a.createElement(nn.a,{content:n.errorData(e),title:"Excel Data",placement:"leftTop",style:{width:"450px"}},r.a.createElement(s.a,{type:"file-excel"}))},sorter:!1})]}),T()(g()(n),"onTableChange",function(e,t){n.props.pageOptions!=e&&n.props.dispatch(Object(Yt.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(Yt.receiveSortOptions)(t))}),T()(g()(n),"resolveError",function(e){null!==n.props.statement&&n.props.dispatch(Object(Yt.fetchMappingError)(n.props.statement.id,e))}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadErrors()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions||this.loadErrors(),1!==this.props.pageOptions.number&&0===this.props.errors.length&&0!==e.errors.length&&this.props.dispatch(Object(Yt.receivePageOptions)(W()({},this.props.pageOptions,{number:this.props.pageOptions.number-1})))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.errors,loading:this.props.fetching,onRowClick:function(t){return e.resolveError(t.id)},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange}),r.a.createElement(dn,{statement:this.props.statement,remainingErrors:this.props.statement?this.props.statement.mappingErrorCount:0,onUpdate:this.loadErrors}))}}]),t}(i.Component),fn=Object(b.c)(function(e){var t=Object(Yt.commissionErrorsSelector)(e);return{errors:t.items,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,totalItems:t.totalItems}})(mn),hn=function(e){var t=0===e.count?"text-success":"text-error";return r.a.createElement("div",{className:"".concat(t," text-center"),style:{fontSize:"1.1em",padding:"17px"}},r.a.createElement(s.a,{type:"warning"})," There are ",r.a.createElement("b",null,e.count)," ",e.errorType," errors, please click here to resolve them")},En=n("Lq9/"),Cn=n("uWf2"),gn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadTemplates",function(){n.props.dispatch(Object(Cn.fetchCommissionStatementTemplates)())}),T()(g()(n),"handleChange",function(){var e=ee()(Z.a.mark(function e(t,i){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({templateId:i});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),T()(g()(n),"onChange",function(e){"uploading"!==e.file.status&&n.setState({loading:!0}),"done"===e.file.status?(Object(R.a)("success","Commission Statement Imported Successfully",5),n.props.onSuccess()):"error"===e.file.status&&Object(R.a)("error","Commission Statement Imported Failed",5)}),T()(g()(n),"setTemplateState",function(){var e=n.props.templates.filter(function(e){return e.companyId==n.props.companyId});if(e.length>0)n.setState({templateId:e[0].id,templates:e});else{n.setState({templateId:"",templates:[{id:"",companyId:"",name:"Default"}]})}}),n.state={loading:!1,templateId:"",templates:[]},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.templates.length&&this.loadTemplates(),this.setTemplateState()}},{key:"componentDidUpdate",value:function(e){e.templates!=this.props.templates&&this.setTemplateState()}},{key:"render",value:function(){return r.a.createElement(N.o,{editUseCase:"com_import_commissions"},r.a.createElement(N.w,{fieldName:"templateId",label:"Template",value:this.state.templateId,onChange:this.handleChange,options:this.state.templates,optionsValue:"id",optionsText:"name",loading:this.props.fetching}),r.a.createElement(N.r,{label:"File"},r.a.createElement(gt.a,{name:"file",listType:"text",onChange:this.onChange,action:"".concat(En.c,"/").concat(this.props.commissionStatementId,"?commissionStatementTemplateId=").concat(this.state.templateId),headers:{Authorization:"Bearer "+this.props.token},disabled:this.props.fetching,accept:".xlsx"},r.a.createElement(N.b,{noLeftMargin:!0,type:"primary"},r.a.createElement(s.a,{type:"upload"})," Click to Upload"))))}}]),t}(i.Component),vn=Object(b.c)(function(e){var t=Object(_.tokenSelector)(e),n=Object(Cn.commissionStatementTemplatesSelector)(e);return{token:t.token,fetching:n.fetching,templates:n.items}})(gn),Sn=ge.a.confirm,yn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"toggleCommissionListVisible",function(){n.setState({commissionListVisible:!n.state.commissionListVisible})}),T()(g()(n),"toggleUploadStatementVisible",function(){n.setState({uploadStatementVisible:!n.state.uploadStatementVisible})}),T()(g()(n),"toggleErrorListVisible",function(){n.setState({errorListVisible:!n.state.errorListVisible})}),T()(g()(n),"getCommissionStatementId",function(){return n.props.match.params.commissionStatementId}),T()(g()(n),"load",function(){n.props.dispatch(Object(kt.fetchStatementPreview)(n.getCommissionStatementId()))}),T()(g()(n),"onFormClose",function(e){e||n.load()}),T()(g()(n),"editDetails",function(){n.props.dispatch(Object(kt.fetchStatement)(n.getCommissionStatementId()))}),T()(g()(n),"deleteCommissions",function(){Sn({title:"Are you sure you want to delete all commission entries?",content:"All commission entries including any errors will be permanenty deleted, are you sure you wish to continue?",onOk:function(){n.props.dispatch(Object(kt.deleteCommissions)(n.getCommissionStatementId(),function(){Object(R.a)("success","Commission entries successfully deleted",5),n.load()}))}})}),T()(g()(n),"isLoading",function(){return n.props.fetching&&null===n.props.statement}),T()(g()(n),"getCommissionEntriesActions",function(){var e=[r.a.createElement(s.a,{type:"bars",onClick:n.toggleCommissionListVisible})];return Object(be.a)("com_edit_commission_statements",n.props.useCases)&&e.unshift(r.a.createElement(s.a,{type:"delete",onClick:function(e){n.deleteCommissions(),e.stopPropagation()}})),e}),T()(g()(n),"getNextFormatError",function(){null!==n.props.statement&&n.props.dispatch(Object(Yt.fetchNextFormatError)(n.props.statement.id))}),T()(g()(n),"showCommissionUploadInfo",function(){ge.a.info({title:"Default Template Info",content:r.a.createElement("div",null,r.a.createElement("h4",{className:"mt-1"},"Excel Column Order"),r.a.createElement("ol",{style:{listStyleType:"upper-alpha"}},r.a.createElement("li",null,r.a.createElement("b",{className:"text-primary"},"Policy Number"),r.a.createElement("span",{className:"pull-right"},"(Required)")),r.a.createElement("li",null,r.a.createElement("b",{className:"text-primary"},"AmountIncludingVAT"),r.a.createElement("span",{className:"pull-right"},"(Required)")),r.a.createElement("li",null,r.a.createElement("b",{className:"text-primary"},"VAT"),r.a.createElement("span",{className:"pull-right"},"(Required)")),r.a.createElement("li",null,r.a.createElement("b",{className:"text-primary"},"CommissionTypeCode"),r.a.createElement("span",{className:"pull-right"},"(Required)")),r.a.createElement("li",null,"LastName"),r.a.createElement("li",null,"DateOfBirth (YYYY-MM-DD)"),r.a.createElement("li",null,"FirstName"),r.a.createElement("li",null,"IdNumber"),r.a.createElement("li",null,"Initials"),r.a.createElement("li",null,"FullName"),r.a.createElement("li",null,"BrokerFullName")))})}),T()(g()(n),"downloadMappingErrors",function(){null!==n.props.statement&&n.props.dispatch(Object(Bt.b)(n.props.statement.id,!0,function(e){null!==n.props.statement&&mt(e.items.map(function(e){return e.data}),"MappingErrors_".concat(n.getCompanyName(),"_").concat(ne()(n.props.statement.date).format(me.a),".xlsx"))}))}),T()(g()(n),"getCompanyName",function(){var e="";null!==n.props.statement&&(e=n.props.statement.companyId);var t=n.props.companies.find(function(t){return t.id===e});return t?t.name:""}),T()(g()(n),"back",function(){return n.props.history.push("/commission")}),n.state={commissionListVisible:!1,uploadStatementVisible:!1,errorListVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"render",value:function(){var e=this,t=this.props.statement;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"reconciliation",loading:this.isLoading(),onBack:this.back},t&&r.a.createElement("span",null,r.a.createElement(N.h,{companyId:t.companyId}),": ",r.a.createElement(N.l,{date:t.date}))),r.a.createElement(N.G,null,r.a.createElement(N.F,{title:"Details",icon:"profile",onClick:this.editDetails,isLoading:this.isLoading(),actions:[r.a.createElement(s.a,{type:"edit",onClick:this.editDetails})],rows:3,height:"130px"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.H,{label:"Status",value:r.a.createElement(Ft,{processed:t.processed})}),r.a.createElement(N.H,{label:"Amount (incl VAT)",value:r.a.createElement(N.k,{amount:t.amountIncludingVAT})}),r.a.createElement(N.H,{label:"VAT",value:r.a.createElement(N.k,{amount:t.vat})}))),r.a.createElement(N.F,{title:"Commission Entries",icon:"dollar",onClick:this.toggleCommissionListVisible,isLoading:this.isLoading(),actions:this.getCommissionEntriesActions(),rows:3,height:"130px"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.H,{label:"Total Entries",value:t.commissionCount}),r.a.createElement(N.H,{label:"Amount (incl VAT)",value:r.a.createElement(N.k,{amount:t.actualAmountIncludingVAT})}),r.a.createElement(N.H,{label:"VAT",value:r.a.createElement(N.k,{amount:t.actualVAT})}))),r.a.createElement(N.F,{title:"Upload Statement",actions:[r.a.createElement(s.a,{type:"info-circle",onClick:function(t){e.showCommissionUploadInfo(),t.stopPropagation()}})],icon:"upload",onClick:this.toggleUploadStatementVisible,isLoading:this.isLoading(),rows:3,height:"130px",requiredUseCase:"com_import_commissions"},r.a.createElement("div",{className:"text-center"},r.a.createElement(s.a,{type:"file-excel",style:{fontSize:"36px",paddingTop:"25px"}}))),t&&t.formatErrorCount>0&&r.a.createElement(N.F,{title:"Format Errors",icon:"file-exclamation",isLoading:this.isLoading(),rows:3,onClick:this.getNextFormatError,actions:[r.a.createElement(s.a,{type:"tool"})],height:"130px"},t&&r.a.createElement(hn,{count:t.formatErrorCount,errorType:"format"})),t&&t.mappingErrorCount>0&&r.a.createElement(N.F,{title:"Mapping Errors",icon:"file-exclamation",isLoading:this.isLoading(),rows:3,onClick:this.toggleErrorListVisible,actions:[r.a.createElement(s.a,{type:"tool"}),r.a.createElement(s.a,{type:"download",onClick:function(t){e.downloadMappingErrors(),t.stopPropagation()}})],height:"130px"},t&&r.a.createElement(hn,{count:t.mappingErrorCount,errorType:"mapping"}))),r.a.createElement(Vt,{onClose:this.onFormClose}),r.a.createElement(tn,{statementId:this.props.statement?this.props.statement.id:"",remainingErrors:this.props.statement?this.props.statement.formatErrorCount:0,onUpdate:this.load}),r.a.createElement(N.m,{title:"Commission Entries",icon:"dollar",noTopPadding:!0,visible:this.state.commissionListVisible,onClose:this.toggleCommissionListVisible},r.a.createElement(Zt,{commissionStatementId:this.getCommissionStatementId(),onCommissionsUpdate:this.load}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.toggleCommissionListVisible},"Close"))),r.a.createElement(N.m,{title:"Upload Statement",icon:"upload",visible:this.state.uploadStatementVisible,onClose:this.toggleUploadStatementVisible},t&&r.a.createElement(vn,{commissionStatementId:t.id,companyId:t.companyId,onSuccess:function(){e.load(),e.toggleUploadStatementVisible()}}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.toggleUploadStatementVisible},"Close"))),t&&r.a.createElement(N.m,{title:"Mapping Errors - ".concat(t.mappingErrorCount," remaining"),icon:"file-exclamation",visible:this.state.errorListVisible,onClose:this.toggleErrorListVisible},r.a.createElement(fn,{statement:t,onUpdate:this.load}),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.toggleErrorListVisible},"Close"))))}}]),t}(i.Component),Tn=Object(o.g)(Object(b.c)(function(e){var t=Object(kt.statementPreviewSelector)(e),n=Object(Me.companiesSelector)(e);return{statement:t.statement,fetching:t.fetching,useCases:Object(_.useCaseSelector)(e),companies:n.items}})(yn)),In=(n("JvnM"),n("KrTs")),On=n("RsOY"),bn=n.n(On),_n=n("KAEM"),Nn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"remove",function(e){var t=bn()(n.state.commissionTypes.types,{$splice:[[e,1]]});n.setTypesState(t)}),T()(g()(n),"add",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=bn()(n.state.commissionTypes.types,{$push:[{commissionTypeCode:"",value:e}]});n.setTypesState(t)}),T()(g()(n),"update",function(e,t){var i=bn()(n.state.commissionTypes.types,T()({},e,{$set:t}));n.setTypesState(i)}),T()(g()(n),"onTypesChange",function(e,t,i){var r=W()({},n.state.commissionTypes.types[i],T()({},e,t));n.update(i,r)}),T()(g()(n),"onChange",function(e,t){var i=W()({},n.state.commissionTypes,T()({},e,t));n.setCommissionTypesState(i)}),T()(g()(n),"setTypesState",function(e){var t=W()({},n.state.commissionTypes,{types:e});n.setCommissionTypesState(t)}),T()(g()(n),"setCommissionTypesState",function(e){n.setState({commissionTypes:e}),n.props.onChange(e)}),T()(g()(n),"getActions",function(e,t){return n.state.hasUseCase?[r.a.createElement(G.a,{title:"Are you sure remove this mapping?",onConfirm:function(){return n.remove(t)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{href:"#"},"remove"))]:[]}),T()(g()(n),"syncCommissionTypes",function(e){var t=n.state.commissionTypes.types.map(function(e){return e.value.toLowerCase()});e.forEach(function(e){t.find(function(t){return t===e.toLowerCase()})||n.add(e)})}),T()(g()(n),"onFileUpload",function(e){"done"===e.file.status?(Object(R.a)("success","Commission Types Sync Successful",5),n.syncCommissionTypes(e.file.response),n.setState({syncingCommissionTypes:!1})):"error"===e.file.status&&(Object(R.a)("error","Commission Types sync failed, check data is valid",10),n.setState({syncingCommissionTypes:!1}))}),T()(g()(n),"onBeforeFileUpload",function(){return n.setState({syncingCommissionTypes:!0}),new Promise(function(e,t){n.props.saveTemplate(e,function(){n.setState({syncingCommissionTypes:!1}),t()},!0)})}),n.state={commissionTypes:e.commissionTypes,hasUseCase:Object(be.a)("com_edit_commission_statement_templates",e.useCases),syncingCommissionTypes:!1},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.commissionTypes!=e.commissionTypes&&this.setState({commissionTypes:this.props.commissionTypes})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.commissionTypes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.q,{validationResults:t}),r.a.createElement(N.o,{editUseCase:"com_edit_commission_statement_templates"},r.a.createElement(N.w,{fieldName:"defaultCommissionTypeCode",label:"Default Commission Type",value:n.defaultCommissionTypeCode,onChange:this.onChange,validationResults:t,options:this.props.lookupCommissionTypes,optionsValue:"code",optionsText:"name"}),r.a.createElement(N.s,{fieldName:"mappingTemplate",label:"Mapping Template",value:n.mappingTemplate,onChange:this.onChange,validationResults:t})),r.a.createElement(N.b,{icon:"plus",type:"dashed",onClick:function(){return e.add()},noLeftMargin:!0,visible:this.state.hasUseCase},"Add Mapping"),this.props.template.id&&r.a.createElement(gt.a,{name:"file",listType:"text",className:"pull-right",beforeUpload:this.onBeforeFileUpload,onChange:this.onFileUpload,action:"".concat(En.d,"/").concat(this.props.template.id,"/excel/uniqueCommissionTypes"),headers:{Authorization:"Bearer "+this.props.token},showUploadList:!1,disabled:!this.state.hasUseCase||this.state.syncingCommissionTypes},r.a.createElement(N.b,{loading:this.state.syncingCommissionTypes},!this.state.syncingCommissionTypes&&r.a.createElement(s.a,{type:"upload"}),"Sync Commission Types")),r.a.createElement(de.a,{bordered:!0,className:"mt-1",dataSource:n.types,renderItem:function(n,i){return r.a.createElement(de.a.Item,{key:i,actions:[e.getActions(n,i)]},r.a.createElement(N.o,{editUseCase:"com_edit_commission_statement_templates",layout:"inline"},r.a.createElement(N.s,{fieldName:"value",validationFieldName:"types[".concat(i,"].value"),label:"Value",value:n.value,onChange:function(t,n){e.onTypesChange(t,n,i)},validationResults:t,width:"320px"}),r.a.createElement(N.u,{type:"arrow-right"}),r.a.createElement(N.w,{fieldName:"commissionTypeCode",validationFieldName:"types[".concat(i,"].commissionTypeCode"),label:"Type",value:n.commissionTypeCode,onChange:function(t,n){e.onTypesChange(t,n,i)},validationResults:t,options:e.props.lookupCommissionTypes,optionsValue:"code",optionsText:"name",width:"230px"})))}}))}}]),t}(i.Component),Rn=Object(b.c)(function(e){var t=Object(_n.commissionStatementTemplateFieldNamesSelector)(e),n=Object(qt.commissionTypesSelector)(e);return{token:Object(_.tokenSelector)(e).token,lookupCommissionTypes:n.items,fieldNames:t.items,useCases:Object(_.useCaseSelector)(e)}})(Nn),Pn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"remove",function(e){var t=bn()(n.state.fields,{$splice:[[e,1]]});n.setFieldsState(t)}),T()(g()(n),"add",function(){var e=bn()(n.state.fields,{$push:[{name:"",column:""}]});n.setFieldsState(e)}),T()(g()(n),"update",function(e,t){var i=bn()(n.state.fields,T()({},e,{$set:t}));n.setFieldsState(i)}),T()(g()(n),"onChange",function(e,t,i){var r=W()({},n.state.fields[i],T()({},e,t));n.update(i,r)}),T()(g()(n),"setFieldsState",function(e){n.setState({fields:e}),n.props.onChange(e)}),T()(g()(n),"getActions",function(e,t){return n.state.hasUseCase?[r.a.createElement(G.a,{title:"Are you sure remove this mapping?",onConfirm:function(){return n.remove(t)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{href:"#"},"remove"))]:[]}),n.state={fields:e.fields,hasUseCase:Object(be.a)("com_edit_commission_statement_templates",e.useCases)},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.fields!=e.fields&&this.setState({fields:this.props.fields})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.fields;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.q,{validationResults:t}),r.a.createElement(N.b,{icon:"plus",type:"dashed",onClick:this.add,noLeftMargin:!0,visible:this.state.hasUseCase},"Add Mapping"),r.a.createElement(de.a,{bordered:!0,className:"mt-1",dataSource:n,renderItem:function(n,i){return r.a.createElement(de.a.Item,{actions:[e.getActions(n,i)]},r.a.createElement(N.o,{key:i,editUseCase:"com_edit_commission_statement_templates",layout:"inline"},r.a.createElement(N.s,{fieldName:"column",validationFieldName:"[".concat(i,"].column"),label:"Column",value:n.column,onChange:function(t,n){e.onChange(t,n,i)},validationResults:t,width:"100px"}),r.a.createElement(N.u,{type:"arrow-right"}),r.a.createElement(N.w,{fieldName:"name",validationFieldName:"[".concat(i,"].name"),label:"Field",value:n.name,onChange:function(t,n){e.onChange(t,n,i)},validationResults:t,options:e.props.fieldNames,optionsValue:"id",optionsText:"name",width:"300px"})))}}))}}]),t}(i.Component),jn=Object(b.c)(function(e){return{fieldNames:Object(qt.commissionStatementTemplateFieldNamesSelector)(e).items,useCases:Object(_.useCaseSelector)(e)}})(Pn),Ln=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.headerIdentifier,T()({},e,t));n.setState({headerIdentifier:i}),n.props.onChange(i)}),n.state={headerIdentifier:e.headerIdentifier},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.headerIdentifier!=e.headerIdentifier&&this.setState({headerIdentifier:this.props.headerIdentifier})}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.headerIdentifier;return r.a.createElement(N.o,{editUseCase:"com_edit_commission_statement_templates"},r.a.createElement(N.s,{fieldName:"column",label:"Column",value:t.column,onChange:this.handleChange,validationResults:e}),r.a.createElement(N.s,{fieldName:"value",label:"Value",value:t.value,onChange:this.handleChange,validationResults:e}))}}]),t}(i.Component),An=n("P5Jw"),kn=n.n(An),Mn=rn.a.TextArea,wn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"onChange",function(e){n.setState({config:e.target.value})}),T()(g()(n),"override",function(){try{var e=JSON.parse(n.state.config);n.isValidCommissionType(e.commissionTypes.defaultCommissionTypeCode)||(e.commissionTypes.defaultCommissionTypeCode=qt.UNKNOWN_COMMISSION_TYPE_CODE),e.commissionTypes.types=e.commissionTypes.types.map(function(e){return{commissionTypeCode:n.isValidCommissionType(e.commissionTypeCode)?e.commissionTypeCode:"",value:e.value}});var t=W()({},n.props.template,{config:e});n.props.dispatch(Object(Cn.receiveCommissionStatementTemplate)(t)),Object(R.a)("info","Config Fields Updated",3)}catch(e){Object(R.a)("error","Config error, please check syntax",5)}}),T()(g()(n),"isValidCommissionType",function(e){return!!n.props.lookupCommissionTypes.find(function(t){return t.code===e})}),n.state={config:""},n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{type:"flex",justify:"space-between"},r.a.createElement(j.a,null,r.a.createElement("h4",null,"Current Config")),r.a.createElement(j.a,null,r.a.createElement(kn.a,{text:JSON.stringify(this.props.template.config,null,4),onCopy:function(){Object(R.a)("info","Config Copied",2)}},r.a.createElement(N.b,{icon:"copy",noLeftMargin:!0,size:"small"},"Copy Config")))),r.a.createElement(Mn,{rows:6,value:JSON.stringify(this.props.template.config,null,4),disabled:!0}),r.a.createElement(P.a,{type:"flex",justify:"space-between",className:"mt-2"},r.a.createElement(j.a,null,r.a.createElement("h4",null,"Override Config"))),r.a.createElement(Mn,{rows:8,value:this.state.config,onChange:this.onChange}),r.a.createElement(N.b,{icon:"edit",onClick:function(){return e.override()},type:"primary",noLeftMargin:!0,disabled:!this.state.config,className:"mt-1"},"Override Current Config"),this.state.config&&r.a.createElement("small",{className:"ml-1"},"* this will only update the form fields, template will NOT be saved until clicking the 'Save' button."))}}]),t}(i.Component),xn=Object(b.c)(function(e){return{lookupCommissionTypes:Object(qt.commissionTypesSelector)(e).items}})(wn),Vn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.template,T()({},e,t));n.setTemplateState(i)}),T()(g()(n),"setTemplateState",function(e){n.setState({template:e}),n.props.onChange(e)}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),T()(g()(n),"onHeaderIdentifierChange",function(e){var t=bn()(n.state.template,{config:{headerIdentifier:{$set:e}}});n.setTemplateState(t)}),T()(g()(n),"onFieldsChange",function(e){var t=bn()(n.state.template,{config:{fields:{$set:e}}});n.setTemplateState(t)}),T()(g()(n),"onCommissionTypesChange",function(e){var t=bn()(n.state.template,{config:{commissionTypes:{$set:e}}});n.setTemplateState(t)}),T()(g()(n),"getHeaderIdentifierTabTitle",function(){return n.getTabTitle("Header Identifier","config.headerIdentifier")}),T()(g()(n),"getFieldsTabTitle",function(){return n.getTabTitle("Fields","config.fields")}),T()(g()(n),"getCommissionTypesTabTitle",function(){return n.getTabTitle("Commission Types","config.commissionTypes")}),T()(g()(n),"getTabTitle",function(e,t){var i=Object(ft.getValidationSubSet)(t,n.props.validationResults).length;return r.a.createElement(In.a,{count:i,offset:[10,-2]},e)}),n.state={template:e.template,activeTab:"details_tab"},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.template!=e.template&&this.setState({template:this.props.template})}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.template;return r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Details",key:"details_tab"},r.a.createElement(N.o,{editUseCase:"com_edit_commission_statement_templates"},r.a.createElement(N.s,{fieldName:"name",label:"Name",value:t.name,onChange:this.handleChange,validationResults:e,autoFocus:!0}),r.a.createElement(N.w,{fieldName:"companyId",label:"Company",value:t.companyId,onChange:this.handleChange,validationResults:e,options:this.props.companies,optionsValue:"id",optionsText:"name"}))),r.a.createElement(N.K,{tab:this.getHeaderIdentifierTabTitle(),key:"config_header_identifier"},r.a.createElement(Ln,{headerIdentifier:t.config.headerIdentifier,validationResults:Object(ft.getValidationSubSet)("config.headerIdentifier",e),onChange:this.onHeaderIdentifierChange})),r.a.createElement(N.K,{tab:this.getFieldsTabTitle(),key:"config_fields"},r.a.createElement(jn,{fields:t.config.fields,validationResults:Object(ft.getValidationSubSet)("config.fields",e,!0),onChange:this.onFieldsChange})),r.a.createElement(N.K,{tab:this.getCommissionTypesTabTitle(),key:"config_commission_types"},r.a.createElement(Rn,{template:t,commissionTypes:t.config.commissionTypes,validationResults:Object(ft.getValidationSubSet)("config.commissionTypes",e),onChange:this.onCommissionTypesChange,saveTemplate:this.props.saveTemplate})),r.a.createElement(N.K,{tab:"Raw Config",key:"config_raw"},r.a.createElement(xn,{template:t})))}}]),t}(i.Component),Dn=Object(b.c)(function(e){return{companies:Object(Me.companiesSelector)(e).items}})(Vn),Fn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.onClose(!1)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.template,n.state.templateEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.props.onClose(!0)}),T()(g()(n),"save",function(e,t,i){n.state.templateEdited&&(n.state.templateEdited.id?n.props.dispatch(Object(Cn.updateCommissionStatementTemplate)(n.state.templateEdited,function(t,r){i||Object(R.a)("success","Template Successfully Saved",3),n.props.dispatch(Object(Cn.receiveCommissionStatementTemplate)(n.state.templateEdited)),e&&e(t,r)},t)):n.props.dispatch(Object(Cn.insertCommissionStatementTemplate)(n.state.templateEdited,function(t,i){n.close(),e&&e(t,i)},t)))}),T()(g()(n),"onChange",function(e){n.setState({templateEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.updating}),T()(g()(n),"getTitle",function(){var e=n.props.template;return e&&e.id?"Template: ".concat(e.name):"New Template"}),n.state={templateEdited:e.template},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.template!=e.template&&this.setState({templateEdited:this.props.template})}},{key:"render",value:function(){var e=this,t=this.props,n=t.template,i=t.validationResults,o=t.visible;return r.a.createElement(N.m,{title:this.getTitle(),icon:"block",visible:o,onClose:this.confirmCancel,noTopPadding:!0},r.a.createElement(N.j,{isLoading:this.isLoading()},n&&r.a.createElement(Dn,{template:n,validationResults:i,onChange:this.onChange,saveTemplate:this.save})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Close"),r.a.createElement(N.b,{onClick:function(){return e.save()},type:"primary",disabled:this.isLoading(),requiredUseCase:"com_edit_commission_statement_templates"},"Save")))}}]),t}(i.Component),Un=Object(b.c)(function(e){var t=Object(Cn.commissionStatementTemplateSelector)(e);return{template:t.template,updating:t.updating||t.fetching,validationResults:t.validationResults}})(Fn),Gn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadTemplates",function(){n.props.dispatch(Object(Cn.fetchCommissionStatementTemplates)())}),T()(g()(n),"newTemplate",function(){var e={id:"",name:"",companyId:"",config:{headerIdentifier:{column:"",value:""},fields:[],commissionTypes:{defaultCommissionTypeCode:qt.UNKNOWN_COMMISSION_TYPE_CODE,mappingTemplate:"",types:[]}}};n.props.dispatch(Object(Cn.receiveCommissionStatementTemplate)(e)),n.showEditTemplate()}),T()(g()(n),"editTemplate",function(e){n.props.dispatch(Object(Cn.fetchCommissionStatementTemplate)(e)),n.showEditTemplate()}),T()(g()(n),"showEditTemplate",function(){n.setState({editVisible:!0})}),T()(g()(n),"closeEditCompany",function(e){n.setState({editVisible:!1}),e||n.loadTemplates()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("name","Name",{showSearchFilter:!0}),Object(Y.getColumn)("companyId","Company",{render:function(e){return r.a.createElement(N.h,{companyId:e})},filters:n.props.companies.map(function(e){return{text:e.name,value:e.id}})})]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.templates.length&&this.loadTemplates()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"block",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newTemplate,disabled:this.props.fetching,requiredUseCase:"com_edit_commission_statement_templates"},"New Template")},"Commission Statement Templates"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.templates,loading:this.props.fetching,onRowClick:function(t){return e.editTemplate(t.id)}}),r.a.createElement(Un,{visible:this.state.editVisible,onClose:this.closeEditCompany}))}}]),t}(i.Component),Hn=Object(b.c)(function(e){var t=Object(Cn.commissionStatementTemplatesSelector)(e),n=Object(Me.companiesSelector)(e);return{templates:t.items,fetching:t.fetching,companies:n.items}})(Gn),Yn=n("bDFr"),Bn=n("nZsZ"),zn=n.n(Bn),qn=function(e){function t(){return u()(this,t),f()(this,E()(t).apply(this,arguments))}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.auditLog,n=e.visible,i=e.onClose;return r.a.createElement(N.m,{title:"Audit Log Detail",icon:"video-camera",visible:n,onClose:i},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("b",null,"Date: "),r.a.createElement(N.l,{date:t.date,includeTime:!0})),r.a.createElement("p",null,r.a.createElement("b",null,"Entity: "),t.entity.replace("Entity","")),r.a.createElement("p",null,r.a.createElement("b",null,"Action: "),t.action),r.a.createElement("p",null,r.a.createElement("b",null,"Broker: "),r.a.createElement(N.N,{userId:t.userId})),r.a.createElement("p",null,r.a.createElement("b",null,"Raw Data: ")),r.a.createElement(zn.a,{json:JSON.parse(t.data)})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:i},"Close")))}}]),t}(i.Component),Kn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadAuditLogs",function(){n.props.dispatch(Object(Yn.fetchAuditLogs)(n.props.pageOptions,n.props.sortOptions,n.props.filters))}),T()(g()(n),"viewAuditLog",function(e){n.setState({viewAuditLog:e})}),T()(g()(n),"closeAuditLog",function(){n.setState({viewAuditLog:null})}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumnEDS)("date","Date",{type:"long-date"}),Object(Y.getColumnEDS)("entity","Entity",{render:function(e){return e.replace("Entity","")},showSearchFilter:!0},n.props.filters),Object(Y.getColumnEDS)("action","Action",{render:function(e){switch(e=e.toUpperCase()){case"DELETE":return r.a.createElement(Dt.a,{color:"red"},e);case"INSERT":return r.a.createElement(Dt.a,{color:"green"},e);default:return r.a.createElement(Dt.a,{color:"blue"},e)}},filters:[{text:"Insert",value:"Insert"},{text:"Update",value:"Update"},{text:"Delete",value:"Delete"}]},n.props.filters),Object(Y.getColumnEDS)("userId","Broker",{render:function(e){return r.a.createElement(N.N,{userId:e})},filters:n.props.users.map(function(e){return{text:e.fullName,value:e.id}})},n.props.filters)]}),T()(g()(n),"onTableChange",function(e,t,i){n.props.pageOptions!=e&&n.props.dispatch(Object(Yn.receivePageOptions)(e)),n.props.sortOptions!=t&&n.props.dispatch(Object(Yn.receiveSortOptions)(t)),n.props.filters!=i&&n.props.dispatch(Object(Yn.receiveFilters)(i))}),n.state={viewAuditLog:null},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.logs.length&&this.loadAuditLogs()}},{key:"componentDidUpdate",value:function(e){e.pageOptions==this.props.pageOptions&&e.sortOptions==this.props.sortOptions&&e.filters==this.props.filters||this.loadAuditLogs()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"video-camera",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{type:"default",icon:"sync",onClick:this.loadAuditLogs,disabled:this.props.fetching},"Reload"))},"Audit Logs"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.logs,loading:this.props.fetching,onRowClick:function(t){return e.viewAuditLog(t)},externalDataSource:!0,pageOptions:this.props.pageOptions,totalRows:this.props.totalItems,onTableChange:this.onTableChange}),r.a.createElement(qn,{visible:null!==this.state.viewAuditLog,onClose:this.closeAuditLog,auditLog:this.state.viewAuditLog}))}}]),t}(i.Component),Wn=Object(b.c)(function(e){var t=Object(Yn.auditLogsSelector)(e),n=Object(we.usersSimpleSelector)(e);return{logs:t.items,fetching:t.fetching,pageOptions:t.pageOptions,sortOptions:t.sortOptions,totalItems:t.totalItems,filters:t.filters,users:n.items}})(Kn),Qn=n("9EF6"),Xn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.commissionType,T()({},e,t));n.setState({commissionType:i}),n.props.onChange(i)}),n.state={commissionType:e.commissionType},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.commissionType!=e.commissionType&&this.setState({commissionType:this.props.commissionType})}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.commissionType;return r.a.createElement(N.o,{editUseCase:"dir_edit_lookups"},r.a.createElement(N.s,{fieldName:"name",label:"Name",value:t.name,onChange:this.handleChange,validationResults:e,autoFocus:!0}),r.a.createElement(N.s,{fieldName:"code",label:"Code",value:t.code,onChange:this.handleChange,validationResults:e,disabled:!0}),r.a.createElement(N.w,{fieldName:"policyTypeId",label:"Policy Type",value:t.policyTypeId,onChange:this.handleChange,validationResults:e,options:this.props.policyTypes,optionsValue:"id",optionsText:"name"}),r.a.createElement(N.w,{fieldName:"commissionEarningsTypeId",label:"Earnings Type",value:t.commissionEarningsTypeId,onChange:this.handleChange,validationResults:e,options:this.props.commissionEarningsTypes,optionsValue:"id",optionsText:"name"}))}}]),t}(i.Component),Jn=Object(b.c)(function(e){var t=Object(z.policyTypesSelector)(e),n=Object(qt.commissionEarningsTypesSelector)(e);return{policyTypes:t.items,commissionEarningsTypes:n.items}})(Xn),Zn=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.onClose(!1)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.commissionType,n.state.commissionTypeEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.props.onClose(!0)}),T()(g()(n),"save",function(){n.state.commissionTypeEdited?n.state.commissionTypeEdited.id?n.props.dispatch(Object(qt.updateCommissionType)(n.state.commissionTypeEdited,n.close)):n.props.dispatch(Object(qt.insertCommissionType)(n.state.commissionTypeEdited,n.close)):n.close()}),T()(g()(n),"onChange",function(e){n.setState({commissionTypeEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.updating}),T()(g()(n),"getTitle",function(){var e=n.props.commissionType;return e&&e.id?"Commission Type: ".concat(e.name):"New Commission Type"}),n.state={commissionTypeEdited:e.commissionType},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.commissionType!=e.commissionType&&this.setState({commissionTypeEdited:this.props.commissionType})}},{key:"render",value:function(){var e=this.props,t=e.commissionType,n=e.validationResults,i=e.visible;return r.a.createElement(N.m,{title:this.getTitle(),icon:"dollar",visible:i,onClose:this.confirmCancel},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(Jn,{commissionType:t,validationResults:n,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"dir_edit_lookups"},"Save")))}}]),t}(i.Component),$n=Object(b.c)(function(e){var t=Object(qt.commissionTypeSelector)(e);return{commissionType:t.commissionType,updating:t.updating,validationResults:t.validationResults}})(Zn),ei=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadCommissionTypes",function(){n.props.dispatch(Object(Qn.d)())}),T()(g()(n),"newCommissionType",function(){n.showEditCommissionType({id:"",policyTypeId:"",commissionEarningsTypeId:"",name:"",code:""})}),T()(g()(n),"editCommissionType",function(e){var t=n.props.commissionTypes.find(function(t){return t.id===e});t&&n.showEditCommissionType(t)}),T()(g()(n),"showEditCommissionType",function(e){n.props.dispatch(Object(Qn.f)(e)),n.setState({editVisible:!0})}),T()(g()(n),"closeEditCommissionType",function(e){n.setState({editVisible:!1}),e||n.loadCommissionTypes()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("name","Name",{showSearchFilter:!0}),Object(Y.getColumn)("code","Code",{showSearchFilter:!0}),Object(Y.getColumn)("policyTypeId","Policy Type",{render:function(e){return r.a.createElement(N.E,{policyTypeId:e})},filters:n.props.policyTypes.map(function(e){return{text:e.name,value:e.id}})}),Object(Y.getColumn)("commissionEarningsTypeId","Earnings Type",{render:function(e){return r.a.createElement(N.f,{commissionEarningsTypeId:e})},filters:n.props.commissionEarningsTypes.map(function(e){return{text:e.name,value:e.id}})})]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.commissionTypes.length&&this.loadCommissionTypes()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"dollar",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newCommissionType,disabled:this.props.fetching,requiredUseCase:"dir_edit_lookups"},"New Commission Type")},"Commission Types"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.commissionTypes,loading:this.props.fetching,onRowClick:function(t){return e.editCommissionType(t.id)}}),r.a.createElement($n,{visible:this.state.editVisible,onClose:this.closeEditCommissionType}))}}]),t}(i.Component),ti=Object(b.c)(function(e){var t=Object(Qn.c)(e),n=Object(qt.commissionEarningsTypesSelector)(e),i=Object(z.policyTypesSelector)(e);return{commissionTypes:t.items,policyTypes:i.items,commissionEarningsTypes:n.items,fetching:t.fetching}})(ei),ni=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.company,T()({},e,t));n.setState({company:i}),n.props.onChange(i)}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),n.state={company:e.company,activeTab:"details_tab"},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.company!=e.company&&this.setState({company:this.props.company,activeTab:"details_tab"})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.company;return r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Details",key:"details_tab"},r.a.createElement(N.o,{editUseCase:"dir_edit_lookups"},r.a.createElement(N.s,{fieldName:"name",label:"Name",value:n.name,onChange:this.handleChange,validationResults:t,autoFocus:!0}))),r.a.createElement(N.K,{tab:"Commission",key:"commission_tab"},r.a.createElement(N.x,{editUseCase:"dir_edit_lookups",fieldName:"commissionPolicyNumberPrefixes",displayName:"Policy Number Prefix",values:n.commissionPolicyNumberPrefixes,onChange:function(t){return e.handleChange("commissionPolicyNumberPrefixes",t)},validationResults:t})))}}]),t}(i.Component),ii=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.onClose(!1)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.company,n.state.companyEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.props.onClose(!0)}),T()(g()(n),"save",function(){n.state.companyEdited?n.state.companyEdited.id?n.props.dispatch(Object(It.updateCompany)(n.state.companyEdited,n.close)):n.props.dispatch(Object(It.insertCompany)(n.state.companyEdited,n.close)):n.close()}),T()(g()(n),"onChange",function(e){n.setState({companyEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.updating}),T()(g()(n),"getTitle",function(){var e=n.props.company;return e&&e.id?"Company: ".concat(e.name):"New Company"}),n.state={companyEdited:e.company},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.company!=e.company&&this.setState({companyEdited:this.props.company})}},{key:"render",value:function(){var e=this.props,t=e.company,n=e.validationResults,i=e.visible;return r.a.createElement(N.m,{title:this.getTitle(),icon:"copyright",visible:i,onClose:this.confirmCancel,noTopPadding:!0},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(ni,{company:t,validationResults:n,onChange:this.onChange})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"dir_edit_lookups"},"Save")))}}]),t}(i.Component),ri=Object(b.c)(function(e){var t=Object(It.companySelector)(e);return{company:t.company,updating:t.updating,validationResults:t.validationResults}})(ii),oi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadCompanies",function(){n.props.dispatch(Object(It.fetchCompanies)())}),T()(g()(n),"newCompany",function(){n.showEditCompany({id:"",name:"",commissionPolicyNumberPrefixes:[""]})}),T()(g()(n),"editCompany",function(e){var t=n.props.companies.find(function(t){return t.id===e});t&&n.showEditCompany(t)}),T()(g()(n),"showEditCompany",function(e){n.props.dispatch(Object(It.receiveCompany)(e)),n.setState({editVisible:!0})}),T()(g()(n),"closeEditCompany",function(e){n.setState({editVisible:!1}),e||n.loadCompanies()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("name","Name",{showSearchFilter:!0})]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.companies.length&&this.loadCompanies()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"copyright",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newCompany,disabled:this.props.fetching,requiredUseCase:"dir_edit_lookups"},"New Company")},"Companies"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.companies,loading:this.props.fetching,onRowClick:function(t){return e.editCompany(t.id)}}),r.a.createElement(ri,{visible:this.state.editVisible,onClose:this.closeEditCompany}))}}]),t}(i.Component),ai=Object(b.c)(function(e){var t=Object(It.companiesSelector)(e);return{companies:t.items,fetching:t.fetching}})(oi),si=n("/XDx"),ci=n("Yedt"),li=n("Dllk"),ui=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.branch,T()({},e,t));n.setState({branch:i})}),n.state={branch:e.branch},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.branch!=e.branch&&this.setState({branch:this.props.branch})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.branch;return r.a.createElement(N.o,{layout:"inline"},r.a.createElement(N.s,{fieldName:"name",label:"Name",value:n.name,onChange:this.handleChange,validationResults:t,autoFocus:!0}),r.a.createElement(N.r,{className:"mr-0"},r.a.createElement(N.b,{onClick:function(){return e.props.onCancel()}},"Cancel")),r.a.createElement(N.r,null,r.a.createElement(N.b,{onClick:function(){return e.props.onSave(e.state.branch)},type:"primary"},this.props.branch.id?"Update Branch":"Add Branch")))}}]),t}(i.Component),pi=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"save",function(e){e.id?n.props.dispatch(Object(li.updateBranch)(e,n.props.onSave)):n.props.dispatch(Object(li.insertBranch)(e,n.props.onSave))}),T()(g()(n),"cancel",function(){n.props.dispatch(Object(li.receiveBranch)(null))}),T()(g()(n),"newBranch",function(){n.props.dispatch(Object(li.receiveBranch)({id:"",organisationId:n.props.organisationId,name:""}))}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.branch,n=e.validationResults;return r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(ui,{branch:t,validationResults:n,onSave:this.save,onCancel:this.cancel}),!t&&r.a.createElement(N.o,{layout:"inline"},r.a.createElement(N.r,null,r.a.createElement(N.b,{icon:"plus",type:"dashed",onClick:this.newBranch,noLeftMargin:!0,requiredUseCase:"dir_edit_branches"},"Add Branch"))))}}]),t}(i.Component),di=Object(b.c)(function(e){var t=Object(li.branchSelector)(e);return{branch:t.branch,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(pi),mi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadBranches",function(){n.props.dispatch(Object(li.receiveBranch)(null)),n.props.dispatch(Object(li.fetchBranches)(n.props.organisationId))}),T()(g()(n),"editBranch",function(e){n.props.dispatch(Object(li.fetchBranch)(e))}),T()(g()(n),"getActions",function(e){return Object(be.a)("dir_edit_branches",n.props.useCases)?[r.a.createElement("a",{onClick:function(){return n.editBranch(e.id)}},"edit")]:[]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadBranches()}},{key:"componentDidUpdate",value:function(e){e.organisationId!==this.props.organisationId&&this.loadBranches()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(di,{onSave:this.loadBranches,organisationId:this.props.organisationId}),r.a.createElement(de.a,{bordered:!0,className:"mt-1",dataSource:this.props.branches,loading:this.props.fetching,renderItem:function(t){return r.a.createElement(de.a.Item,{actions:e.getActions(t)},t.name)}}))}}]),t}(i.Component),fi=Object(b.c)(function(e){var t=Object(li.branchesSelector)(e);return{branches:t.items,fetching:t.fetching,useCases:Object(_.useCaseSelector)(e)}})(mi),hi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.organisation,T()({},e,t));n.setState({organisation:i}),n.props.onChange(i)}),n.state={organisation:e.organisation},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.organisation!=e.organisation&&this.setState({organisation:this.props.organisation})}},{key:"render",value:function(){var e=this.props.validationResults,t=this.state.organisation;return r.a.createElement(N.o,{editUseCase:"dir_edit_organisations"},r.a.createElement(N.s,{fieldName:"name",label:"Name",value:t.name,onChange:this.handleChange,validationResults:e,autoFocus:!0}))}}]),t}(i.Component),Ei=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.onClose(!1)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.organisation,n.state.organisationEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.props.onClose(!0)}),T()(g()(n),"save",function(){n.state.organisationEdited?n.state.organisationEdited.id?n.props.dispatch(Object(ci.updateOrganisation)(n.state.organisationEdited,n.close)):n.props.dispatch(Object(ci.insertOrganisation)(n.state.organisationEdited,n.close)):n.close()}),T()(g()(n),"onChange",function(e){n.setState({organisationEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),T()(g()(n),"isNew",function(){var e=n.props.organisation;return!(e&&e.id)}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading Organisation";var e=n.props.organisation;return n.isNew()?"Organisation: ".concat(e&&e.name):"New Organisation"}),n.state={organisationEdited:e.organisation,activeTab:"details_tab"},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.organisation!=e.organisation&&this.setState({organisationEdited:this.props.organisation,activeTab:"details_tab"})}},{key:"render",value:function(){var e=this.props,t=e.organisation,n=e.validationResults,i=e.visible;return r.a.createElement(N.m,{title:this.getTitle(),icon:"bank",visible:i,onClose:this.confirmCancel,noTopPadding:!0},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Details",key:"details_tab"},r.a.createElement(hi,{organisation:t,validationResults:n,onChange:this.onChange})),!this.isNew()&&r.a.createElement(N.K,{tab:"Branches",key:"branches_tab"},r.a.createElement(fi,{organisationId:t.id})))),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"dir_edit_organisations"},"Save")))}}]),t}(i.Component),Ci=Object(b.c)(function(e){var t=Object(ci.organisationSelector)(e);return{organisation:t.organisation,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(Ei),gi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadOrganisations",function(){n.props.dispatch(Object(ci.fetchOrganisations)())}),T()(g()(n),"newOrganisation",function(){n.showEditOrganisation({id:"",name:""})}),T()(g()(n),"editOrganisation",function(e){var t=n.props.organisations.find(function(t){return t.id===e});t&&n.showEditOrganisation(t)}),T()(g()(n),"showEditOrganisation",function(e){n.props.dispatch(Object(ci.receiveOrganisation)(e)),n.setState({editVisible:!0})}),T()(g()(n),"closeEditOrganisation",function(e){n.setState({editVisible:!1}),e||n.loadOrganisations()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("name","Name")]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.organisations.length&&this.loadOrganisations()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"bank",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newOrganisation,disabled:this.props.fetching,requiredUseCase:"dir_edit_organisations",requiredRole:si.a},"New Organisation")},"Organisations"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.organisations,loading:this.props.fetching,onRowClick:function(t){return e.editOrganisation(t.id)}}),r.a.createElement(Ci,{visible:this.state.editVisible,onClose:this.closeEditOrganisation}))}}]),t}(i.Component),vi=Object(b.c)(function(e){var t=Object(ci.organisationsSelector)(e);return{organisations:t.items,fetching:t.fetching}})(gi),Si=n("inXv"),yi=n("P93/"),Ti=n("nq8e"),Ii=(n("+vQn"),n("Sdc0")),Oi=n("RIqP"),bi=n.n(Oi),_i=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.role,T()({},e,t));n.setState({role:i}),n.props.onChange(i)}),T()(g()(n),"handleApplicationChange",function(e,t){var i=W()({},n.state.role,{useCaseIds:[]});n.setState({role:i},function(){n.handleChange(e,t)})}),T()(g()(n),"isUseCaseSelected",function(e){return n.state.role.useCaseIds.some(function(t){return t===e})}),T()(g()(n),"toggleUseCaseChange",function(e){var t=bi()(n.state.role.useCaseIds);n.isUseCaseSelected(e)?t=n.state.role.useCaseIds.filter(function(t){return t!==e}):t.push(e),n.handleChange("useCaseIds",t)}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),T()(g()(n),"getApplicationName",function(e){var t=n.props.applications.find(function(t){return t.id===e});return t?t.name:""}),T()(g()(n),"isInsert",function(){return!!n.state.role.id}),n.state={role:e.role,activeTab:"details_tab"},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.role!=e.role&&this.setState({role:this.props.role,activeTab:"details_tab"})}},{key:"render",value:function(){var e=this,t=this.state.role,n=this.props.validationResults;return r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Details",key:"details_tab"},r.a.createElement(N.o,{editUseCase:"dir_edit_roles"},r.a.createElement(N.s,{fieldName:"name",label:"Name",value:t.name,onChange:this.handleChange,disabled:this.isInsert(),validationResults:n}),r.a.createElement(N.s,{fieldName:"description",label:"Description",value:t.description,onChange:this.handleChange,validationResults:n}),r.a.createElement(N.w,{fieldName:"applicationId",label:"Application",value:t.applicationId,onChange:this.handleApplicationChange,validationResults:n,options:this.props.applications,optionsValue:"id",optionsText:"name"}))),r.a.createElement(N.K,{tab:"Use Cases",key:"roles_tab"},r.a.createElement(de.a,{header:r.a.createElement("h4",{className:"mb-0"},this.getApplicationName(t.applicationId)," ","Use Cases"),bordered:!0,size:"small",dataSource:this.props.useCases.filter(function(e){return e.applicationId===t.applicationId}),renderItem:function(t){return r.a.createElement(de.a.Item,{actions:[r.a.createElement(Ii.a,{checked:e.isUseCaseSelected(t.id),size:"small",onChange:function(){return e.toggleUseCaseChange(t.id)}})]},t.name)},className:"mb-2"})))}}]),t}(i.Component),Ni=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"close",function(){n.props.onClose(!1)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.role,n.state.roleEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.props.onClose(!0)}),T()(g()(n),"save",function(){n.state.roleEdited?n.state.roleEdited.id?n.props.dispatch(Object(yi.updateRole)(n.state.roleEdited,n.close)):n.props.dispatch(Object(yi.insertRole)(n.state.roleEdited,n.close)):n.close()}),T()(g()(n),"isLoading",function(){return n.props.fetching}),T()(g()(n),"onChange",function(e){n.setState({roleEdited:e})}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading Role";var e=n.props.role;return e&&e.id?"Edit Role: ".concat(e.name):"New Role"}),n.state={roleEdited:e.role},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.role!=e.role&&this.setState({roleEdited:this.props.role})}},{key:"render",value:function(){var e=this.props,t=e.role,n=e.visible,i=e.validationResults;return r.a.createElement(N.m,{title:this.getTitle(),icon:"safety-certificate",visible:n,onClose:this.confirmCancel,noTopPadding:!0},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(_i,{role:t,validationResults:i,onChange:this.onChange,applications:this.props.applications,useCases:this.props.useCases})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"dir_edit_roles"},"Save")))}}]),t}(i.Component),Ri=Object(b.c)(function(e){var t=Object(yi.roleSelector)(e);return{role:t.role,fetching:t.fetching,updating:t.updating,validationResults:t.validationResults}})(Ni),Pi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadRoles",function(){n.props.dispatch(Object(yi.fetchRoles)())}),T()(g()(n),"loadApplications",function(){n.props.dispatch(Object(Si.fetchApplications)())}),T()(g()(n),"loadUseCases",function(){n.props.dispatch(Object(Ti.fetchUseCases)())}),T()(g()(n),"editRole",function(e){n.props.dispatch(Object(yi.fetchRole)(e)),n.showEditRole()}),T()(g()(n),"getApplicationName",function(e){var t=n.props.applications.find(function(t){return t.id===e});if(t)return t.name}),T()(g()(n),"showEditRole",function(){n.setState({editVisible:!0})}),T()(g()(n),"closeEditRole",function(e){n.setState({editVisible:!1}),e||n.loadRoles()}),T()(g()(n),"newRole",function(){n.props.dispatch(Object(yi.receiveRole)({id:"",name:"",description:"",applicationId:"",useCaseIds:[]})),n.showEditRole()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("name","Name"),Object(Y.getColumn)("description","Description"),Object(Y.getColumn)("applicationId","Application",{render:function(e){return n.getApplicationName(e)},filters:n.props.applications.map(function(e){return{text:e.name,value:e.id}})})]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.roles.length&&this.loadRoles(),0===this.props.applications.length&&this.loadApplications(),0===this.props.useCases.length&&this.loadUseCases()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"safety-certificate",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newRole,disabled:this.props.fetching,requiredUseCase:"dir_edit_roles"},"New Role")},"Roles"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.roles,loading:this.props.fetching,onRowClick:function(t){return e.editRole(t.id)}}),r.a.createElement(Ri,{visible:this.state.editVisible,onClose:this.closeEditRole,applications:this.props.applications,useCases:this.props.useCases}))}}]),t}(i.Component),ji=Object(b.c)(function(e){var t=Object(yi.rolesSelector)(e),n=Object(Si.applicationsSelector)(e),i=Object(Ti.useCasesSelector)(e);return{roles:t.items,applications:n.items,useCases:i.items,fetching:t.fetching||n.fetching||i.fetching}})(Pi),Li=n("zKwP"),Ai=n("h57O"),ki=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadBranchList",function(e){n.setState({branchId:e});var t=n.props.branches.find(function(t){return t.id===e});t&&t.organisationId===n.state.organisationId||(e?n.props.dispatch(Object(li.fetchBranch)(e,function(e){n.setOrganisationId(e.organisationId)})):n.setOrganisationId(n.props.organisations[0].id))}),T()(g()(n),"setOrganisationId",function(e){n.setState({organisationId:e}),n.props.dispatch(Object(li.fetchBranches)(e))}),T()(g()(n),"handleOrganisationChange",function(e,t){n.props.dispatch(Object(li.fetchBranches)(t)),n.props.onChange(""),n.setState({branchId:"",organisationId:t})}),n.state={branchId:"",organisationId:""},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadBranchList(this.props.branchId)}},{key:"componentDidUpdate",value:function(e){this.props.branchId!=e.branchId&&this.props.branchId!=this.state.branchId&&this.loadBranchList(this.props.branchId)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.w,{layout:"horizontal",fieldName:"organisationId",label:"Organisation",value:this.state.organisationId,onChange:this.handleOrganisationChange,validationResults:this.props.validationResults,options:this.props.organisations,optionsValue:"id",optionsText:"name",readonly:this.props.readonly}),r.a.createElement(N.w,{layout:"horizontal",fieldName:"branchId",label:"Branch",value:this.state.branchId,onChange:function(t,n){e.props.onChange(n)},validationResults:this.props.validationResults,options:this.props.branches,optionsValue:"id",optionsText:"name",defaultActiveFirstOption:!1,loading:this.props.fetching,readonly:this.props.readonly}))}}]),t}(i.Component),Mi=Object(b.c)(function(e){var t=Object(li.branchesSelector)(e);return{branches:t.items,fetching:t.fetching}})(ki),wi=n("am9W"),xi="".concat(wi.a.baseApi,"/api/email"),Vi="".concat(xi,"/sendWelcomeEmail"),Di=function(e,t,n){return{type:"API",endpoint:"".concat(Vi,"?userId=").concat(e),onSuccess:t,onFailure:n}},Fi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"sendWelcomeEmail",function(){n.setState({sendingWelcomeEmail:!0}),Object(R.a)("info","Sending Email...",1),n.props.dispatch(Di(n.props.userId,function(){n.setState({sendingWelcomeEmail:!1}),Object(R.a)("success","Email Sent Successfully",2)},function(){n.setState({sendingWelcomeEmail:!1}),Object(R.a)("error","Error sending email",2)}))}),n.state={sendingWelcomeEmail:!1},n}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{onClick:this.sendWelcomeEmail,loading:this.state.sendingWelcomeEmail,type:"primary"},"Send Welcome Email"))}}]),t}(i.Component),Ui=Object(b.c)()(Fi),Gi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"handleChange",function(e,t){var i=W()({},n.state.user,T()({},e,t));n.setState({user:i}),n.props.onChange(i)}),T()(g()(n),"isRoleSelected",function(e){return n.state.user.roles.some(function(t){return t===e})}),T()(g()(n),"toggleRoleChange",function(e){var t=bi()(n.state.user.roles);n.isRoleSelected(e)?t=n.state.user.roles.filter(function(t){return t!==e}):t.push(e),n.handleChange("roles",t)}),T()(g()(n),"onTabChange",function(e){n.setState({activeTab:e})}),n.state={user:e.user,activeTab:"details_tab"},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.user!=e.user&&this.setState({user:this.props.user,activeTab:"details_tab"})}},{key:"render",value:function(){var e=this,t=this.props.validationResults,n=this.state.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.q,{validationResults:t}),r.a.createElement(N.M,{onChange:this.onTabChange,activeKey:this.state.activeTab,sticky:!0},r.a.createElement(N.K,{tab:"Details",key:"details_tab"},r.a.createElement(N.o,{editUseCase:"dir_edit_users"},r.a.createElement(N.s,{fieldName:"firstName",label:"First Name",value:n.firstName,onChange:this.handleChange,validationResults:t,autoFocus:!0}),r.a.createElement(N.s,{fieldName:"lastName",label:"Last Name",value:n.lastName,onChange:this.handleChange,validationResults:t}),r.a.createElement(N.s,{fieldName:"email",label:"Email",value:n.email,onChange:this.handleChange,validationResults:t}),r.a.createElement(N.s,{fieldName:"userName",label:"Username",value:n.userName,onChange:this.handleChange,validationResults:t}),r.a.createElement(Mi,{branchId:n.branchId,organisations:this.props.organisations,validationResults:t,onChange:function(t){return e.handleChange("branchId",t)}}),r.a.createElement(N.w,{fieldName:"scope",label:"Scope",value:n.scope,onChange:this.handleChange,validationResults:t,options:Object(Ai.b)(),optionsValue:"id",optionsText:"name"}))),r.a.createElement(N.K,{tab:"Roles",key:"roles_tab"},this.props.applications.map(function(t){return r.a.createElement(de.a,{key:t.id,header:r.a.createElement("h4",{className:"mb-0"},t.name),bordered:!0,size:"small",dataSource:e.props.roles.filter(function(e){return e.applicationId===t.id}),renderItem:function(t){return r.a.createElement(de.a.Item,{actions:[r.a.createElement(Ii.a,{disabled:!Object(be.a)("dir_edit_users",e.props.useCases),checked:e.isRoleSelected(t.name),onChange:function(){return e.toggleRoleChange(t.name)},size:"small"})]},t.description)},className:"mb-2"})})),r.a.createElement(N.K,{tab:"Aliases",key:"aliases_tab"},r.a.createElement(N.x,{editUseCase:"dir_edit_users",fieldName:"Aliases",displayName:"Alias",values:n.aliases,onChange:function(t){return e.handleChange("aliases",t)},validationResults:t})),n.id&&r.a.createElement(N.K,{tab:"Email",key:"emails_tab"},r.a.createElement(Ui,{userId:n.id}))))}}]),t}(i.Component),Hi=Object(b.c)(function(e){var t=Object(li.branchSelector)(e),n=Object(li.branchesSelector)(e);return{branch:t.branch,branches:n.items,useCases:Object(_.useCaseSelector)(e)}})(Gi),Yi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadApplications",function(){n.props.dispatch(Object(Si.fetchApplications)())}),T()(g()(n),"loadRoles",function(){n.props.dispatch(Object(yi.fetchRoles)())}),T()(g()(n),"close",function(){n.props.onClose(!1)}),T()(g()(n),"confirmCancel",function(){if(!Object(me.c)(n.props.user,n.state.userEdited))return Se({onOk:n.cancel});n.cancel()}),T()(g()(n),"cancel",function(){n.props.onClose(!0)}),T()(g()(n),"save",function(){n.state.userEdited?n.state.userEdited.id?n.props.dispatch(Object(Li.updateUser)(n.state.userEdited,n.close)):n.props.dispatch(Object(Li.insertUser)(n.state.userEdited,n.close)):n.close()}),T()(g()(n),"onChange",function(e){n.setState({userEdited:e})}),T()(g()(n),"isLoading",function(){return n.props.fetching||n.props.updating}),T()(g()(n),"getTitle",function(){if(n.props.fetching)return"Loading User";var e=n.props.user;return e&&e.id?"User: ".concat(e.firstName," ").concat(e.lastName):"New User"}),n.state={userEdited:e.user},n}return S()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.user!=e.user&&this.setState({userEdited:this.props.user}),this.props.visible!=e.visible&&this.props.visible&&this.loadLookupData()}},{key:"loadLookupData",value:function(){0===this.props.roles.length&&this.loadRoles(),0===this.props.applications.length&&this.loadApplications()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.validationResults,i=e.visible;return r.a.createElement(N.m,{title:this.getTitle(),icon:"team",visible:i,onClose:this.confirmCancel,noTopPadding:!0},r.a.createElement(N.j,{isLoading:this.isLoading()},t&&r.a.createElement(Hi,{user:t,validationResults:n,onChange:this.onChange,organisations:this.props.organisations,roles:this.props.roles,applications:this.props.applications})),r.a.createElement(N.n,null,r.a.createElement(N.b,{onClick:this.confirmCancel,disabled:this.isLoading()},"Cancel"),r.a.createElement(N.b,{onClick:this.save,type:"primary",disabled:this.isLoading(),requiredUseCase:"dir_edit_users"},"Save")))}}]),t}(i.Component),Bi=Object(b.c)(function(e){var t=Object(Li.userSelector)(e),n=Object(Si.applicationsSelector)(e),i=Object(yi.rolesSelector)(e);return{user:t.user,applications:n.items,roles:i.items,fetching:t.fetching||n.fetching||i.fetching,updating:t.updating,validationResults:t.validationResults}})(Yi),zi=function(e){function t(e){var n;return u()(this,t),n=f()(this,E()(t).call(this,e)),T()(g()(n),"loadUsers",function(){n.props.dispatch(Object(Li.fetchUsers)()),n.props.dispatch(Object(we.fetchUsersSimple)())}),T()(g()(n),"loadOrganisations",function(){n.props.dispatch(Object(ci.fetchOrganisations)())}),T()(g()(n),"newUser",function(){n.props.dispatch(Object(Li.receiveUser)({id:"",firstName:"",lastName:"",email:"",userName:"",branchId:"",scope:1,roles:[],aliases:[]})),n.showEditUser()}),T()(g()(n),"editUser",function(e){n.props.dispatch(Object(Li.fetchUser)(e)),n.showEditUser()}),T()(g()(n),"getOrganisationName",function(e){var t=n.props.organisations.find(function(t){return t.id===e});if(t)return t.name}),T()(g()(n),"showEditUser",function(){n.setState({editVisible:!0})}),T()(g()(n),"closeEditUser",function(e){n.setState({editVisible:!1}),e||n.loadUsers()}),T()(g()(n),"getColumns",function(){return[Object(Y.getColumn)("lastName","Last Name"),Object(Y.getColumn)("firstName","First Name"),Object(Y.getColumn)("email","Email"),Object(Y.getColumn)("organisationName","Organisation"),Object(Y.getColumn)("branchName","Branch"),Object(Y.getColumn)("emailConfirmed","Activated",{render:function(e){return e?r.a.createElement(Dt.a,{color:"green"},"Yes"):r.a.createElement(Dt.a,{color:"volcano"},"No")}}),Object(Y.getColumn)("scope","Scope",{render:function(e){switch(e){case 1:return r.a.createElement(Dt.a,{color:"purple"},"Organisation");case 2:return r.a.createElement(Dt.a,{color:"blue"},"Branch");case 3:return r.a.createElement(Dt.a,{color:"magenta"},"User")}}})]}),n.state={editVisible:!1},n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.loadUsers(),0===this.props.organisations.length&&this.loadOrganisations()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{icon:"team",actions:r.a.createElement(N.b,{type:"default",icon:"plus",onClick:this.newUser,disabled:this.props.fetching,requiredUseCase:"dir_edit_users"},"New User")},"Users"),r.a.createElement(N.L,{rowKey:"id",columns:this.getColumns(),dataSource:this.props.users,loading:this.props.fetching,onRowClick:function(t){return e.editUser(t.id)}}),r.a.createElement(Bi,{visible:this.state.editVisible,onClose:this.closeEditUser,organisations:this.props.organisations}))}}]),t}(i.Component),qi=Object(b.c)(function(e){var t=Object(Li.usersSelector)(e),n=Object(ci.organisationsSelector)(e);return{users:t.items,organisations:n.items,fetching:t.fetching||n.fetching}})(zi),Ki=(n("M7k7"),n("Ol7k")),Wi=n("1oXi"),Qi=Ki.a.Header,Xi=X.a.Item,Ji={fontSize:"20px",width:"175px",height:"31px",float:"left",color:"#ffffff"},Zi={fontSize:"14px",height:"31px",float:"right",color:"#ffffff",zIndex:12,cursor:"pointer"},$i=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"signOut",function(){n.props.dispatch(Object(_.signOut)())}),T()(g()(n),"getEnvironmentColor",function(){switch(wi.a.environment){case"development":return"#6461A0";case"staging":return"#E84855";default:return"#000000"}}),T()(g()(n),"getEnvironmentName",function(){switch(wi.a.environment){case"development":return"Dev";case"staging":return"Staging";default:return""}}),T()(g()(n),"getPinstripeStyle",function(){return{width:"100%",height:"5px",backgroundColor:n.props.currentApplication.color}}),T()(g()(n),"getMenuItemStyle",function(e){return e.isCurrent?{backgroundColor:"".concat(e.color)}:{}}),n}return S()(t,e),d()(t,[{key:"navigate",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qi,null,r.a.createElement("div",{style:Ji},r.a.createElement(nn.a,{placement:"bottomRight",content:r.a.createElement(N.B,null),title:"My Profile",mouseEnterDelay:1.5},r.a.createElement("span",{style:{fontWeight:100}},"ONE"),r.a.createElement("span",{style:{fontWeight:600}},"ADVISOR"),"production"!==wi.a.environment&&r.a.createElement(Dt.a,{style:{position:"absolute",top:"35px",left:"160px"},color:this.getEnvironmentColor()},this.getEnvironmentName()))),r.a.createElement("div",{style:Zi,onClick:this.signOut},"Signout"),r.a.createElement(X.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},this.props.applications.filter(function(t){return Object(be.d)(e.props.menus[t.id].groups,e.props.useCases)}).map(function(t){return r.a.createElement(Xi,{key:t.id,style:e.getMenuItemStyle(t),onClick:function(){return e.navigate(t.relativePath)}},r.a.createElement(s.a,{type:t.icon,style:{fontSize:"16px"}}),t.name)}))),r.a.createElement("div",{style:this.getPinstripeStyle()}))}}]),t}(i.Component),er=Object(b.c)(function(e){return{menus:Object(Wi.e)(e),applications:Object(Wi.a)(e),currentApplication:Object(Wi.c)(e)||{},useCases:Object(_.useCaseSelector)(e)}})(Object(o.g)($i)),tr=n("55Ip"),nr=n("LiuA"),ir=X.a.SubMenu,rr=X.a.Item,or=Ki.a.Sider,ar=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"getMenuItemStyle",function(e,t){return e.isCurrent?{backgroundColor:"".concat(t.color)}:{}}),n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(or,{width:225,style:{background:"#fff"}},r.a.createElement(X.a,{theme:"dark",mode:"inline",defaultOpenKeys:Object(nr.a)(),style:{height:"100%",borderRight:0},selectedKeys:[]},this.props.menu.groups.filter(function(t){return Object(be.c)(t,e.props.useCases)}).map(function(t){return r.a.createElement(ir,{key:t.name,title:r.a.createElement("span",null,t.name)},t.links.filter(function(t){return Object(be.b)(t.useCases,e.props.useCases)}).map(function(t){return r.a.createElement(rr,{key:t.relativePath,style:e.getMenuItemStyle(t,e.props.application)},r.a.createElement(tr.a,{to:"".concat(e.props.menu.relativePath).concat(t.relativePath)},r.a.createElement("span",null,r.a.createElement(s.a,{type:t.icon}),r.a.createElement("span",null,t.name))))}))})))}}]),t}(i.Component),sr=Object(b.c)(function(e){return{menu:Object(Wi.d)(e),application:Object(Wi.c)(e),useCases:Object(_.useCaseSelector)(e)}})(ar),cr=Ki.a.Content,lr=function(e){function t(){return u()(this,t),f()(this,E()(t).apply(this,arguments))}return S()(t,e),d()(t,[{key:"render",value:function(){return r.a.createElement(Ki.a,{style:{height:"100%"}},r.a.createElement(er,null),r.a.createElement(Ki.a,null,r.a.createElement(sr,null),r.a.createElement(Ki.a,null,r.a.createElement(cr,{style:{background:"#fff",padding:15,paddingTop:0,margin:0,minHeight:280}},this.props.children))))}}]),t}(r.a.Component),ur=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(o))),T()(g()(n),"modal",null),T()(g()(n),"interval",void 0),T()(g()(n),"checkTokenExpired",function(){if(n.props.tokenData){var e=ne.a.unix(n.props.tokenData.exp);ne()().isAfter(e)&&!n.modal&&(n.props.dispatch(Object(_.signOut)()),n.modal=ge.a.info({title:"Session has Expired",content:r.a.createElement("div",null,r.a.createElement("p",null,"Your session has expired, please click OK to sign in again")),onOk:function(){n.props.history.push("/signin")}}))}}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.checkTokenExpired(),this.interval=setInterval(this.checkTokenExpired,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(lr,null,r.a.createElement(o.b,this.props)):r.a.createElement(o.a,{to:"/signin"})}}]),t}(i.Component),pr=Object(o.g)(Object(b.c)(function(e){var t=Object(_.tokenSelector)(e);return{isAuthenticated:Object(_.isAuthenticatedSelector)(e),tokenData:t.tokenData}})(ur)),dr=function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/signin",component:U}),r.a.createElement(o.b,{exact:!0,path:"/activate",component:M}),r.a.createElement(o.b,{exact:!0,path:"/resetPasswordRequest",component:D}),r.a.createElement(o.b,{exact:!0,path:"/resetPassword",component:x}),r.a.createElement(pr,{exact:!0,path:"/",component:Oe}),r.a.createElement(pr,{exact:!0,path:"/client",component:Oe}),r.a.createElement(pr,{exact:!0,path:"/client/clients",component:Oe}),r.a.createElement(pr,{exact:!0,path:"/client/policies",component:Ge}),r.a.createElement(pr,{exact:!0,path:"/client/import",component:Pt}),r.a.createElement(pr,{exact:!0,path:"/client/export",component:Qe}),r.a.createElement(pr,{exact:!0,path:"/client/clients/:clientId",component:Ye}),r.a.createElement(pr,{exact:!0,path:"/commission",component:Ht}),r.a.createElement(pr,{exact:!0,path:"/commission/statements",component:Ht}),r.a.createElement(pr,{exact:!0,path:"/commission/statements/:commissionStatementId",component:Tn}),r.a.createElement(pr,{exact:!0,path:"/commission/templates",component:Hn}),r.a.createElement(pr,{exact:!0,path:"/commission/reports/revenueClient",component:At}),r.a.createElement(pr,{exact:!0,path:"/directory",component:qi}),r.a.createElement(pr,{exact:!0,path:"/directory/users",component:qi}),r.a.createElement(pr,{exact:!0,path:"/directory/organisations",component:vi}),r.a.createElement(pr,{exact:!0,path:"/directory/roles",component:ji}),r.a.createElement(pr,{exact:!0,path:"/directory/lookups/companies",component:ai}),r.a.createElement(pr,{exact:!0,path:"/directory/lookups/commTypes",component:ti}),r.a.createElement(pr,{exact:!0,path:"/directory/audit/logs",component:Wn}))},mr=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=f()(this,(e=E()(t)).call.apply(e,[this].concat(r))),T()(g()(n),"isAccountPage",function(){return"/signin"===n.props.location.pathname}),n}return S()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(Me.fetchAllDirectoryLookups)()),this.props.dispatch(Object(qt.fetchAllCommissionLookups)()),this.props.dispatch(Object(z.fetchAllClientLookups)()),this.props.dispatch({type:"API",endpoint:"".concat(wi.a.baseApi),dispatchPrefix:"CONTEXT_APP_INFO"}),this.loadSecureData()}},{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated&&!e.isAuthenticated&&this.loadSecureData()}},{key:"loadSecureData",value:function(){this.props.isAuthenticated&&this.props.dispatch(Object(we.fetchUsersSimple)())}},{key:"render",value:function(){return this.props.loading&&!this.isAccountPage()?r.a.createElement(N.C,{text:"loading application..."}):r.a.createElement(r.a.Fragment,null,this.props.children)}}]),t}(r.a.Component),fr=Object(o.g)(Object(b.c)(function(e){var t=Object(Me.directoryLookupsSelector)(e),n=Object(qt.commissionLookupsSelector)(e),i=Object(z.clientLookupsSelector)(e);return{loading:t.fetching||n.fetching||i.fetching,isAuthenticated:Object(_.isAuthenticatedSelector)(e)}})(mr));t.default=function(){return r.a.createElement(fr,null,r.a.createElement(dr,null))}},j8Mc:function(e,t){},jHDd:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("DP+r"),r=n("tj7V"),o=function(){return{type:"API",endpoint:i.a,onSuccess:function(e,t){t(Object(r.receiveCompanies)(e.companies))},dispatchPrefix:"DIRECTORY_LOOKUPS"}}},jTke:function(e,t){},jgpw:function(e,t,n){"use strict";var i=n("lsCE");n.o(i,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return i.ClientTypeId}),n.o(i,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return i.clientLookupsSelector}),n.o(i,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return i.clientTypesSelector}),n.o(i,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return i.contactTypesSelector}),n.o(i,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return i.fetchAllClientLookups}),n.o(i,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return i.policyTypesSelector}),n.o(i,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return i.receiveClientTypes}),n.o(i,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return i.receiveContactTypes}),n.o(i,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return i.receiveMarritalStatus}),n.o(i,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return i.receivePolicyTypes});var r=n("T55+");n.d(t,"receiveMarritalStatus",function(){return r.a});var o=n("W8Bw");n.d(t,"marritalStatusSelector",function(){return o.a})},"kE2/":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i=n("DP+r"),r=function(e){return{type:"BRANCHES_BRANCH_RECEIVE",payload:e}},o=function(e,t){return{type:"API",endpoint:"".concat(i.d,"/").concat(e),onSuccess:t,dispatchPrefix:"BRANCHES_BRANCH"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.d,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"BRANCHES_BRANCH_EDIT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.d),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"BRANCHES_BRANCH_EDIT"}}},kL6p:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.clients.search},function(e){return e})},kug3:function(e,t,n){"use strict";var i=n("lKLj");n.o(i,"fetchAuditLogs")&&n.d(t,"fetchAuditLogs",function(){return i.fetchAuditLogs}),n.o(i,"receiveFilters")&&n.d(t,"receiveFilters",function(){return i.receiveFilters}),n.o(i,"receivePageOptions")&&n.d(t,"receivePageOptions",function(){return i.receivePageOptions}),n.o(i,"receiveSortOptions")&&n.d(t,"receiveSortOptions",function(){return i.receiveSortOptions});var r=n("YlNm");n.d(t,"fetchAuditLogs",function(){return r.a}),n.d(t,"receiveFilters",function(){return r.b}),n.d(t,"receivePageOptions",function(){return r.c}),n.d(t,"receiveSortOptions",function(){return r.d});var o=n("x/Vn");n.d(t,"auditLogsSelector",function(){return o.a})},l4AT:function(e,t,n){"use strict";var i=n("MRQ6");n.o(i,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return i.ClientTypeId}),n.o(i,"clientLookupsSelector")&&n.d(t,"clientLookupsSelector",function(){return i.clientLookupsSelector}),n.o(i,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return i.clientTypesSelector}),n.o(i,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return i.contactTypesSelector}),n.o(i,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return i.fetchAllClientLookups}),n.o(i,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return i.marritalStatusSelector}),n.o(i,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return i.receiveClientTypes}),n.o(i,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return i.receiveContactTypes}),n.o(i,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return i.receiveMarritalStatus}),n.o(i,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return i.receivePolicyTypes});var r=n("hw8q");n.d(t,"receivePolicyTypes",function(){return r.a});var o=n("L3Yf");n.d(t,"policyTypesSelector",function(){return o.a})},l5xo:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DP+r"),r=function(){return{type:"API",endpoint:i.i,dispatchPrefix:"USECASES_LIST"}}},lKLj:function(e,t){},lYOk:function(e,t,n){"use strict";n("8/o9");var i=n("tsqr"),r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;i.a[e](t,n)},o=(n("O+I2"),n("TeRw")),a=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6.5;o.a[e]({message:t,description:n,duration:i})};n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},lf2Q:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i=n("Lq9/"),r=function(e){return{type:"COMMISSIONS_STATEMENT_TEMPLATE_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.d,"/").concat(e),dispatchPrefix:"COMMISSIONS_STATEMENT_TEMPLATE"}},a=function(e,t,n){return{type:"API",endpoint:"".concat(i.d,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,onFailure:n,dispatchPrefix:"COMMISSIONS_STATEMENT_TEMPLATE_EDIT"}},s=function(e,t,n){return{type:"API",endpoint:"".concat(i.d),method:"POST",payload:e,onSuccess:t,onFailure:n,dispatchPrefix:"COMMISSIONS_STATEMENT_TEMPLATE_EDIT"}}},lsCE:function(e,t){},m4BV:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.clients.merge},function(e){return e})},mhXT:function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,"#root,\n#root > div {\n    height: 100%;\n}\n\n.custom-filter-dropdown {\n    padding: 8px;\n    border-radius: 4px;\n    background: #fff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n",""])},mnec:function(e,t){},"n/Ll":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("QJI5"),r=n("DP+r"),o=function(e){var t=r.d;return{type:"API",endpoint:t=Object(i.a)(t,{organisationId:[e]}),dispatchPrefix:"BRANCHES_LIST"}}},nXMC:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.roles.list},function(e){return e})},nq8e:function(e,t,n){"use strict";var i=n("QE2Q");n.o(i,"fetchUseCases")&&n.d(t,"fetchUseCases",function(){return i.fetchUseCases});var r=n("l5xo");n.d(t,"fetchUseCases",function(){return r.a});var o=n("AbcW");n.d(t,"useCasesSelector",function(){return o.a})},oBco:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("QJI5"),r=n("+Y4i"),o=function(e){var t=r.a;return t=Object(i.b)(t,{number:1,size:100}),t=Object(i.c)(t,{column:"lastName",direction:"asc"}),{type:"API",endpoint:t=Object(i.a)(t,e),dispatchPrefix:"CLIENTS_SEARCH"}}},oTtv:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i=n("DP+r"),r=function(e){return{type:"ROLES_ROLE_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.h,"/").concat(e),dispatchPrefix:"ROLES_ROLE"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.h,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"ROLES_ROLE_EDIT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.h),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"ROLES_ROLE_EDIT"}}},ovV9:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("DP+r"),r=n("QkX6"),o=function(){return{type:"API",endpoint:i.a,onSuccess:function(e,t){t(Object(r.receiveCommissionTypes)(e.commissionTypes)),t(Object(r.receiveCommissionEarningsTypes)(e.commissionEarningsTypes)),t(Object(r.receiveCommissionStatementTemplateFieldNames)(e.commissionStatementTemplateFieldNames))},dispatchPrefix:"COMMISSION_LOOKUPS"}}},pbsF:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.statements.list},function(e){return e})},plwz:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.errors.list},function(e){return e})},pmqn:function(e,t,n){"use strict";var i=n("YJ5K");n.o(i,"ClientTypeId")&&n.d(t,"ClientTypeId",function(){return i.ClientTypeId}),n.o(i,"clientTypesSelector")&&n.d(t,"clientTypesSelector",function(){return i.clientTypesSelector}),n.o(i,"contactTypesSelector")&&n.d(t,"contactTypesSelector",function(){return i.contactTypesSelector}),n.o(i,"fetchAllClientLookups")&&n.d(t,"fetchAllClientLookups",function(){return i.fetchAllClientLookups}),n.o(i,"marritalStatusSelector")&&n.d(t,"marritalStatusSelector",function(){return i.marritalStatusSelector}),n.o(i,"policyTypesSelector")&&n.d(t,"policyTypesSelector",function(){return i.policyTypesSelector}),n.o(i,"receiveClientTypes")&&n.d(t,"receiveClientTypes",function(){return i.receiveClientTypes}),n.o(i,"receiveContactTypes")&&n.d(t,"receiveContactTypes",function(){return i.receiveContactTypes}),n.o(i,"receiveMarritalStatus")&&n.d(t,"receiveMarritalStatus",function(){return i.receiveMarritalStatus}),n.o(i,"receivePolicyTypes")&&n.d(t,"receivePolicyTypes",function(){return i.receivePolicyTypes});var r=n("fYBf");n.d(t,"fetchAllClientLookups",function(){return r.a});var o=n("PLDE");n.d(t,"clientLookupsSelector",function(){return o.a})},"qCx+":function(e,t){},qFfV:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.roles.role},function(e){return e})},qp6Q:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("QJI5"),r=n("+Y4i"),o=function(e){var t=r.d;return{type:"API",endpoint:t=Object(i.a)(t,e),dispatchPrefix:"CONTACTS_LIST"}}},"r+YW":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i=function(e){return{type:"AUTH_TOKEN_RECEIVE",payload:e}},r=function(){return i(null)}},r6oB:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return{type:"CLIENTTYPES_LIST_RECEIVE",payload:e}}},"ruQ+":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return{type:"COMMISSIONEARNINGSTYPE_LIST_RECEIVE",payload:e}}},"sR/1":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.branches.branch},function(e){return e})},"t+rW":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c});var i=n("Lq9/"),r=function(e){return{type:"STATEMENTS_STATEMENT_RECEIVE",payload:e}},o=function(e){return{type:"API",endpoint:"".concat(i.e,"/").concat(e),dispatchPrefix:"STATEMENTS_STATEMENT"}},a=function(e,t){return{type:"API",endpoint:"".concat(i.e,"/").concat(e.id),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"STATEMENTS_STATEMENT_EDIT"}},s=function(e,t){return{type:"API",endpoint:"".concat(i.e),method:"POST",payload:e,onSuccess:t,dispatchPrefix:"STATEMENTS_STATEMENT_EDIT"}},c=function(e,t){return{type:"API",endpoint:"".concat(i.e,"/").concat(e,"/commissions"),method:"DELETE",onSuccess:t}}},t2zP:function(e,t,n){"use strict";var i=n("IOS4");n.o(i,"clientImportNextStep")&&n.d(t,"clientImportNextStep",function(){return i.clientImportNextStep}),n.o(i,"clientImportPreviousStep")&&n.d(t,"clientImportPreviousStep",function(){return i.clientImportPreviousStep}),n.o(i,"clientImportProgressPercentSelector")&&n.d(t,"clientImportProgressPercentSelector",function(){return i.clientImportProgressPercentSelector}),n.o(i,"clientImportSelectedColumnsSelector")&&n.d(t,"clientImportSelectedColumnsSelector",function(){return i.clientImportSelectedColumnsSelector}),n.o(i,"clientImportSelector")&&n.d(t,"clientImportSelector",function(){return i.clientImportSelector}),n.o(i,"clientImportTableRowsSelector")&&n.d(t,"clientImportTableRowsSelector",function(){return i.clientImportTableRowsSelector}),n.o(i,"importClient")&&n.d(t,"importClient",function(){return i.importClient}),n.o(i,"importClientClearResults")&&n.d(t,"importClientClearResults",function(){return i.importClientClearResults}),n.o(i,"importClientReset")&&n.d(t,"importClientReset",function(){return i.importClientReset}),n.o(i,"receiveClientImportClients")&&n.d(t,"receiveClientImportClients",function(){return i.receiveClientImportClients}),n.o(i,"receiveClientImportData")&&n.d(t,"receiveClientImportData",function(){return i.receiveClientImportData}),n.o(i,"receiveClientImportFileName")&&n.d(t,"receiveClientImportFileName",function(){return i.receiveClientImportFileName}),n.o(i,"receiveClientImportPolicyCompany")&&n.d(t,"receiveClientImportPolicyCompany",function(){return i.receiveClientImportPolicyCompany}),n.o(i,"receiveClientImportSelectedColumns")&&n.d(t,"receiveClientImportSelectedColumns",function(){return i.receiveClientImportSelectedColumns}),n.o(i,"removeClientImportClient")&&n.d(t,"removeClientImportClient",function(){return i.removeClientImportClient}),n.o(i,"updateClientImportPolicyCompanies")&&n.d(t,"updateClientImportPolicyCompanies",function(){return i.updateClientImportPolicyCompanies});var r=n("NXkO");n.d(t,"clientImportProgressPercentSelector",function(){return r.a}),n.d(t,"clientImportSelectedColumnsSelector",function(){return r.b}),n.d(t,"clientImportSelector",function(){return r.c}),n.d(t,"clientImportTableRowsSelector",function(){return r.d});var o=n("V+TH");n.d(t,"clientImportNextStep",function(){return o.a}),n.d(t,"clientImportPreviousStep",function(){return o.b}),n.d(t,"importClient",function(){return o.c}),n.d(t,"importClientClearResults",function(){return o.d}),n.d(t,"importClientReset",function(){return o.e}),n.d(t,"receiveClientImportClients",function(){return o.f}),n.d(t,"receiveClientImportData",function(){return o.g}),n.d(t,"receiveClientImportFileName",function(){return o.h}),n.d(t,"receiveClientImportPolicyCompany",function(){return o.i}),n.d(t,"receiveClientImportSelectedColumns",function(){return o.j}),n.d(t,"removeClientImportClient",function(){return o.k}),n.d(t,"updateClientImportPolicyCompanies",function(){return o.l})},tdG1:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l});var i=n("QJI5"),r=n("+Y4i"),o=function(e,t,n){var o=r.f;return o=Object(i.b)(o,e),o=Object(i.c)(o,t),{type:"API",endpoint:o=Object(i.a)(o,n),dispatchPrefix:"POLICIES_LIST"}},a=function(e){return{type:"POLICIES_LIST_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"POLICIES_LIST_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e){return{type:"POLICIES_LIST_FILTERS_RECEIVE",payload:e}},l=function(e,t,n){var o=r.f;return o=Object(i.b)(o,t),{type:"API",endpoint:o=Object(i.a)(o,e),onSuccess:function(e){n(e.items)}}}},tj7V:function(e,t,n){"use strict";var i=n("P3mh");n.o(i,"companiesSelector")&&n.d(t,"companiesSelector",function(){return i.companiesSelector}),n.o(i,"directoryLookupsSelector")&&n.d(t,"directoryLookupsSelector",function(){return i.directoryLookupsSelector}),n.o(i,"fetchAllDirectoryLookups")&&n.d(t,"fetchAllDirectoryLookups",function(){return i.fetchAllDirectoryLookups}),n.o(i,"receiveCompanies")&&n.d(t,"receiveCompanies",function(){return i.receiveCompanies});var r=n("PoK7");n.o(r,"companiesSelector")&&n.d(t,"companiesSelector",function(){return r.companiesSelector}),n.o(r,"directoryLookupsSelector")&&n.d(t,"directoryLookupsSelector",function(){return r.directoryLookupsSelector}),n.o(r,"fetchAllDirectoryLookups")&&n.d(t,"fetchAllDirectoryLookups",function(){return r.fetchAllDirectoryLookups}),n.o(r,"receiveCompanies")&&n.d(t,"receiveCompanies",function(){return r.receiveCompanies})},tvWd:function(e,t,n){"use strict";var i=n("++qQ");n.d(t,"defaultPageOptions",function(){return i.a}),n.d(t,"defaultSortOptions",function(){return i.b});var r=n("1d1z");n.d(t,"getColumn",function(){return r.a}),n.d(t,"getColumnEDS",function(){return r.b});n("x5/C")},u1lo:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.errors.format},function(e){return e})},u77W:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.lookups.commissionStatementTemplateFieldNames.list},function(e){return e})},u7Z0:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("ExRG"),r=n("r+YW"),o=function(e,t){return{type:"API",endpoint:"".concat(i.d),method:"POST",payload:e,dispatchPrefix:"AUTH_SIGNIN",hideNotifications:!0,onSuccess:function(e,n){n(Object(r.a)(e.token)),t(e,n)}}}},uWf2:function(e,t,n){"use strict";var i=n("qCx+");n.o(i,"commissionStatementTemplateSelector")&&n.d(t,"commissionStatementTemplateSelector",function(){return i.commissionStatementTemplateSelector}),n.o(i,"fetchCommissionStatementTemplate")&&n.d(t,"fetchCommissionStatementTemplate",function(){return i.fetchCommissionStatementTemplate}),n.o(i,"fetchCommissionStatementTemplates")&&n.d(t,"fetchCommissionStatementTemplates",function(){return i.fetchCommissionStatementTemplates}),n.o(i,"insertCommissionStatementTemplate")&&n.d(t,"insertCommissionStatementTemplate",function(){return i.insertCommissionStatementTemplate}),n.o(i,"receiveCommissionStatementTemplate")&&n.d(t,"receiveCommissionStatementTemplate",function(){return i.receiveCommissionStatementTemplate}),n.o(i,"updateCommissionStatementTemplate")&&n.d(t,"updateCommissionStatementTemplate",function(){return i.updateCommissionStatementTemplate});var r=n("fIm2");n.d(t,"fetchCommissionStatementTemplates",function(){return r.a});var o=n("xb2B");n.d(t,"commissionStatementTemplatesSelector",function(){return o.a});var a=n("lf2Q");n.d(t,"fetchCommissionStatementTemplate",function(){return a.a}),n.d(t,"insertCommissionStatementTemplate",function(){return a.b}),n.d(t,"receiveCommissionStatementTemplate",function(){return a.c}),n.d(t,"updateCommissionStatementTemplate",function(){return a.d});var s=n("2vcg");n.d(t,"commissionStatementTemplateSelector",function(){return s.a})},unMk:function(e,t,n){"use strict";var i=function(e,t){var n=!0;return e&&(n=-1!==t.indexOf(e)),n},r=function(e,t){var n=!0;return e&&(n=e.some(function(e){return i(e,t)})),n},o=function(e,t){return e.links.some(function(e){return r(e.useCases,t)})},a=function(e,t){return e.some(function(e){return o(e,t)})};n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a})},uxc5:function(e,t,n){"use strict";var i=n("OdAA");n.o(i,"fetchUsersSimple")&&n.d(t,"fetchUsersSimple",function(){return i.fetchUsersSimple});var r=n("bQXf");n.d(t,"fetchUsersSimple",function(){return r.a});var o=n("AiQ3");n.d(t,"usersSimpleSelector",function(){return o.a});n("feVg"),n("cgcG")},vqJa:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.statements.preview},function(e){return e})},vwnz:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("MVZn"),r=n.n(i),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r()({id:"",userId:"",number:"",companyId:"",clientId:"",premium:null,startDate:"",policyTypeId:null},e)}},w747:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c});var i=n("ExRG"),r=n("Q378"),o=function(e,t){return s(e,t,"".concat(i.a))},a=function(e,t){return s(e,t,"".concat(i.b))},s=function(e,t,n){return{type:"API",endpoint:n,method:"POST",payload:e,dispatchPrefix:"AUTH_RESETPASSWORD",hideValidationNotifications:!0,onSuccess:function(e,n){n(Object(r.recieveToken)(e.tag)),t(e,n)}}},c=function(e,t,n){return{type:"API",endpoint:"".concat(i.c),method:"POST",payload:e,onSuccess:t,onFailure:n}}},"x/Vn":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.audit.logs.list},function(e){return e})},"x5/C":function(e,t){},xFs7:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var i=n("Lq9/"),r=function(e,t){return{type:"API",endpoint:"".concat(i.e,"/").concat(e,"/errors/").concat(t),dispatchPrefix:"COMMISSIONS_ERROR_MAPPING"}},o=function(e){return{type:"API",endpoint:"".concat(i.e,"/").concat(e,"/errors/next?hasValidFormat=true"),dispatchPrefix:"COMMISSIONS_ERROR_MAPPING"}},a=function(e){return{type:"COMMISSIONS_ERROR_MAPPING_RECEIVE",payload:e}},s=function(e,t,n){return{type:"API",endpoint:"".concat(i.e,"/").concat(e,"/errors/resolve/mapping"),method:"POST",payload:t,onSuccess:n,dispatchPrefix:"COMMISSIONS_ERROR_MAPPING_EDIT"}}},xWep:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var i=n("G4qV"),r=Object(i.a)(function(e){return e.auth.token},function(e){return e}),o=Object(i.a)(r,function(e){return null!=e.token}),a=Object(i.a)(r,function(e){return e.tokenData&&e.tokenData.useCaseIds?e.tokenData.useCaseIds:[]}),s=Object(i.a)(r,function(e){return e.tokenData?e.tokenData["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]:[]})},xb2B:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.commission.templates.list},function(e){return e})},xi7i:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c});var i=n("QJI5"),r=n("Lq9/"),o=function(e,t,n){var o="".concat(r.a,"/clientRevenueData");return o=Object(i.b)(o,e),o=Object(i.c)(o,t),{type:"API",endpoint:o=Object(i.a)(o,n),dispatchPrefix:"COMMISSIONS_REPORT_MEM_REVENUE"}},a=function(e){return{type:"COMMISSIONS_REPORT_MEM_REVENUE_PAGE_OPTIONS_RECEIVE",payload:e}},s=function(e){return{type:"COMMISSIONS_REPORT_MEM_REVENUE_SORT_OPTIONS_RECEIVE",payload:e}},c=function(e){return{type:"COMMISSIONS_REPORT_MEM_REVENUE_FILTERS_RECEIVE",payload:e}}},y9kQ:function(e,t){},z6ay:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.client.clients.preview},function(e){return e})},zKwP:function(e,t,n){"use strict";var i=n("YnBa");n.o(i,"fetchUser")&&n.d(t,"fetchUser",function(){return i.fetchUser}),n.o(i,"fetchUsers")&&n.d(t,"fetchUsers",function(){return i.fetchUsers}),n.o(i,"insertUser")&&n.d(t,"insertUser",function(){return i.insertUser}),n.o(i,"receiveUser")&&n.d(t,"receiveUser",function(){return i.receiveUser}),n.o(i,"updateUser")&&n.d(t,"updateUser",function(){return i.updateUser}),n.o(i,"userSelector")&&n.d(t,"userSelector",function(){return i.userSelector});var r=n("d5rn");n.d(t,"fetchUsers",function(){return r.a});var o=n("ct87");n.d(t,"usersSelector",function(){return o.a});var a=n("hTu4");n.d(t,"fetchUser",function(){return a.a}),n.d(t,"insertUser",function(){return a.b}),n.d(t,"receiveUser",function(){return a.c}),n.d(t,"updateUser",function(){return a.d});var s=n("dshj");n.d(t,"userSelector",function(){return s.a})},zdRX:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("G4qV"),r=Object(i.a)(function(e){return e.app.directory.lookups.all},function(e){return e})}},[["2YZa",1,2]]]);